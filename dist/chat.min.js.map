{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///chat.min.js","webpack:///webpack/bootstrap 3e7b2ab5b02972216625","webpack:///./src/index.js","webpack:///./src/events/index.js","webpack:///./src/state/index.js","webpack:///./src/utils/index.js","webpack:///./~/lodash/assign.js","webpack:///./src/templates/index.js","webpack:///../client-sdk/lib/web.js","webpack:///./src/profile/index.js","webpack:///./src/styles.js","webpack:///./~/lodash/_assignValue.js","webpack:///./~/lodash/_apply.js","webpack:///./~/lodash/_baseRest.js","webpack:///./~/lodash/_copyObject.js","webpack:///./~/lodash/_createAssigner.js","webpack:///./~/lodash/_isIterateeCall.js","webpack:///./~/lodash/_overArg.js","webpack:///./~/lodash/eq.js","webpack:///./~/lodash/isArrayLike.js","webpack:///./~/lodash/isFunction.js","webpack:///./~/lodash/isLength.js","webpack:///./~/lodash/isObject.js","webpack:///./~/lodash/keys.js","webpack:///./src/layouts/cc-validator/templates/base.html","webpack:///./src/layouts/choose-location-type/templates/base.html","webpack:///./src/layouts/choose/templates/button.html","webpack:///./src/layouts/choose/templates/submit.html","webpack:///./src/layouts/error/templates/base.html","webpack:///./src/layouts/form/templates/base.html","webpack:///./src/layouts/form/templates/field.html","webpack:///./src/layouts/show-locations/templates/add-location-item.html","webpack:///./src/layouts/show-locations/templates/add-locations-item.html","webpack:///./src/layouts/show-locations/templates/base.html","webpack:///./src/layouts/show-locations/templates/create-dom-array.html","webpack:///./src/layouts/show-locations/templates/hours-closed.html","webpack:///./src/layouts/show-locations/templates/hours-open.html","webpack:///./src/layouts/show-locations/templates/hours-timezone.html","webpack:///./src/layouts/show-locations/templates/hours-today-closed.html","webpack:///./src/layouts/show-locations/templates/hours-today-open.html","webpack:///./src/layouts/show-locations/templates/hours-today-unknown.html","webpack:///./src/layouts/show-locations/templates/hours-unknown.html","webpack:///./src/styles.css","webpack:///./src/templates/input.html","webpack:///./src/templates/loading.html","webpack:///./src/templates/receive.html","webpack:///./src/templates/send.html","webpack:///./src/templates/start.html","webpack:///./src/bootstrap.js","webpack:///./src/context/index.js","webpack:///./src/events/handlers/chatid.js","webpack:///./src/events/handlers/clear.js","webpack:///./src/events/handlers/error.js","webpack:///./src/events/handlers/index.js","webpack:///./src/events/handlers/input.js","webpack:///./src/events/handlers/receive.js","webpack:///./src/events/handlers/reset.js","webpack:///./src/events/handlers/resize.js","webpack:///./src/events/handlers/scroll-to-bottom.js","webpack:///./src/events/handlers/send-input-message.js","webpack:///./src/events/handlers/send-mock.js","webpack:///./src/events/handlers/send.js","webpack:///./src/events/handlers/start.js","webpack:///./src/events/handlers/try-it.js","webpack:///./src/layouts/cc-validator/index.js","webpack:///./src/layouts/cc-validator/validation.js","webpack:///./src/layouts/choose-location-type/index.js","webpack:///./src/layouts/choose/index.js","webpack:///./src/layouts/error/index.js","webpack:///./src/layouts/form/index.js","webpack:///./src/layouts/index.js","webpack:///./src/layouts/request-geolocation-latlong/index.js","webpack:///./src/layouts/request-geolocation-zipcode/index.js","webpack:///./src/layouts/show-locations/index.js","webpack:///./src/utils/resize.js","webpack:///./src/utils/writeMessage.js"],"names":["root","factory","exports","module","define","amd","IBMChat","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","i","Object","prototype","hasOwnProperty","_m","args","slice","fn","a","b","apply","concat","bootstrap","init","restart","destroy","clear","send","message","receive","sendMock","sendSilently","registerLayout","layout","enableCustomInputHandler","config","disableCustomInputHandler","focusInput","disableInput","enableInput","subscribe","subscribeOnce","publish","eventName","data","profile","get","set","has","delete","forEach","currentSubscriptions","state","obj","context","debug","version","completeEvent","response","silent","events","unsubscribe","event","handler","undefined","hasSubscription","action","subscriptions","length","subscription","index","push","bind","remove","subscribeMany","cb","current","wasSubscription","DEBUG","console","log","indexOf","warn","updated","assign","states","getState","setState","destroyState","debounce","func","wait","immediate","timeout","arguments","later","callNow","clearTimeout","setTimeout","serialize","str","encodeURIComponent","join","compile","options","keys","key","split","getUUID","d","Date","getTime","window","performance","now","replace","r","Math","random","floor","toString","hasClass","element","className","thatClass","appendToEach","appendTo","content","clone","cloneNode","appendChild","isVisible","elem","offsetWidth","offsetHeight","getClientRects","checkVisibility","_currentVisibilityCheck","endVisibilityCheck","checkRoot","el","document","getElementById","nodeType","getSDKConfig","SDKconfig","baseURL","withCredentials","XIBMClientID","XIBMClientSecret","userID","userLatLon","writeMessage","resize","addResizeListener","removeResizeListener","assignValue","copyObject","createAssigner","isArrayLike","isPrototype","objectProto","propertyIsEnumerable","nonEnumShadows","valueOf","object","source","input","start","loading","isArray","val","isArrayBuffer","isFormData","FormData","isArrayBufferView","result","ArrayBuffer","isView","t","buffer","isString","isNumber","isUndefined","isObject","isDate","isFile","isBlob","isFunction","isStream","pipe","isURLSearchParams","URLSearchParams","trim","isStandardBrowserEnv","createElement","l","merge","defaultSetTimout","Error","defaultClearTimeout","runTimeout","fun","cachedSetTimeout","e","runClearTimeout","marker","cachedClearTimeout","cleanUpNextTick","draining","currentQueue","queue","queueIndex","drainQueue","len","run","Item","array","noop","process","nextTick","Array","title","browser","env","argv","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","binding","name","cwd","chdir","dir","umask","utils","buildURL","parseHeaders","transformData","isURLSameOrigin","btoa","settle","resolve","reject","requestData","requestHeaders","headers","request","XMLHttpRequest","loadEvent","xDomain","NODE_ENV","XDomainRequest","url","onprogress","ontimeout","auth","username","password","Authorization","open","method","toUpperCase","params","paramsSerializer","readyState","status","responseHeaders","getAllResponseHeaders","responseData","responseType","responseText","transformResponse","statusText","onerror","err","code","cookies","xsrfValue","read","xsrfCookieName","xsrfHeaderName","toLowerCase","setRequestHeader","progress","upload","addEventListener","fns","Axios","defaultConfig","defaults","interceptors","InterceptorManager","dispatchRequest","isAbsoluteURL","combineURLs","transformRequest","common","chain","promise","Promise","interceptor","unshift","fulfilled","rejected","then","shift","defaultInstance","axios","create","all","promises","spread","handlers","use","eject","h","adapter","setContentTypeIfUnset","value","normalizeHeaderName","PROTECTION_PREFIX","DEFAULT_CONTENT_TYPE","Content-Type","JSON","stringify","parse","Accept","patch","post","put","maxContentLength","validateStatus","thisArg","E","block","charCode","String","output","idx","map","chars","charAt","charCodeAt","encode","serializedParams","parts","v","toISOString","relativeURL","write","expires","path","domain","secure","cookie","toGMTString","match","RegExp","decodeURIComponent","test","resolveURL","href","msie","urlParsingNode","setAttribute","protocol","host","search","hash","hostname","port","pathname","originURL","navigator","userAgent","location","requestURL","parsed","normalizedName","line","substr","callback","arr","__WEBPACK_AMD_DEFINE_RESULT__","global","lib$es6$promise$utils$$objectOrFunction","x","lib$es6$promise$utils$$isFunction","lib$es6$promise$asap$$setScheduler","scheduleFn","lib$es6$promise$asap$$customSchedulerFn","lib$es6$promise$asap$$setAsap","asapFn","lib$es6$promise$asap$$asap","lib$es6$promise$asap$$useNextTick","lib$es6$promise$asap$$flush","lib$es6$promise$asap$$useVertxTimer","lib$es6$promise$asap$$vertxNext","lib$es6$promise$asap$$useMutationObserver","iterations","observer","lib$es6$promise$asap$$BrowserMutationObserver","node","createTextNode","observe","characterData","lib$es6$promise$asap$$useMessageChannel","channel","MessageChannel","port1","onmessage","port2","postMessage","lib$es6$promise$asap$$useSetTimeout","lib$es6$promise$asap$$len","lib$es6$promise$asap$$queue","arg","lib$es6$promise$asap$$attemptVertx","vertx","runOnLoop","runOnContext","lib$es6$promise$then$$then","onFulfillment","onRejection","parent","child","constructor","lib$es6$promise$$internal$$noop","lib$es6$promise$$internal$$PROMISE_ID","lib$es6$promise$$internal$$makePromise","_state","lib$es6$promise$$internal$$invokeCallback","_result","lib$es6$promise$$internal$$subscribe","lib$es6$promise$promise$resolve$$resolve","Constructor","lib$es6$promise$$internal$$resolve","lib$es6$promise$$internal$$selfFulfillment","TypeError","lib$es6$promise$$internal$$cannotReturnOwn","lib$es6$promise$$internal$$getThen","error","lib$es6$promise$$internal$$GET_THEN_ERROR","lib$es6$promise$$internal$$tryThen","fulfillmentHandler","rejectionHandler","lib$es6$promise$$internal$$handleForeignThenable","thenable","sealed","lib$es6$promise$$internal$$fulfill","reason","lib$es6$promise$$internal$$reject","_label","lib$es6$promise$$internal$$handleOwnThenable","lib$es6$promise$$internal$$FULFILLED","lib$es6$promise$$internal$$REJECTED","lib$es6$promise$$internal$$handleMaybeThenable","maybeThenable","lib$es6$promise$then$$default","lib$es6$promise$promise$resolve$$default","lib$es6$promise$$internal$$publishRejection","_onerror","lib$es6$promise$$internal$$publish","lib$es6$promise$$internal$$PENDING","_subscribers","subscribers","settled","detail","lib$es6$promise$$internal$$ErrorObject","lib$es6$promise$$internal$$tryCatch","lib$es6$promise$$internal$$TRY_CATCH_ERROR","succeeded","failed","hasCallback","lib$es6$promise$$internal$$initializePromise","resolver","lib$es6$promise$$internal$$nextId","lib$es6$promise$$internal$$id","lib$es6$promise$promise$all$$all","entries","lib$es6$promise$enumerator$$default","lib$es6$promise$promise$race$$race","lib$es6$promise$utils$$isArray","lib$es6$promise$promise$reject$$reject","lib$es6$promise$promise$$needsResolver","lib$es6$promise$promise$$needsNew","lib$es6$promise$promise$$Promise","lib$es6$promise$enumerator$$Enumerator","_instanceConstructor","_input","_remaining","_enumerate","lib$es6$promise$enumerator$$validationError","lib$es6$promise$polyfill$$polyfill","local","self","Function","P","cast","lib$es6$promise$promise$$default","lib$es6$promise$utils$$_isArray","lib$es6$promise$asap$$scheduleFlush","lib$es6$promise$asap$$browserWindow","lib$es6$promise$asap$$browserGlobal","MutationObserver","WebKitMutationObserver","lib$es6$promise$asap$$isNode","lib$es6$promise$asap$$isWorker","Uint8ClampedArray","importScripts","substring","lib$es6$promise$promise$all$$default","lib$es6$promise$promise$race$$default","lib$es6$promise$promise$reject$$default","race","_setScheduler","_setAsap","_asap","catch","_eachEntry","entry","_settledAt","_willSettleAt","enumerator","lib$es6$promise$polyfill$$default","lib$es6$promise$umd$$ES6Promise","polyfill","ES6Promise","storage","api","profileDataRe","insertUserProfileData","msg","flatten","matches","reduce","prof","SDK","configure","X-IBM-Client-Id","X-IBM-Client-Secret","botID","requestID","uuid","endpoint","X-Request-ID","res","chatID","dialog_id","onError","baseProperty","baseTimes","n","iteratee","overArg","transform","objValue","eq","baseHas","getPrototype","baseRest","nativeMax","otherArgs","props","customizer","newValue","assigner","sources","guard","isIterateeCall","indexKeys","isLength","isArguments","isIndex","MAX_SAFE_INTEGER","reIsUint","type","Ctor","proto","other","isArrayLikeObject","objectToString","argsTag","getLength","isObjectLike","tag","funcTag","genTag","stringTag","isProto","baseKeys","indexes","skipIndexes","nativeGetPrototype","getPrototypeOf","nativeKeys","max","webpackPolyfill","deprecate","paths","children","BotSDK","_attachStylesToDOM","styles","css","classList","add","chatStyleID","styleSheet","cssText","getElementsByTagName","_getStyles","containerClass","noOpacityBackgroundArray","_hexToRGBArray","normalizeToHex","background","noOpacityBackground","opacityBackground","fontSize","fontFamily","text","secondaryBackground","secondaryText","accentBackground","accentText","errorBackground","errorText","inputBackground","inputText","link","_placeHolderColor","rgb_beginning","rgb_end","w","w1","w2","rgb","parseInt","rgba","color","rgb2hex","hex","convertHexToRGBA","opacity","g","attachPlaybackStyles","attachStyles","removeStyles","elements","querySelectorAll","parentNode","removeChild","defaultStyles","stubFalse","registerEvents","tryIt","playback","eventHandlers","enableLoadingInput","disableLoadingInput","scrollToBottom","retry","sendInputMessage","clearError","reset","layoutError","actionError","intent","registerLayouts","layouts","showLocations","chooseLocationType","requestGeolocationLatlong","requestGeolocationZipcode","choose","form","creditCard","registeredLayouts","layoutInit","active","defaultState","mapsServer","originalContent","innerHTML","handleInput","default","minSeconds","errorHandler","errorHandlerContext","httpError","defaultSetup","onResize","prefix","classes","filter","lastIndexOf","messages","inputClone","chatHolder","loader","querySelector","errorCount","errorMessageMap","basic","loaderRetryMessage","loaderFailure","loaderFailureMessage","loaderFailureMessageText","innerText","sendQueue","inProgress","removeAttribute","templates","retryAttempt","loaderText","textContent","focus","_actions","_layouts","_intents","getIntentField","log_data","wva_top_intent","intents","show_intent_link","intentElement","_receive","msgText","containers","datas","turnElm","holder","msgData","layoutElement","msgElement","_getHeight","getComputedStyle","getPropertyValue","_resize","maxInputPercentage","newState","containerHeight","chatHolderHeight","chatHolderMaxHeight","inputHolderHeight","rootHeight","clientHeight","rootWidth","clientWidth","maxInputHeight","calculatedMaxInputHeight","cloneHeight","inputHeight","newInputClone","currentInputClone","chatChanged","isLarge","debugResize","chat","style","width","height","inputContainer","innerContainer","maxHeight","duration","startTime","endTime","startTop","scrollTop","previousTop","distance","scrollHeight","scrolling","setInterval","clearInterval","point","smoothStep","frameTop","round","end","_sendMock","newData","data.uuid","_send","addToSendQueue","agentSend","newQueue","sent","received","sendToBot","delay","newTime","diff","starttime","minWaitTime","addState","outerContainer","container","chatBox","placeholder","inputHolder","preventDefault","target","dataset","keyCode","overflow","originalInputHeight","_addDataSet","count","label","blueprint","CreditCard","validation","activeClassName","inactiveClassName","ns","widgets","base","creditCardLayout","widget","acceptedCards","types","parentElement","formData","drawForm","subscribeSend","removeAllEventListeners","cancelButton","submitButton","formElements","fields","field","getAttribute","cc_full_name","addListeners","addError","errorElement","cc_exp_date_month","valid","cc_exp_date_year","display","removeError","validate_cc_full_name","validate_cc_number","cc","validateCard","cc_number","validate_cc_exp_date","exp","validateExp","validate_cc_code","cvv","validateCVV","cc_code","validate","preprocessFormData","handleKeyup","handleSubmit","fd","cc_exp_date","cc_last_four_digits","handleCancel","removeEventListener","j","_detectCard","cardData","prefixes","cardNumber","cardType","_checkLuhn","calc","checksum","Number","_invalid","_valid","cardElement","required","invalid","acceptedCard","lengths","userM","userY","monthRegexp","yearRegexp","month","getMonth","year","getFullYear","invalidExpiration","invalidDigits","yearNotInRange","beforeCurrentMonth","CVV","CVVRegex","invalidCvv","cards","human","middle","visa","mastercard","amex","discover","ChooseLocationType","chooseLocationTypes","chooseLocationTypeLayout","values","postalcode","geolocation","eventListeners","values.geolocation","values.postalcode","buttons","handleClick","Choose","button","submit","chooseLayout","allowMultiple","inputvalidation","someOf","oneOf","drawButtons","tmpl","buttonHolder","submitBtn","addSubmitListener","handleMultiClick","instance","errors","errorLayout","Form","formLayout","store","removeEventListeners","formFields","cancel","datum","addEventListeners","validateFields","setFocusOnError","allFieldsAreValid","fieldIsValid","validateField","validations","validationRegex","regex","errorEl","removeAllErrors","els","attr","showLocationsLayout","requestGeolocationLatlongLayout","requestGeolocationZipcodeLayout","RequestGeolocationLatlong","requestGeolocationLatlongs","LOCATION_TIMEOUT","timedOut","timeoutCheck","handleLocationNotShared","permissions","query","getCurrentPosition","position","handleLocationShared","coords","latitude","longitude","string","initialSize","breakpointWidths","currentBreakpointKey","getWidth","sameSize","sizeMap","locationIDs","reDrawMap","createEmails","item","linkEl","email","phones","itemChild","createDomArray","typeEl","dataEl","createPhoneArray","items","number","formatAMPM","time","hours","minutes","ampm","createHours","hoursEl","moreHoursEl","timezone","timezoneEl","o","isOpen","today","getDay","todaysHours","close","hoursTodayOpen","hoursTodayUnknown","hoursTodayClosed","tzChildEl","hoursTimezone","compressedHours","bothClosed","sameHours","day","days","last","endDay","startDay","childEl","openDay","closeDay","currentDay","hoursOpen","hoursUnknown","hoursClosed","distanceLength","toFixed","distanceLengthMeasure","distanceMeasure","ShowLocations","first","displayLength","pixelRatio","devicePixelRatio","addLocationsItem","addLocationItem","strings","locations","none","single","list","showLocation","alphaMap","location_data","mapElement","dataElement","drawLocations","addDetails","subscribeReceive","addLocations","addLocation","convertColor","img","size","scale","zoom","uri","address","lat","lng","inputs","hoursFunction","hoursButton","locationsFunction","locationsButton","locationData","createDom","phone","moreHours","backHolder","back","parentEl","dom","hasPhones","hasDays","iconText","resizeListener","win","srcElement","__resizeRAF__","cancelFrame","requestFrame","trigger","__resizeTrigger__","__resizeListeners__","objectLoad","contentDocument","defaultView","__resizeElement__","raf","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","cancelAnimationFrame","mozCancelAnimationFrame","webkitCancelAnimationFrame","attachEvent","onload","splice","detachEvent","ParseContent","validLink","startsWith","isValidURL","pattern","cls","addLineEndings","addUrls","addEmails","s","attributes","newContent","splitter","linked","newtext"],"mappings":"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","file":"chat.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"IBMChat\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"IBMChat\"] = factory();\n\telse\n\t\troot[\"IBMChat\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"IBMChat\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"IBMChat\"] = factory();\n\telse\n\t\troot[\"IBMChat\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ((function(modules) {\n\t// Check all modules for deduplicated modules\n\tfor(var i in modules) {\n\t\tif(Object.prototype.hasOwnProperty.call(modules, i)) {\n\t\t\tswitch(typeof modules[i]) {\n\t\t\tcase \"function\": break;\n\t\t\tcase \"object\":\n\t\t\t\t// Module can be created from a template\n\t\t\t\tmodules[i] = (function(_m) {\n\t\t\t\t\tvar args = _m.slice(1), fn = modules[_m[0]];\n\t\t\t\t\treturn function (a,b,c) {\n\t\t\t\t\t\tfn.apply(this, [a,b,c].concat(args));\n\t\t\t\t\t};\n\t\t\t\t}(modules[i]));\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\t// Module is a copy of another module\n\t\t\t\tmodules[i] = modules[modules[i]];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\treturn modules;\n}([\n/* 0 */\n/*!**********************!*\\\n  !*** ./src/index.js ***!\n  \\**********************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\n\t* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n\t*\n\t* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n\t* in compliance with the License. You may obtain a copy of the License at\n\t*\n\t* http://www.apache.org/licenses/LICENSE-2.0\n\t*\n\t* Unless required by applicable law or agreed to in writing, software distributed under the License\n\t* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n\t* or implied. See the License for the specific language governing permissions and limitations under\n\t* the License.\n\t*/\n\t\n\tvar bootstrap = __webpack_require__(/*! ./bootstrap */ 47);\n\t\n\t/**\n\t * @namespace IBMChat\n\t */\n\t\n\tvar IBMChat = {\n\t  /**\n\t   * Generate the chat widget into an element.\n\t   * @function init\n\t   * @memberof IBMChat\n\t   * @param {Object} config\n\t   * @param {string} config.el - Takes a string representing the ID of an html element to be rendered to OR a selected element\n\t   * @param {string} config.botID - The unique identifier of your Virtual Agent.\n\t   * @param {string} config.userID - optional: A one-way hashed non-identifiable (e.g. not a users email address or public user id) unique ID used for tracking in the Engagement Metrics dashboard.\n\t   * @param {string} config.userLatLon -  optional: A lat,lon string (e.g. 28.3852,-81.5639) used for tracking in the Engagement Metrics dashboard.\n\t   * @param {string} config.baseURL=https://api.ibm.com/virtualagent/run/api/v1/ - optional: specifies a different bot hosting server. The most common use-case for this param is to point the widget to a server that will add X-IBM-Client-Id and X-IBM-Client-Secret headers to the request.\n\t   * @param {string} config.XIBMClientID - optional: Your IBMClientID... this should not be made public in a public environment. Including this will add X-IBM-Client-Id as a header to your request.\n\t   * @param {string} config.XIBMClientSecret - optional: Your IBMClientSecret... this should not be made public in a public environment. Including this will add X-IBM-Client-Secret as a header to your request.\n\t   * @param {Function} config.errorHandler - optional: A function that takes an error object as a param if there is a problem with communicating with your Virtual Agent. By default, if an error is received, the user is escalated to a live agent. You may, however, want to handle some errors differently (401 for instance)\n\t   * @param {Object} config.errorHandlerContext - optional: A \"this\" value for the errorHandler.\n\t   * @param {Object} config.styles - optional: Override default styling.\n\t   * @param {string} config.styles.background=rgba(61,61,61,1) - optional: rgba(X, X, X, X) or hex code for background color\n\t   * @param {string} config.styles.text=#ffffff - optional: rgba(X, X, X, X) or hex code for main text color\n\t   * @param {string} config.styles.link=#ffffff - optional: rgba(X, X, X, X) or hex code for color of links in text\n\t   * @param {string} config.styles.secondaryBackground=rgba(90,90,90,1) - optional: rgba(X, X, X, X) or hex code for background color of chat bubbles and other secondary info\n\t   * @param {string} config.styles.secondaryText=rgba(247,247,247,1) - optional: rgba(X, X, X, X) or hex code for color of chat bubble text and other secondary info\n\t   * @param {string} config.styles.inputBackground=rgba(90,90,90,1) - optional: rgba(X, X, X, X) or hex code for background color of input elements in forms\n\t   * @param {string} config.styles.inputText=rgba(247,247,247,1) - optional: rgba(X, X, X, X) or hex code for color of input text in forms\n\t   * @param {string} config.styles.accentText=#ffffff - optional: rgba(X, X, X, X) or hex code for text colors to be used in conjunction with accentBackground e.g. button text\n\t   * @param {string} config.styles.accentBackground=#BA8FF7 - optional: rgba(X, X, X, X) or hex code for accent colors used by the chat application e.g. buttons\n\t   * @param {string} config.styles.errorText=#ffffff - optional: rgba(X, X, X, X) or hex code for text colors to be used in conjunction with errorBackground e.g. button text\n\t   * @param {string} config.styles.errorBackground=#e86e6e - optional: rgba(X, X, X, X) or hex code for error colors used by the chat application e.g. validation buttons\n\t   * @param {string} config.styles.fontFamily=HelveticaNeue,Helvetica,sans-serif - optional: comma seperated list of fonts to use\n\t   * @param {string} config.styles.fontSize=15px - optional: base font size to use\n\t   * @example\n\t   * IBMChat.init({\n\t   *  el: 'my_div',\n\t   *  botID: 'xxxxxxxxxxxxxx'\n\t   *  styles: {\n\t   *    background: \"#000000\"\n\t   *  }\n\t   * }).then(function(){\n\t   *     console.log('initialize');\n\t   * });\n\t   * //or\n\t   * var el = document.querySelector('.my-widget-container');\n\t   * IBMChat.init({\n\t   *  el: el,\n\t   *  botID: 'xxxxxxxxxxxxxx'\n\t   *  styles: {\n\t   *    background: \"#000000\"\n\t   *  }\n\t   * }).then(function(){\n\t   *     console.log('initialize');\n\t   * });\n\t   * @returns {Promise} Returns: A promise so you can call functions after the widget has been initialized.\n\t   */\n\t  init: bootstrap.init,\n\t  /**\n\t   * Please use either IBMChat.clear() or IBMChat.destroy() and IBMChat.init() in conjunction instead of this method. This method destroys the chat widget and re-intitializes it. The same chat widget is rendered in the same html element as was specified in the init method. **Action subscriptions and custom layouts are NOT reincluded**.\n\t   * @function restart\n\t   * @deprecated\n\t   * @memberof IBMChat\n\t   * @example\n\t   * IBMChat.restart().then(function(){\n\t   *     console.log('restarted');\n\t   * });\n\t   * @returns {Promise} Returns: A promise so you can call functions after the widget has been initialized.\n\t   */\n\t  restart: bootstrap.restart,\n\t  /**\n\t   * Destroy the chat widget and restore the original HTML content. Useful if the chat widget is displayed in a modal, for example, and you want it to go away when the modal is closed.\n\t   * @function destroy\n\t   * @memberof IBMChat\n\t   * @example\n\t   * IBMChat.destroy().then(function(){\n\t   *     console.log('destroyed');\n\t   * });\n\t   * @returns {Promise} Returns: A promise so you can call functions after the widget has been destroyed.\n\t   */\n\t  destroy: bootstrap.destroy,\n\t  /**\n\t   * Clear the chat widget of its current conversation and start a new conversation with the Virtual Agent\n\t   * @function clear\n\t   * @memberof IBMChat\n\t   * @example\n\t   * IBMChat.clear().then(function(){\n\t   *     console.log('cleared');\n\t   * });\n\t   * @returns {Promise} Returns: A promise so you can call functions after the widget has been cleared.\n\t   */\n\t  clear: bootstrap.clear,\n\t  /**\n\t   * Send a message to the chat widget from outside the chat widget. This message will be displayed in the interface.\n\t   * @function send\n\t   * @memberof IBMChat\n\t   * @param {string} message - A message you want to send to the chat widget.\n\t   * @returns {IBMChat} - Returns IBMChat for chaining.\n\t   * @example\n\t   * IBMChat.send('Hello world.');\n\t   */\n\t  send: function(message) {\n\t    bootstrap.send(message);\n\t    return IBMChat;\n\t  },\n\t\n\t  /**\n\t   * Mock receiving a message to the chat widget from outside the chat widget.\n\t   * @function receive\n\t   * @memberof IBMChat\n\t   * @param {string} message - A message you want to show as received in the chat widget.\n\t   * @returns {IBMChat} - Returns IBMChat for chaining.\n\t   * @example\n\t   * IBMChat.receive('Hello world.');\n\t   */\n\t  receive: function(message) {\n\t    bootstrap.receive(message);\n\t    return IBMChat;\n\t  },\n\t\n\t  /**\n\t   * Send a message to the chat widget from outside the chat widget. This message will be displayed in the interface, but will not actually get sent to the server.\n\t   * @function sendMock\n\t   * @memberof IBMChat\n\t   * @param {string} message - A message you want to pretend to send to the chat widget.\n\t   * @returns {IBMChat} - Returns IBMChat for chaining.\n\t   * @example\n\t   * IBMChat.sendMock('Hello world.');\n\t   */\n\t  sendMock: function(message) {\n\t    bootstrap.sendMock(message);\n\t    return IBMChat;\n\t  },\n\t\n\t  /**\n\t   * Send a message to the chat widget from outside the chat widget. This message will NOT be displayed in the interface.\n\t   * @function sendSilently\n\t   * @memberof IBMChat\n\t   * @param {string} message - A message you want to send to the chat widget, but not de displayed in the interface.\n\t   * @returns {IBMChat} - Returns IBMChat for chaining.\n\t   * @example\n\t   * IBMChat.sendSilently('Hello world.');\n\t   */\n\t  sendSilently: function(message) {\n\t    bootstrap.sendSilently(message);\n\t    return IBMChat;\n\t  },\n\t\n\t  /**\n\t   * Register a custom layout with the chat widget. Call registerLayout() before you call init().\n\t   * @function registerLayout\n\t   * @memberof IBMChat\n\t   * @param {string} layout - The name of the layout your bot will provide when it is triggered to render a layout.\n\t   * @param {function} init - A function that runs one time, when the chat widget is bootstrapped. Be sure to subscribe to the \"layout:YOUR_LAYOUT_NAME\" event in this function.\n\t   * @returns {IBMChat} - Returns IBMChat for chaining.\n\t   * @example\n\t   * var PlumberBrothers = require('../plumber-brothers-game');\n\t   * var config = {};\n\t   *\n\t   * function initGame() {\n\t   *   IBMChat.subscribe('layout:plumber-brothers-game', function(obj) {\n\t   *     var uuid = obj.uuid;\n\t   *     var parentElement = obj.element;\n\t   *     var layoutElement = obj.layoutElement;\n\t   *     var msgElement = obj.msgElement;\n\t   *     var message = obj.message;\n\t   *     var data = obj.data;\n\t   *     msgElement.textContent = 'Loading Plumber Brothers!';\n\t   *     var brothers = new PlumberBrothers();\n\t   *     brothers.render(layoutElement, data).then(function() {\n\t   *       msgElement.textContent = 'Enjoy your game of Plumber Brothers!';\n\t   *     });\n\t   *   }\n\t   * });\n\t   *\n\t   * IBMChat.registerLayout('plumber-brothers-game', initGame);\n\t   * IBMChat.init(config);\n\t   */\n\t  registerLayout: function(layout, init) {\n\t    bootstrap.registerLayout(layout, init);\n\t    return IBMChat;\n\t  },\n\t\n\t  /**\n\t   * Override how inputs into the chat text box are handled. e.g. you may wish to send messages to your live agent instead of to your virtual agent.\n\t   * @function enableCustomInputHandler\n\t   * @memberof IBMChat\n\t   * @param {Object} config\n\t   * @param {function} config.callback - A function that receives a message and resolve and reject functions as params\n\t   * @param {boolean} config.context - (optional) A value for \"this\" in your callback function\n\t   * @returns {IBMChat} - Returns IBMChat for chaining.\n\t   * @example\n\t   * IBMChat.enableCustomInputHandler({\n\t   *   callback: function(message, resolve, reject) {\n\t   *     //do something like send the message to your live customer service rep\n\t   *     IBMChat.receive('A message from your live customer service rep');\n\t   *     resolve(); // gets rid of loading spinner and allows the chat text box to accept another message\n\t   *     // reject(error);\n\t   *  }\n\t   * });\n\t   */\n\t\n\t  enableCustomInputHandler: function(config) {\n\t    bootstrap.enableCustomInputHandler(config);\n\t    return IBMChat;\n\t  },\n\t\n\t  /**\n\t   * Return chat input boxes handling to the default provided handler.\n\t   * @function disableCustomInputHandler\n\t   * @memberof IBMChat\n\t   * @returns {IBMChat} - Returns IBMChat for chaining.\n\t   * @example\n\t   * IBMChat.disableCustomInputHandler();\n\t   */\n\t\n\t  disableCustomInputHandler: function() {\n\t    bootstrap.disableCustomInputHandler();\n\t    return IBMChat;\n\t  },\n\t\n\t  /**\n\t   * Set focus to the chat text box. Useful if you want users to be able to just start typing into the text box without having to click in the text box first to set focus.\n\t   * @function focusInput\n\t   * @memberof IBMChat\n\t   * @returns {IBMChat} - Returns IBMChat for chaining.\n\t   * @example\n\t   * IBMChat.focusInput();\n\t   */\n\t\n\t  focusInput: function() {\n\t    bootstrap.focusInput();\n\t    return IBMChat;\n\t  },\n\t  /**\n\t   * Prevent users from submitting messages in the chat text box. Useful when you want the user to interact with a layout instead.\n\t   * @function disableInput\n\t   * @memberof IBMChat\n\t   * @returns {IBMChat} - Returns IBMChat for chaining.\n\t   * @example\n\t   * IBMChat.disableInput();\n\t   */\n\t  disableInput: function() {\n\t    bootstrap.disableInput();\n\t    return IBMChat;\n\t  },\n\t\n\t  /**\n\t   * Enable users to submit messages in the chat text box. Useful when you want users to be able to return to adding messages to the chat text box after interacting with a layout.\n\t   * @function enableInput\n\t   * @memberof IBMChat\n\t   * @returns {IBMChat} - Returns IBMChat for chaining.\n\t   * @example\n\t   * IBMChat.enableInput();\n\t   */\n\t  enableInput: function() {\n\t    bootstrap.enableInput();\n\t    return IBMChat;\n\t  },\n\t\n\t\n\t  /**\n\t   * Subscribe to an IBMChat event. See [./EVENTS.md](./EVENTS.md) for more details.\n\t   * @function subscribe\n\t   * @memberof IBMChat\n\t   * @param {string} eventName - Takes a string representing the name of the event\n\t   * @param {function} callback - function to run when event is called\n\t   * @param context - optional: value of \"this\" in the function\n\t   * @returns {Object} - Returns object with a .remove function to destroy the subscription\n\t   * @example\n\t   * var mySubscription = IBMChat.subscribe('the-end-of-the-world', function(message) {\n\t   *   console.log(message);\n\t   *   mySubscription.remove(); // remove subscription\n\t   * });\n\t   */\n\t  subscribe: bootstrap.subscribe,\n\t\n\t  /**\n\t   * Subscribe to an IBMChat event and auto unsubscribe when called.\n\t   * @function subscribeOnce\n\t   * @memberof IBMChat\n\t   * @param {string} eventName - Takes a string representing the name of the event\n\t   * @param {function} callback - function to run when event is called\n\t   * @param context - optional: value of \"this\" in the function\n\t   * @returns {Object} - Returns object with a .remove function to destroy the subscription\n\t   * @example\n\t   * var mySubscription = IBMChat.subscribeOnce('the-end-of-the-world', function(message) {\n\t   *   console.log(message);\n\t   * });\n\t   */\n\t  subscribeOnce: bootstrap.subscribeOnce,\n\t  /**\n\t   * Publish an IBMChat event. See [./EVENTS.md](./EVENTS.md) for more details.\n\t   * @function publish\n\t   * @memberof IBMChat\n\t   * @param {string} eventName - A string that represents the name of the event data\n\t   * @param data - Data to pass to the callback function of any subscribed functions. Accepts any data type.\n\t   * @returns {IBMChat} - Returns IBMChat for chaining.\n\t   * @example\n\t   * IBMChat.publish('the-end-of-the-world', 'panic!');\n\t   */\n\t  publish: function(eventName, data) {\n\t    bootstrap.publish(eventName, data);\n\t    return IBMChat;\n\t  },\n\t  /**\n\t   * @namespace profile\n\t   * @memberof IBMChat\n\t   */\n\t  profile: {\n\t    /**\n\t    * Get an item from the user profile based on key.\n\t    * @memberof IBMChat.profile\n\t    * @function get\n\t    * @param {string} key - The named key of the value you are accessing.\n\t    * @example\n\t    * IBMChat.profile.get('first_name');\n\t    * @returns {Any} Returns: the value of the key in the profile map.\n\t    */\n\t    get: bootstrap.profile.get,\n\t    /**\n\t    * Set an item from the user profile based on key.\n\t    * @memberof IBMChat.profile\n\t    * @function set\n\t    * @param {string} key - The named key of the value you are setting.\n\t    * @param {string} value - The value you are setting.\n\t    * @example\n\t    * IBMChat.profile.set('first_name', 'john');\n\t    */\n\t    set: bootstrap.profile.set,\n\t    /**\n\t    * See if an item from the user profile exists based on key.\n\t    * @memberof IBMChat.profile\n\t    * @function has\n\t    * @param {string} key - The named key of the value you are checking the existence of.\n\t    * @example\n\t    * IBMChat.profile.has('first_name');\n\t    * @returns {Boolean} - Boolean indicating if the key exists.\n\t    */\n\t    has: bootstrap.profile.has,\n\t    /**\n\t    * Clear the entire user profile.\n\t    * @memberof IBMChat.profile\n\t    * @function clear\n\t    * @example\n\t    * IBMChat.profile.clear();\n\t    */\n\t    clear: bootstrap.profile.clear,\n\t    /**\n\t    * Delete an item from the user profile based on key.\n\t    * @memberof IBMChat.profile\n\t    * @function delete\n\t    * @param {string} key - The named key of the value you are deleting.\n\t    * @example\n\t    * IBMChat.profile.delete('first_name');\n\t    */\n\t    delete: bootstrap.profile.delete,\n\t    /**\n\t    * Iterate over the profile.\n\t    * @memberof IBMChat.profile\n\t    * @function forEach\n\t    * @param {function} callback - The function you are calling on each item in the profile object. This function is passed key as the first argument and value as the second argument.\n\t    * @param {Object} this - (optional) The context you wish to call the callback in.\n\t    * @example\n\t    * IBMChat.profile.forEach(function(key, value) {\n\t    *   console.log(key, value);\n\t    * });\n\t    */\n\t    forEach: bootstrap.profile.forEach\n\t  },\n\t  /**\n\t   * See a list of current event subscriptions. See [./EVENTS.md](./EVENTS.md) for more details.\n\t    * @function currentSubscriptions\n\t   * @memberof IBMChat\n\t   * @returns {Array} - Array of events and callbacks.\n\t   * @example\n\t   * IBMChat.currentSubscriptions();\n\t   */\n\t  currentSubscriptions: bootstrap.currentSubscriptions,\n\t  /**\n\t   * @namespace state\n\t   * @memberof IBMChat\n\t   */\n\t  state: {\n\t    /**\n\t    * @memberof IBMChat.state\n\t    * @function get\n\t    * @example\n\t    * IBMChat.state.get();\n\t    * @returns {Object} Returns: the current application state.\n\t    */\n\t    get: bootstrap.state.get,\n\t    /**\n\t    * @memberof IBMChat.state\n\t    * @function set\n\t    * @param {Object} newState - The key/value pairs put here will merge with current application state.\n\t    * @returns {IBMChat} - Returns IBMChat for chaining.\n\t    * @example\n\t    * IBMChat.state.set({\n\t    *      \"first_name\": \"Bob\"\n\t    * });\n\t    */\n\t    set: function(obj) {\n\t      bootstrap.state.set(obj);\n\t      return IBMChat;\n\t    }\n\t  },\n\t  /**\n\t   * @namespace context\n\t   * @memberof IBMChat\n\t   */\n\t  context: {\n\t    /**\n\t    * For [use with Custom Workspaces](https://www.ibm.com/watson/developercloud/doc/conversation/dialog-build.html#context-variables)\n\t    * @memberof IBMChat.context\n\t    * @function get\n\t    * @example\n\t    * IBMChat.context.get();\n\t    * @returns {Object} Returns: the current content.\n\t    */\n\t    get: bootstrap.context.get,\n\t    /**\n\t    * @memberof IBMChat.context\n\t    * @function set\n\t    * @param {Object} newContext - The key/value pairs put here will merge with current context variables.\n\t    * @returns {IBMChat} - Returns IBMChat for chaining.\n\t    * @example\n\t    * IBMChat.context.set({\n\t    *      \"first_name\": \"Bob\"\n\t    * });\n\t    */\n\t    set: function(obj) {\n\t      bootstrap.context.set(obj);\n\t      return IBMChat;\n\t    }\n\t  },\n\t\n\t  /**\n\t   * Turns on a whole bunch of verbose console.log statements!\n\t   * @function debug\n\t   * @memberof IBMChat\n\t   * @returns {IBMChat} - Returns IBMChat for chaining.\n\t   * @example\n\t   * IBMChat.debug()\n\t   */\n\t  debug: function() {\n\t    bootstrap.debug();\n\t    return IBMChat;\n\t  },\n\t\n\t  /**\n\t   * String of current version of the chat widget.\n\t   * @memberof IBMChat\n\t   * @example\n\t   * IBMChat.version\n\t   */\n\t  version: (\"1.5.0\")\n\t\n\t};\n\t\n\t\n\tmodule.exports = IBMChat;\n\n\n/***/ },\n/* 1 */\n/*!*****************************!*\\\n  !*** ./src/events/index.js ***!\n  \\*****************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\n\t* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n\t*\n\t* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n\t* in compliance with the License. You may obtain a copy of the License at\n\t*\n\t* http://www.apache.org/licenses/LICENSE-2.0\n\t*\n\t* Unless required by applicable law or agreed to in writing, software distributed under the License\n\t* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n\t* or implied. See the License for the specific language governing permissions and limitations under\n\t* the License.\n\t*/\n\t\n\tvar state = __webpack_require__(/*! ../state */ 2);\n\t\n\tvar events = [];\n\t\n\tfunction completeEvent(response) {\n\t  switch (response) {\n\t  case true:\n\t    publish('send', {\n\t      message: 'success',\n\t      silent: true\n\t    });\n\t    break;\n\t  case false:\n\t    publish('send', {\n\t      message: 'failure',\n\t      silent: true\n\t    });\n\t    break;\n\t  default:\n\t    publish('send', {\n\t      message: 'cancel',\n\t      silent: true\n\t    });\n\t  }\n\t}\n\t\n\tfunction destroy() {\n\t  events = [];\n\t}\n\t\n\tfunction unsubscribe(event, handler, context) {\n\t  if (typeof context === undefined)\n\t    context = handler;\n\t}\n\t\n\tfunction currentSubscriptions() {\n\t  return events.slice(0);\n\t}\n\t\n\tfunction hasSubscription(action) {\n\t  var subscriptions = currentSubscriptions();\n\t  for (var i = 0; i < subscriptions.length; i++) {\n\t    var subscription = subscriptions[i];\n\t    if (subscription && subscription.event === action)\n\t      return true;\n\t    if (i === subscriptions.length - 1)\n\t      return false;\n\t  }\n\t}\n\t\n\tfunction subscribe(event, handler, context, subscribeOnce) {\n\t  if (typeof context === undefined)\n\t    context = handler;\n\t  var index = events.push({ event: event, handler: handler.bind(context), subscribeOnce: (subscribeOnce) ? true : false }) - 1;\n\t  if (!subscribeOnce) {\n\t    return {\n\t      remove: function() {\n\t        delete events[index];\n\t      }\n\t    };\n\t  }\n\t}\n\t\n\tfunction subscribeMany(event, handler, context) {\n\t  return subscribe(event, handler, context, false);\n\t}\n\t\n\tfunction subscribeOnce(event, handler, context) {\n\t  subscribe(event, handler, context, true);\n\t}\n\t\n\tfunction publish(event, data, cb) {\n\t  var current = state.get();\n\t  var wasSubscription = false;\n\t  for (var i = 0; i < events.length; i++) {\n\t    if (events[i] && events[i].event && events[i].event === event) {\n\t      if (current.DEBUG) {\n\t        wasSubscription = true;\n\t        if (event !== 'resize')\n\t          console.log('Subscription to ' + event + ' was called: ', data);\n\t      }\n\t      events[i].handler.call(undefined, data, cb);\n\t      if (events[i] && events[i].subscribeOnce === true)\n\t        delete events[i];\n\t    }\n\t  }\n\t  if (current.DEBUG && event.indexOf('layout') == -1 && !wasSubscription)\n\t    console.warn('Nothing is subscribed to ' + event);\n\t}\n\t\n\tmodule.exports = {\n\t  destroy: destroy,\n\t  unsubscribe: unsubscribe,\n\t  currentSubscriptions: currentSubscriptions,\n\t  hasSubscription: hasSubscription,\n\t  subscribe: subscribeMany,\n\t  subscribeOnce: subscribeOnce,\n\t  publish: publish,\n\t  completeEvent: completeEvent\n\t};\n\n\n/***/ },\n/* 2 */\n/*!****************************!*\\\n  !*** ./src/state/index.js ***!\n  \\****************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n\t*\n\t* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n\t* in compliance with the License. You may obtain a copy of the License at\n\t*\n\t* http://www.apache.org/licenses/LICENSE-2.0\n\t*\n\t* Unless required by applicable law or agreed to in writing, software distributed under the License\n\t* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n\t* or implied. See the License for the specific language governing permissions and limitations under\n\t* the License.\n\t*/\n\t\n\tvar states = [];\n\tvar state = {};\n\tvar assign = __webpack_require__(/*! lodash/assign */ 4);\n\t\n\tfunction get() {\n\t  return state;\n\t}\n\tfunction destroy() {\n\t  state = {};\n\t  set({});\n\t}\n\t\n\tfunction set(updated) {\n\t  state = assign({}, state, updated);\n\t  if (state.DEBUG) {\n\t    states.push(state);\n\t    console.log('STATE HISTORY: ', states);\n\t    console.log('NEW STATE: ', state);\n\t  }\n\t}\n\t\n\tmodule.exports ={\n\t  get: get,\n\t  set: set,\n\t  destroy: destroy,\n\t  getState: get,\n\t  setState: set,\n\t  destroyState: destroy\n\t};\n\n\n/***/ },\n/* 3 */\n/*!****************************!*\\\n  !*** ./src/utils/index.js ***!\n  \\****************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\n\t* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n\t*\n\t* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n\t* in compliance with the License. You may obtain a copy of the License at\n\t*\n\t* http://www.apache.org/licenses/LICENSE-2.0\n\t*\n\t* Unless required by applicable law or agreed to in writing, software distributed under the License\n\t* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n\t* or implied. See the License for the specific language governing permissions and limitations under\n\t* the License.\n\t*/\n\t\n\tvar state = __webpack_require__(/*! ../state */ 2);\n\tvar events = __webpack_require__(/*! ../events */ 1);\n\tvar writeMessage = __webpack_require__(/*! ./writeMessage */ 74);\n\tvar resize = __webpack_require__(/*! ./resize */ 73);\n\t\n\tfunction debounce(func, wait, immediate) {\n\t  var timeout;\n\t  return function() {\n\t    var context = this, args = arguments;\n\t    var later = function() {\n\t      timeout = null;\n\t      if (!immediate) func.apply(context, args);\n\t    };\n\t    var callNow = immediate && !timeout;\n\t    clearTimeout(timeout);\n\t    timeout = setTimeout(later, wait);\n\t    if (callNow) func.apply(context, args);\n\t  };\n\t}\n\t\n\tfunction serialize(obj) {\n\t  var str = [];\n\t  for (var p in obj) {\n\t    if (obj.hasOwnProperty(p))\n\t      str.push(encodeURIComponent(p) + '=' + encodeURIComponent(obj[p]));\n\t  }\n\t  return str.join('&');\n\t}\n\t\n\tfunction compile(str, options) {\n\t  if (options && Object.keys(options).length > 0) {\n\t    Object.keys(options).forEach(function(key) {\n\t      str = str.split('${' + key + '}').join(options[key]);\n\t    });\n\t  }\n\t  return str;\n\t}\n\t\n\tfunction getUUID() {\n\t  var d = new Date().getTime();\n\t  if ( window.performance && typeof window.performance.now === 'function' )\n\t    d += performance.now();\n\t  return 'IBMChat-' + ('xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n\t    var r = (d + Math.random()*16)%16 | 0;\n\t    d = Math.floor(d/16);\n\t    return (( c == 'x' ? r : (r&0x3|0x8)).toString(16));\n\t  }));\n\t}\n\t\n\tfunction hasClass(element, className) {\n\t  var thatClass = \" \" + className + \" \";\n\t  return ( (\" \" + element.className + \" \").replace(/[\\n\\t]/g, \" \").indexOf(thatClass) > -1 );\n\t}\n\t\n\tfunction appendToEach(appendTo, content) {\n\t  for (var i = 0; i < appendTo.length; i++) {\n\t    var clone = content.cloneNode(true);\n\t    appendTo[i].appendChild(clone);\n\t  }\n\t}\n\t\n\tfunction isVisible(elem) {\n\t  if (elem)\n\t    return !!( elem.offsetWidth || elem.offsetHeight || elem.getClientRects().length );\n\t  else\n\t    return false;\n\t}\n\t\n\tvar _currentVisibilityCheck;\n\t\n\tfunction checkVisibility() {\n\t  var current = state.get();\n\t  if (_currentVisibilityCheck)\n\t    clearTimeout(_currentVisibilityCheck);\n\t  if (isVisible(current.root)) {\n\t    if (!current.isVisible) {\n\t      state.set({\n\t        isVisible: true\n\t      });\n\t    }\n\t    events.publish('resize');\n\t    _currentVisibilityCheck = setTimeout(checkVisibility, 1000);\n\t  } else {\n\t    if (current.isVisible) {\n\t      state.set({\n\t        isVisible: false\n\t      });\n\t    }\n\t    _currentVisibilityCheck = setTimeout(checkVisibility, 300);\n\t  }\n\t}\n\t\n\tfunction endVisibilityCheck() {\n\t  if (_currentVisibilityCheck)\n\t    clearTimeout(_currentVisibilityCheck);\n\t}\n\t\n\tfunction checkRoot(el) {\n\t  if (typeof el === 'string' && document.getElementById(el))\n\t    return true;\n\t  else if (el.nodeType && el.nodeType === 1)\n\t    return true;\n\t  else\n\t    return false;\n\t}\n\t\n\tfunction getSDKConfig(config) {\n\t  var SDKconfig = {};\n\t  var baseURL = 'https://api.ibm.com/virtualagent/run/api/v1/';\n\t  SDKconfig.baseURL = config.baseURL || baseURL;\n\t  if (config.withCredentials)\n\t    SDKconfig.withCredentials = config.withCredentials;\n\t  if (config.XIBMClientID)\n\t    SDKconfig.XIBMClientID = config.XIBMClientID;\n\t  if (config.XIBMClientSecret)\n\t    SDKconfig.XIBMClientSecret = config.XIBMClientSecret;\n\t  if (config.userID)\n\t    SDKconfig.userID = config.userID;\n\t  if (config.userLatLon)\n\t    SDKconfig.userLatLon = config.userLatLon;\n\t  return SDKconfig;\n\t}\n\t\n\tmodule.exports = {\n\t  appendToEach: appendToEach,\n\t  debounce: debounce,\n\t  serialize: serialize,\n\t  hasClass: hasClass,\n\t  getUUID: getUUID,\n\t  compile: compile,\n\t  writeMessage: writeMessage,\n\t  addResizeListener: resize.addResizeListener,\n\t  removeResizeListener: resize.removeResizeListener,\n\t  isVisible: isVisible,\n\t  checkVisibility: checkVisibility,\n\t  checkRoot: checkRoot,\n\t  getSDKConfig: getSDKConfig,\n\t  endVisibilityCheck: endVisibilityCheck\n\t};\n\n\n/***/ },\n/* 4 */\n/*!****************************!*\\\n  !*** ./~/lodash/assign.js ***!\n  \\****************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar assignValue = __webpack_require__(/*! ./_assignValue */ 9),\n\t    copyObject = __webpack_require__(/*! ./_copyObject */ 12),\n\t    createAssigner = __webpack_require__(/*! ./_createAssigner */ 13),\n\t    isArrayLike = __webpack_require__(/*! ./isArrayLike */ 18),\n\t    isPrototype = __webpack_require__(/*! ./_isPrototype */ 15),\n\t    keys = __webpack_require__(/*! ./keys */ 22);\n\t\n\t/** Used for built-in method references. */\n\tvar objectProto = Object.prototype;\n\t\n\t/** Used to check objects for own properties. */\n\tvar hasOwnProperty = objectProto.hasOwnProperty;\n\t\n\t/** Built-in value references. */\n\tvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\t\n\t/** Detect if properties shadowing those on `Object.prototype` are non-enumerable. */\n\tvar nonEnumShadows = !propertyIsEnumerable.call({ 'valueOf': 1 }, 'valueOf');\n\t\n\t/**\n\t * Assigns own enumerable string keyed properties of source objects to the\n\t * destination object. Source objects are applied from left to right.\n\t * Subsequent sources overwrite property assignments of previous sources.\n\t *\n\t * **Note:** This method mutates `object` and is loosely based on\n\t * [`Object.assign`](https://mdn.io/Object/assign).\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 0.10.0\n\t * @category Object\n\t * @param {Object} object The destination object.\n\t * @param {...Object} [sources] The source objects.\n\t * @returns {Object} Returns `object`.\n\t * @see _.assignIn\n\t * @example\n\t *\n\t * function Foo() {\n\t *   this.a = 1;\n\t * }\n\t *\n\t * function Bar() {\n\t *   this.c = 3;\n\t * }\n\t *\n\t * Foo.prototype.b = 2;\n\t * Bar.prototype.d = 4;\n\t *\n\t * _.assign({ 'a': 0 }, new Foo, new Bar);\n\t * // => { 'a': 1, 'c': 3 }\n\t */\n\tvar assign = createAssigner(function(object, source) {\n\t  if (nonEnumShadows || isPrototype(source) || isArrayLike(source)) {\n\t    copyObject(source, keys(source), object);\n\t    return;\n\t  }\n\t  for (var key in source) {\n\t    if (hasOwnProperty.call(source, key)) {\n\t      assignValue(object, key, source[key]);\n\t    }\n\t  }\n\t});\n\t\n\tmodule.exports = assign;\n\n\n/***/ },\n/* 5 */\n/*!********************************!*\\\n  !*** ./src/templates/index.js ***!\n  \\********************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = {\n\t  input: __webpack_require__(/*! ./input.html */ 42),\n\t  receive: __webpack_require__(/*! ./receive.html */ 44),\n\t  send: __webpack_require__(/*! ./send.html */ 45),\n\t  start: __webpack_require__(/*! ./start.html */ 46),\n\t  loading: __webpack_require__(/*! ./loading.html */ 43)\n\t};\n\n\n/***/ },\n/* 6 */\n/*!********************************!*\\\n  !*** ../client-sdk/lib/web.js ***!\n  \\********************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t(function webpackUniversalModuleDefinition(root, factory) {\n\t\tif(true)\n\t\t\tmodule.exports = factory();\n\t\telse if(typeof define === 'function' && define.amd)\n\t\t\tdefine(\"SDK\", [], factory);\n\t\telse if(typeof exports === 'object')\n\t\t\texports[\"SDK\"] = factory();\n\t\telse\n\t\t\troot[\"SDK\"] = factory();\n\t})(this, function() {\n\treturn /******/ (function(modules) { // webpackBootstrap\n\t/******/ \t// The module cache\n\t/******/ \tvar installedModules = {};\n\t/******/\n\t/******/ \t// The require function\n\t/******/ \tfunction __webpack_require__(moduleId) {\n\t/******/\n\t/******/ \t\t// Check if module is in cache\n\t/******/ \t\tif(installedModules[moduleId])\n\t/******/ \t\t\treturn installedModules[moduleId].exports;\n\t/******/\n\t/******/ \t\t// Create a new module (and put it into the cache)\n\t/******/ \t\tvar module = installedModules[moduleId] = {\n\t/******/ \t\t\texports: {},\n\t/******/ \t\t\tid: moduleId,\n\t/******/ \t\t\tloaded: false\n\t/******/ \t\t};\n\t/******/\n\t/******/ \t\t// Execute the module function\n\t/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\t/******/\n\t/******/ \t\t// Flag the module as loaded\n\t/******/ \t\tmodule.loaded = true;\n\t/******/\n\t/******/ \t\t// Return the exports of the module\n\t/******/ \t\treturn module.exports;\n\t/******/ \t}\n\t/******/\n\t/******/\n\t/******/ \t// expose the modules object (__webpack_modules__)\n\t/******/ \t__webpack_require__.m = modules;\n\t/******/\n\t/******/ \t// expose the module cache\n\t/******/ \t__webpack_require__.c = installedModules;\n\t/******/\n\t/******/ \t// __webpack_public_path__\n\t/******/ \t__webpack_require__.p = \"\";\n\t/******/\n\t/******/ \t// Load entry module and return exports\n\t/******/ \treturn __webpack_require__(0);\n\t/******/ })\n\t/************************************************************************/\n\t/******/ ([\n\t/* 0 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tmodule.exports = __webpack_require__(22);\n\t\n\t\n\t/***/ },\n\t/* 1 */\n\t/***/ function(module, exports) {\n\t\n\t\t'use strict';\n\t\t\n\t\t/*global toString:true*/\n\t\t\n\t\t// utils is a library of generic helper functions non-specific to axios\n\t\t\n\t\tvar toString = Object.prototype.toString;\n\t\t\n\t\t/**\n\t\t * Determine if a value is an Array\n\t\t *\n\t\t * @param {Object} val The value to test\n\t\t * @returns {boolean} True if value is an Array, otherwise false\n\t\t */\n\t\tfunction isArray(val) {\n\t\t  return toString.call(val) === '[object Array]';\n\t\t}\n\t\t\n\t\t/**\n\t\t * Determine if a value is an ArrayBuffer\n\t\t *\n\t\t * @param {Object} val The value to test\n\t\t * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n\t\t */\n\t\tfunction isArrayBuffer(val) {\n\t\t  return toString.call(val) === '[object ArrayBuffer]';\n\t\t}\n\t\t\n\t\t/**\n\t\t * Determine if a value is a FormData\n\t\t *\n\t\t * @param {Object} val The value to test\n\t\t * @returns {boolean} True if value is an FormData, otherwise false\n\t\t */\n\t\tfunction isFormData(val) {\n\t\t  return (typeof FormData !== 'undefined') && (val instanceof FormData);\n\t\t}\n\t\t\n\t\t/**\n\t\t * Determine if a value is a view on an ArrayBuffer\n\t\t *\n\t\t * @param {Object} val The value to test\n\t\t * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n\t\t */\n\t\tfunction isArrayBufferView(val) {\n\t\t  var result;\n\t\t  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n\t\t    result = ArrayBuffer.isView(val);\n\t\t  } else {\n\t\t    result = (val) && (val.buffer) && (val.buffer instanceof ArrayBuffer);\n\t\t  }\n\t\t  return result;\n\t\t}\n\t\t\n\t\t/**\n\t\t * Determine if a value is a String\n\t\t *\n\t\t * @param {Object} val The value to test\n\t\t * @returns {boolean} True if value is a String, otherwise false\n\t\t */\n\t\tfunction isString(val) {\n\t\t  return typeof val === 'string';\n\t\t}\n\t\t\n\t\t/**\n\t\t * Determine if a value is a Number\n\t\t *\n\t\t * @param {Object} val The value to test\n\t\t * @returns {boolean} True if value is a Number, otherwise false\n\t\t */\n\t\tfunction isNumber(val) {\n\t\t  return typeof val === 'number';\n\t\t}\n\t\t\n\t\t/**\n\t\t * Determine if a value is undefined\n\t\t *\n\t\t * @param {Object} val The value to test\n\t\t * @returns {boolean} True if the value is undefined, otherwise false\n\t\t */\n\t\tfunction isUndefined(val) {\n\t\t  return typeof val === 'undefined';\n\t\t}\n\t\t\n\t\t/**\n\t\t * Determine if a value is an Object\n\t\t *\n\t\t * @param {Object} val The value to test\n\t\t * @returns {boolean} True if value is an Object, otherwise false\n\t\t */\n\t\tfunction isObject(val) {\n\t\t  return val !== null && typeof val === 'object';\n\t\t}\n\t\t\n\t\t/**\n\t\t * Determine if a value is a Date\n\t\t *\n\t\t * @param {Object} val The value to test\n\t\t * @returns {boolean} True if value is a Date, otherwise false\n\t\t */\n\t\tfunction isDate(val) {\n\t\t  return toString.call(val) === '[object Date]';\n\t\t}\n\t\t\n\t\t/**\n\t\t * Determine if a value is a File\n\t\t *\n\t\t * @param {Object} val The value to test\n\t\t * @returns {boolean} True if value is a File, otherwise false\n\t\t */\n\t\tfunction isFile(val) {\n\t\t  return toString.call(val) === '[object File]';\n\t\t}\n\t\t\n\t\t/**\n\t\t * Determine if a value is a Blob\n\t\t *\n\t\t * @param {Object} val The value to test\n\t\t * @returns {boolean} True if value is a Blob, otherwise false\n\t\t */\n\t\tfunction isBlob(val) {\n\t\t  return toString.call(val) === '[object Blob]';\n\t\t}\n\t\t\n\t\t/**\n\t\t * Determine if a value is a Function\n\t\t *\n\t\t * @param {Object} val The value to test\n\t\t * @returns {boolean} True if value is a Function, otherwise false\n\t\t */\n\t\tfunction isFunction(val) {\n\t\t  return toString.call(val) === '[object Function]';\n\t\t}\n\t\t\n\t\t/**\n\t\t * Determine if a value is a Stream\n\t\t *\n\t\t * @param {Object} val The value to test\n\t\t * @returns {boolean} True if value is a Stream, otherwise false\n\t\t */\n\t\tfunction isStream(val) {\n\t\t  return isObject(val) && isFunction(val.pipe);\n\t\t}\n\t\t\n\t\t/**\n\t\t * Determine if a value is a URLSearchParams object\n\t\t *\n\t\t * @param {Object} val The value to test\n\t\t * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n\t\t */\n\t\tfunction isURLSearchParams(val) {\n\t\t  return typeof URLSearchParams !== 'undefined' && val instanceof URLSearchParams;\n\t\t}\n\t\t\n\t\t/**\n\t\t * Trim excess whitespace off the beginning and end of a string\n\t\t *\n\t\t * @param {String} str The String to trim\n\t\t * @returns {String} The String freed of excess whitespace\n\t\t */\n\t\tfunction trim(str) {\n\t\t  return str.replace(/^\\s*/, '').replace(/\\s*$/, '');\n\t\t}\n\t\t\n\t\t/**\n\t\t * Determine if we're running in a standard browser environment\n\t\t *\n\t\t * This allows axios to run in a web worker, and react-native.\n\t\t * Both environments support XMLHttpRequest, but not fully standard globals.\n\t\t *\n\t\t * web workers:\n\t\t *  typeof window -> undefined\n\t\t *  typeof document -> undefined\n\t\t *\n\t\t * react-native:\n\t\t *  typeof document.createElement -> undefined\n\t\t */\n\t\tfunction isStandardBrowserEnv() {\n\t\t  return (\n\t\t    typeof window !== 'undefined' &&\n\t\t    typeof document !== 'undefined' &&\n\t\t    typeof document.createElement === 'function'\n\t\t  );\n\t\t}\n\t\t\n\t\t/**\n\t\t * Iterate over an Array or an Object invoking a function for each item.\n\t\t *\n\t\t * If `obj` is an Array callback will be called passing\n\t\t * the value, index, and complete array for each item.\n\t\t *\n\t\t * If 'obj' is an Object callback will be called passing\n\t\t * the value, key, and complete object for each property.\n\t\t *\n\t\t * @param {Object|Array} obj The object to iterate\n\t\t * @param {Function} fn The callback to invoke for each item\n\t\t */\n\t\tfunction forEach(obj, fn) {\n\t\t  // Don't bother if no value provided\n\t\t  if (obj === null || typeof obj === 'undefined') {\n\t\t    return;\n\t\t  }\n\t\t\n\t\t  // Force an array if not already something iterable\n\t\t  if (typeof obj !== 'object' && !isArray(obj)) {\n\t\t    /*eslint no-param-reassign:0*/\n\t\t    obj = [obj];\n\t\t  }\n\t\t\n\t\t  if (isArray(obj)) {\n\t\t    // Iterate over array values\n\t\t    for (var i = 0, l = obj.length; i < l; i++) {\n\t\t      fn.call(null, obj[i], i, obj);\n\t\t    }\n\t\t  } else {\n\t\t    // Iterate over object keys\n\t\t    for (var key in obj) {\n\t\t      if (obj.hasOwnProperty(key)) {\n\t\t        fn.call(null, obj[key], key, obj);\n\t\t      }\n\t\t    }\n\t\t  }\n\t\t}\n\t\t\n\t\t/**\n\t\t * Accepts varargs expecting each argument to be an object, then\n\t\t * immutably merges the properties of each object and returns result.\n\t\t *\n\t\t * When multiple objects contain the same key the later object in\n\t\t * the arguments list will take precedence.\n\t\t *\n\t\t * Example:\n\t\t *\n\t\t * ```js\n\t\t * var result = merge({foo: 123}, {foo: 456});\n\t\t * console.log(result.foo); // outputs 456\n\t\t * ```\n\t\t *\n\t\t * @param {Object} obj1 Object to merge\n\t\t * @returns {Object} Result of all merge properties\n\t\t */\n\t\tfunction merge(/* obj1, obj2, obj3, ... */) {\n\t\t  var result = {};\n\t\t  function assignValue(val, key) {\n\t\t    if (typeof result[key] === 'object' && typeof val === 'object') {\n\t\t      result[key] = merge(result[key], val);\n\t\t    } else {\n\t\t      result[key] = val;\n\t\t    }\n\t\t  }\n\t\t\n\t\t  for (var i = 0, l = arguments.length; i < l; i++) {\n\t\t    forEach(arguments[i], assignValue);\n\t\t  }\n\t\t  return result;\n\t\t}\n\t\t\n\t\tmodule.exports = {\n\t\t  isArray: isArray,\n\t\t  isArrayBuffer: isArrayBuffer,\n\t\t  isFormData: isFormData,\n\t\t  isArrayBufferView: isArrayBufferView,\n\t\t  isString: isString,\n\t\t  isNumber: isNumber,\n\t\t  isObject: isObject,\n\t\t  isUndefined: isUndefined,\n\t\t  isDate: isDate,\n\t\t  isFile: isFile,\n\t\t  isBlob: isBlob,\n\t\t  isFunction: isFunction,\n\t\t  isStream: isStream,\n\t\t  isURLSearchParams: isURLSearchParams,\n\t\t  isStandardBrowserEnv: isStandardBrowserEnv,\n\t\t  forEach: forEach,\n\t\t  merge: merge,\n\t\t  trim: trim\n\t\t};\n\t\n\t\n\t/***/ },\n\t/* 2 */\n\t/***/ function(module, exports) {\n\t\n\t\t// shim for using process in browser\n\t\tvar process = module.exports = {};\n\t\t\n\t\t// cached from whatever global is present so that test runners that stub it\n\t\t// don't break things.  But we need to wrap it in a try catch in case it is\n\t\t// wrapped in strict mode code which doesn't define any globals.  It's inside a\n\t\t// function because try/catches deoptimize in certain engines.\n\t\t\n\t\tvar cachedSetTimeout;\n\t\tvar cachedClearTimeout;\n\t\t\n\t\tfunction defaultSetTimout() {\n\t\t    throw new Error('setTimeout has not been defined');\n\t\t}\n\t\tfunction defaultClearTimeout () {\n\t\t    throw new Error('clearTimeout has not been defined');\n\t\t}\n\t\t(function () {\n\t\t    try {\n\t\t        if (typeof setTimeout === 'function') {\n\t\t            cachedSetTimeout = setTimeout;\n\t\t        } else {\n\t\t            cachedSetTimeout = defaultSetTimout;\n\t\t        }\n\t\t    } catch (e) {\n\t\t        cachedSetTimeout = defaultSetTimout;\n\t\t    }\n\t\t    try {\n\t\t        if (typeof clearTimeout === 'function') {\n\t\t            cachedClearTimeout = clearTimeout;\n\t\t        } else {\n\t\t            cachedClearTimeout = defaultClearTimeout;\n\t\t        }\n\t\t    } catch (e) {\n\t\t        cachedClearTimeout = defaultClearTimeout;\n\t\t    }\n\t\t} ())\n\t\tfunction runTimeout(fun) {\n\t\t    if (cachedSetTimeout === setTimeout) {\n\t\t        //normal enviroments in sane situations\n\t\t        return setTimeout(fun, 0);\n\t\t    }\n\t\t    // if setTimeout wasn't available but was latter defined\n\t\t    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n\t\t        cachedSetTimeout = setTimeout;\n\t\t        return setTimeout(fun, 0);\n\t\t    }\n\t\t    try {\n\t\t        // when when somebody has screwed with setTimeout but no I.E. maddness\n\t\t        return cachedSetTimeout(fun, 0);\n\t\t    } catch(e){\n\t\t        try {\n\t\t            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n\t\t            return cachedSetTimeout.call(null, fun, 0);\n\t\t        } catch(e){\n\t\t            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n\t\t            return cachedSetTimeout.call(this, fun, 0);\n\t\t        }\n\t\t    }\n\t\t\n\t\t\n\t\t}\n\t\tfunction runClearTimeout(marker) {\n\t\t    if (cachedClearTimeout === clearTimeout) {\n\t\t        //normal enviroments in sane situations\n\t\t        return clearTimeout(marker);\n\t\t    }\n\t\t    // if clearTimeout wasn't available but was latter defined\n\t\t    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n\t\t        cachedClearTimeout = clearTimeout;\n\t\t        return clearTimeout(marker);\n\t\t    }\n\t\t    try {\n\t\t        // when when somebody has screwed with setTimeout but no I.E. maddness\n\t\t        return cachedClearTimeout(marker);\n\t\t    } catch (e){\n\t\t        try {\n\t\t            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n\t\t            return cachedClearTimeout.call(null, marker);\n\t\t        } catch (e){\n\t\t            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n\t\t            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n\t\t            return cachedClearTimeout.call(this, marker);\n\t\t        }\n\t\t    }\n\t\t\n\t\t\n\t\t\n\t\t}\n\t\tvar queue = [];\n\t\tvar draining = false;\n\t\tvar currentQueue;\n\t\tvar queueIndex = -1;\n\t\t\n\t\tfunction cleanUpNextTick() {\n\t\t    if (!draining || !currentQueue) {\n\t\t        return;\n\t\t    }\n\t\t    draining = false;\n\t\t    if (currentQueue.length) {\n\t\t        queue = currentQueue.concat(queue);\n\t\t    } else {\n\t\t        queueIndex = -1;\n\t\t    }\n\t\t    if (queue.length) {\n\t\t        drainQueue();\n\t\t    }\n\t\t}\n\t\t\n\t\tfunction drainQueue() {\n\t\t    if (draining) {\n\t\t        return;\n\t\t    }\n\t\t    var timeout = runTimeout(cleanUpNextTick);\n\t\t    draining = true;\n\t\t\n\t\t    var len = queue.length;\n\t\t    while(len) {\n\t\t        currentQueue = queue;\n\t\t        queue = [];\n\t\t        while (++queueIndex < len) {\n\t\t            if (currentQueue) {\n\t\t                currentQueue[queueIndex].run();\n\t\t            }\n\t\t        }\n\t\t        queueIndex = -1;\n\t\t        len = queue.length;\n\t\t    }\n\t\t    currentQueue = null;\n\t\t    draining = false;\n\t\t    runClearTimeout(timeout);\n\t\t}\n\t\t\n\t\tprocess.nextTick = function (fun) {\n\t\t    var args = new Array(arguments.length - 1);\n\t\t    if (arguments.length > 1) {\n\t\t        for (var i = 1; i < arguments.length; i++) {\n\t\t            args[i - 1] = arguments[i];\n\t\t        }\n\t\t    }\n\t\t    queue.push(new Item(fun, args));\n\t\t    if (queue.length === 1 && !draining) {\n\t\t        runTimeout(drainQueue);\n\t\t    }\n\t\t};\n\t\t\n\t\t// v8 likes predictible objects\n\t\tfunction Item(fun, array) {\n\t\t    this.fun = fun;\n\t\t    this.array = array;\n\t\t}\n\t\tItem.prototype.run = function () {\n\t\t    this.fun.apply(null, this.array);\n\t\t};\n\t\tprocess.title = 'browser';\n\t\tprocess.browser = true;\n\t\tprocess.env = {};\n\t\tprocess.argv = [];\n\t\tprocess.version = ''; // empty string to avoid regexp issues\n\t\tprocess.versions = {};\n\t\t\n\t\tfunction noop() {}\n\t\t\n\t\tprocess.on = noop;\n\t\tprocess.addListener = noop;\n\t\tprocess.once = noop;\n\t\tprocess.off = noop;\n\t\tprocess.removeListener = noop;\n\t\tprocess.removeAllListeners = noop;\n\t\tprocess.emit = noop;\n\t\t\n\t\tprocess.binding = function (name) {\n\t\t    throw new Error('process.binding is not supported');\n\t\t};\n\t\t\n\t\tprocess.cwd = function () { return '/' };\n\t\tprocess.chdir = function (dir) {\n\t\t    throw new Error('process.chdir is not supported');\n\t\t};\n\t\tprocess.umask = function() { return 0; };\n\t\n\t\n\t/***/ },\n\t/* 3 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t/* WEBPACK VAR INJECTION */(function(process) {'use strict';\n\t\t\n\t\tvar utils = __webpack_require__(1);\n\t\tvar buildURL = __webpack_require__(12);\n\t\tvar parseHeaders = __webpack_require__(18);\n\t\tvar transformData = __webpack_require__(4);\n\t\tvar isURLSameOrigin = __webpack_require__(16);\n\t\tvar btoa = (typeof window !== 'undefined' && window.btoa) || __webpack_require__(11);\n\t\tvar settle = __webpack_require__(19);\n\t\t\n\t\tmodule.exports = function xhrAdapter(resolve, reject, config) {\n\t\t  var requestData = config.data;\n\t\t  var requestHeaders = config.headers;\n\t\t\n\t\t  if (utils.isFormData(requestData)) {\n\t\t    delete requestHeaders['Content-Type']; // Let the browser set it\n\t\t  }\n\t\t\n\t\t  var request = new XMLHttpRequest();\n\t\t  var loadEvent = 'onreadystatechange';\n\t\t  var xDomain = false;\n\t\t\n\t\t  // For IE 8/9 CORS support\n\t\t  // Only supports POST and GET calls and doesn't returns the response headers.\n\t\t  // DON'T do this for testing b/c XMLHttpRequest is mocked, not XDomainRequest.\n\t\t  if (process.env.NODE_ENV !== 'test' && typeof window !== 'undefined' && window.XDomainRequest && !('withCredentials' in request) && !isURLSameOrigin(config.url)) {\n\t\t    request = new window.XDomainRequest();\n\t\t    loadEvent = 'onload';\n\t\t    xDomain = true;\n\t\t    request.onprogress = function handleProgress() {};\n\t\t    request.ontimeout = function handleTimeout() {};\n\t\t  }\n\t\t\n\t\t  // HTTP basic authentication\n\t\t  if (config.auth) {\n\t\t    var username = config.auth.username || '';\n\t\t    var password = config.auth.password || '';\n\t\t    requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\n\t\t  }\n\t\t\n\t\t  request.open(config.method.toUpperCase(), buildURL(config.url, config.params, config.paramsSerializer), true);\n\t\t\n\t\t  // Set the request timeout in MS\n\t\t  request.timeout = config.timeout;\n\t\t\n\t\t  // Listen for ready state\n\t\t  request[loadEvent] = function handleLoad() {\n\t\t    if (!request || (request.readyState !== 4 && !xDomain)) {\n\t\t      return;\n\t\t    }\n\t\t\n\t\t    // The request errored out and we didn't get a response, this will be\n\t\t    // handled by onerror instead\n\t\t    if (request.status === 0) {\n\t\t      return;\n\t\t    }\n\t\t\n\t\t    // Prepare the response\n\t\t    var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\n\t\t    var responseData = !config.responseType || config.responseType === 'text' ? request.responseText : request.response;\n\t\t    var response = {\n\t\t      data: transformData(\n\t\t        responseData,\n\t\t        responseHeaders,\n\t\t        config.transformResponse\n\t\t      ),\n\t\t      // IE sends 1223 instead of 204 (https://github.com/mzabriskie/axios/issues/201)\n\t\t      status: request.status === 1223 ? 204 : request.status,\n\t\t      statusText: request.status === 1223 ? 'No Content' : request.statusText,\n\t\t      headers: responseHeaders,\n\t\t      config: config,\n\t\t      request: request\n\t\t    };\n\t\t\n\t\t    settle(resolve, reject, response);\n\t\t\n\t\t    // Clean up request\n\t\t    request = null;\n\t\t  };\n\t\t\n\t\t  // Handle low level network errors\n\t\t  request.onerror = function handleError() {\n\t\t    // Real errors are hidden from us by the browser\n\t\t    // onerror should only fire if it's a network error\n\t\t    reject(new Error('Network Error'));\n\t\t\n\t\t    // Clean up request\n\t\t    request = null;\n\t\t  };\n\t\t\n\t\t  // Handle timeout\n\t\t  request.ontimeout = function handleTimeout() {\n\t\t    var err = new Error('timeout of ' + config.timeout + 'ms exceeded');\n\t\t    err.timeout = config.timeout;\n\t\t    err.code = 'ECONNABORTED';\n\t\t    reject(err);\n\t\t\n\t\t    // Clean up request\n\t\t    request = null;\n\t\t  };\n\t\t\n\t\t  // Add xsrf header\n\t\t  // This is only done if running in a standard browser environment.\n\t\t  // Specifically not if we're in a web worker, or react-native.\n\t\t  if (utils.isStandardBrowserEnv()) {\n\t\t    var cookies = __webpack_require__(14);\n\t\t\n\t\t    // Add xsrf header\n\t\t    var xsrfValue = config.withCredentials || isURLSameOrigin(config.url) ?\n\t\t        cookies.read(config.xsrfCookieName) :\n\t\t        undefined;\n\t\t\n\t\t    if (xsrfValue) {\n\t\t      requestHeaders[config.xsrfHeaderName] = xsrfValue;\n\t\t    }\n\t\t  }\n\t\t\n\t\t  // Add headers to the request\n\t\t  if ('setRequestHeader' in request) {\n\t\t    utils.forEach(requestHeaders, function setRequestHeader(val, key) {\n\t\t      if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {\n\t\t        // Remove Content-Type if data is undefined\n\t\t        delete requestHeaders[key];\n\t\t      } else {\n\t\t        // Otherwise add header to the request\n\t\t        request.setRequestHeader(key, val);\n\t\t      }\n\t\t    });\n\t\t  }\n\t\t\n\t\t  // Add withCredentials to request if needed\n\t\t  if (config.withCredentials) {\n\t\t    request.withCredentials = true;\n\t\t  }\n\t\t\n\t\t  // Add responseType to request if needed\n\t\t  if (config.responseType) {\n\t\t    try {\n\t\t      request.responseType = config.responseType;\n\t\t    } catch (e) {\n\t\t      if (request.responseType !== 'json') {\n\t\t        throw e;\n\t\t      }\n\t\t    }\n\t\t  }\n\t\t\n\t\t  // Handle progress if needed\n\t\t  if (config.progress) {\n\t\t    if (config.method === 'post' || config.method === 'put') {\n\t\t      request.upload.addEventListener('progress', config.progress);\n\t\t    } else if (config.method === 'get') {\n\t\t      request.addEventListener('progress', config.progress);\n\t\t    }\n\t\t  }\n\t\t\n\t\t  if (requestData === undefined) {\n\t\t    requestData = null;\n\t\t  }\n\t\t\n\t\t  // Send the request\n\t\t  request.send(requestData);\n\t\t};\n\t\t\n\t\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))\n\t\n\t/***/ },\n\t/* 4 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t'use strict';\n\t\t\n\t\tvar utils = __webpack_require__(1);\n\t\t\n\t\t/**\n\t\t * Transform the data for a request or a response\n\t\t *\n\t\t * @param {Object|String} data The data to be transformed\n\t\t * @param {Array} headers The headers for the request or response\n\t\t * @param {Array|Function} fns A single function or Array of functions\n\t\t * @returns {*} The resulting transformed data\n\t\t */\n\t\tmodule.exports = function transformData(data, headers, fns) {\n\t\t  /*eslint no-param-reassign:0*/\n\t\t  utils.forEach(fns, function transform(fn) {\n\t\t    data = fn(data, headers);\n\t\t  });\n\t\t\n\t\t  return data;\n\t\t};\n\t\n\t\n\t/***/ },\n\t/* 5 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tmodule.exports = __webpack_require__(6);\n\t\n\t/***/ },\n\t/* 6 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t'use strict';\n\t\t\n\t\tvar defaults = __webpack_require__(9);\n\t\tvar utils = __webpack_require__(1);\n\t\tvar dispatchRequest = __webpack_require__(8);\n\t\tvar InterceptorManager = __webpack_require__(7);\n\t\tvar isAbsoluteURL = __webpack_require__(15);\n\t\tvar combineURLs = __webpack_require__(13);\n\t\tvar bind = __webpack_require__(10);\n\t\tvar transformData = __webpack_require__(4);\n\t\t\n\t\tfunction Axios(defaultConfig) {\n\t\t  this.defaults = utils.merge({}, defaultConfig);\n\t\t  this.interceptors = {\n\t\t    request: new InterceptorManager(),\n\t\t    response: new InterceptorManager()\n\t\t  };\n\t\t}\n\t\t\n\t\tAxios.prototype.request = function request(config) {\n\t\t  /*eslint no-param-reassign:0*/\n\t\t  // Allow for axios('example/url'[, config]) a la fetch API\n\t\t  if (typeof config === 'string') {\n\t\t    config = utils.merge({\n\t\t      url: arguments[0]\n\t\t    }, arguments[1]);\n\t\t  }\n\t\t\n\t\t  config = utils.merge(defaults, this.defaults, { method: 'get' }, config);\n\t\t\n\t\t  // Support baseURL config\n\t\t  if (config.baseURL && !isAbsoluteURL(config.url)) {\n\t\t    config.url = combineURLs(config.baseURL, config.url);\n\t\t  }\n\t\t\n\t\t  // Don't allow overriding defaults.withCredentials\n\t\t  config.withCredentials = config.withCredentials || this.defaults.withCredentials;\n\t\t\n\t\t  // Transform request data\n\t\t  config.data = transformData(\n\t\t    config.data,\n\t\t    config.headers,\n\t\t    config.transformRequest\n\t\t  );\n\t\t\n\t\t  // Flatten headers\n\t\t  config.headers = utils.merge(\n\t\t    config.headers.common || {},\n\t\t    config.headers[config.method] || {},\n\t\t    config.headers || {}\n\t\t  );\n\t\t\n\t\t  utils.forEach(\n\t\t    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n\t\t    function cleanHeaderConfig(method) {\n\t\t      delete config.headers[method];\n\t\t    }\n\t\t  );\n\t\t\n\t\t  // Hook up interceptors middleware\n\t\t  var chain = [dispatchRequest, undefined];\n\t\t  var promise = Promise.resolve(config);\n\t\t\n\t\t  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n\t\t    chain.unshift(interceptor.fulfilled, interceptor.rejected);\n\t\t  });\n\t\t\n\t\t  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n\t\t    chain.push(interceptor.fulfilled, interceptor.rejected);\n\t\t  });\n\t\t\n\t\t  while (chain.length) {\n\t\t    promise = promise.then(chain.shift(), chain.shift());\n\t\t  }\n\t\t\n\t\t  return promise;\n\t\t};\n\t\t\n\t\tvar defaultInstance = new Axios(defaults);\n\t\tvar axios = module.exports = bind(Axios.prototype.request, defaultInstance);\n\t\taxios.request = bind(Axios.prototype.request, defaultInstance);\n\t\t\n\t\t// Expose Axios class to allow class inheritance\n\t\taxios.Axios = Axios;\n\t\t\n\t\t// Expose properties from defaultInstance\n\t\taxios.defaults = defaultInstance.defaults;\n\t\taxios.interceptors = defaultInstance.interceptors;\n\t\t\n\t\t// Factory for creating new instances\n\t\taxios.create = function create(defaultConfig) {\n\t\t  return new Axios(defaultConfig);\n\t\t};\n\t\t\n\t\t// Expose all/spread\n\t\taxios.all = function all(promises) {\n\t\t  return Promise.all(promises);\n\t\t};\n\t\taxios.spread = __webpack_require__(20);\n\t\t\n\t\t// Provide aliases for supported request methods\n\t\tutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n\t\t  /*eslint func-names:0*/\n\t\t  Axios.prototype[method] = function(url, config) {\n\t\t    return this.request(utils.merge(config || {}, {\n\t\t      method: method,\n\t\t      url: url\n\t\t    }));\n\t\t  };\n\t\t  axios[method] = bind(Axios.prototype[method], defaultInstance);\n\t\t});\n\t\t\n\t\tutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n\t\t  /*eslint func-names:0*/\n\t\t  Axios.prototype[method] = function(url, data, config) {\n\t\t    return this.request(utils.merge(config || {}, {\n\t\t      method: method,\n\t\t      url: url,\n\t\t      data: data\n\t\t    }));\n\t\t  };\n\t\t  axios[method] = bind(Axios.prototype[method], defaultInstance);\n\t\t});\n\t\n\t\n\t/***/ },\n\t/* 7 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t'use strict';\n\t\t\n\t\tvar utils = __webpack_require__(1);\n\t\t\n\t\tfunction InterceptorManager() {\n\t\t  this.handlers = [];\n\t\t}\n\t\t\n\t\t/**\n\t\t * Add a new interceptor to the stack\n\t\t *\n\t\t * @param {Function} fulfilled The function to handle `then` for a `Promise`\n\t\t * @param {Function} rejected The function to handle `reject` for a `Promise`\n\t\t *\n\t\t * @return {Number} An ID used to remove interceptor later\n\t\t */\n\t\tInterceptorManager.prototype.use = function use(fulfilled, rejected) {\n\t\t  this.handlers.push({\n\t\t    fulfilled: fulfilled,\n\t\t    rejected: rejected\n\t\t  });\n\t\t  return this.handlers.length - 1;\n\t\t};\n\t\t\n\t\t/**\n\t\t * Remove an interceptor from the stack\n\t\t *\n\t\t * @param {Number} id The ID that was returned by `use`\n\t\t */\n\t\tInterceptorManager.prototype.eject = function eject(id) {\n\t\t  if (this.handlers[id]) {\n\t\t    this.handlers[id] = null;\n\t\t  }\n\t\t};\n\t\t\n\t\t/**\n\t\t * Iterate over all the registered interceptors\n\t\t *\n\t\t * This method is particularly useful for skipping over any\n\t\t * interceptors that may have become `null` calling `eject`.\n\t\t *\n\t\t * @param {Function} fn The function to call for each interceptor\n\t\t */\n\t\tInterceptorManager.prototype.forEach = function forEach(fn) {\n\t\t  utils.forEach(this.handlers, function forEachHandler(h) {\n\t\t    if (h !== null) {\n\t\t      fn(h);\n\t\t    }\n\t\t  });\n\t\t};\n\t\t\n\t\tmodule.exports = InterceptorManager;\n\t\n\t\n\t/***/ },\n\t/* 8 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t/* WEBPACK VAR INJECTION */(function(process) {'use strict';\n\t\t\n\t\t/**\n\t\t * Dispatch a request to the server using whichever adapter\n\t\t * is supported by the current environment.\n\t\t *\n\t\t * @param {object} config The config that is to be used for the request\n\t\t * @returns {Promise} The Promise to be fulfilled\n\t\t */\n\t\tmodule.exports = function dispatchRequest(config) {\n\t\t  return new Promise(function executor(resolve, reject) {\n\t\t    try {\n\t\t      var adapter;\n\t\t\n\t\t      if (typeof config.adapter === 'function') {\n\t\t        // For custom adapter support\n\t\t        adapter = config.adapter;\n\t\t      } else if (typeof XMLHttpRequest !== 'undefined') {\n\t\t        // For browsers use XHR adapter\n\t\t        adapter = __webpack_require__(3);\n\t\t      } else if (typeof process !== 'undefined') {\n\t\t        // For node use HTTP adapter\n\t\t        adapter = __webpack_require__(3);\n\t\t      }\n\t\t\n\t\t      if (typeof adapter === 'function') {\n\t\t        adapter(resolve, reject, config);\n\t\t      }\n\t\t    } catch (e) {\n\t\t      reject(e);\n\t\t    }\n\t\t  });\n\t\t};\n\t\t\n\t\t\n\t\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))\n\t\n\t/***/ },\n\t/* 9 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t'use strict';\n\t\t\n\t\tvar utils = __webpack_require__(1);\n\t\tvar normalizeHeaderName = __webpack_require__(17);\n\t\t\n\t\tvar PROTECTION_PREFIX = /^\\)\\]\\}',?\\n/;\n\t\tvar DEFAULT_CONTENT_TYPE = {\n\t\t  'Content-Type': 'application/x-www-form-urlencoded'\n\t\t};\n\t\t\n\t\tfunction setContentTypeIfUnset(headers, value) {\n\t\t  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n\t\t    headers['Content-Type'] = value;\n\t\t  }\n\t\t}\n\t\t\n\t\tmodule.exports = {\n\t\t  transformRequest: [function transformRequest(data, headers) {\n\t\t    normalizeHeaderName(headers, 'Content-Type');\n\t\t    if (utils.isFormData(data) ||\n\t\t      utils.isArrayBuffer(data) ||\n\t\t      utils.isStream(data) ||\n\t\t      utils.isFile(data) ||\n\t\t      utils.isBlob(data)\n\t\t    ) {\n\t\t      return data;\n\t\t    }\n\t\t    if (utils.isArrayBufferView(data)) {\n\t\t      return data.buffer;\n\t\t    }\n\t\t    if (utils.isURLSearchParams(data)) {\n\t\t      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\n\t\t      return data.toString();\n\t\t    }\n\t\t    if (utils.isObject(data)) {\n\t\t      setContentTypeIfUnset(headers, 'application/json;charset=utf-8');\n\t\t      return JSON.stringify(data);\n\t\t    }\n\t\t    return data;\n\t\t  }],\n\t\t\n\t\t  transformResponse: [function transformResponse(data) {\n\t\t    /*eslint no-param-reassign:0*/\n\t\t    if (typeof data === 'string') {\n\t\t      data = data.replace(PROTECTION_PREFIX, '');\n\t\t      try {\n\t\t        data = JSON.parse(data);\n\t\t      } catch (e) { /* Ignore */ }\n\t\t    }\n\t\t    return data;\n\t\t  }],\n\t\t\n\t\t  headers: {\n\t\t    common: {\n\t\t      'Accept': 'application/json, text/plain, */*'\n\t\t    },\n\t\t    patch: utils.merge(DEFAULT_CONTENT_TYPE),\n\t\t    post: utils.merge(DEFAULT_CONTENT_TYPE),\n\t\t    put: utils.merge(DEFAULT_CONTENT_TYPE)\n\t\t  },\n\t\t\n\t\t  timeout: 0,\n\t\t\n\t\t  xsrfCookieName: 'XSRF-TOKEN',\n\t\t  xsrfHeaderName: 'X-XSRF-TOKEN',\n\t\t\n\t\t  maxContentLength: -1,\n\t\t\n\t\t  validateStatus: function validateStatus(status) {\n\t\t    return status >= 200 && status < 300;\n\t\t  }\n\t\t};\n\t\n\t\n\t/***/ },\n\t/* 10 */\n\t/***/ function(module, exports) {\n\t\n\t\t'use strict';\n\t\t\n\t\tmodule.exports = function bind(fn, thisArg) {\n\t\t  return function wrap() {\n\t\t    var args = new Array(arguments.length);\n\t\t    for (var i = 0; i < args.length; i++) {\n\t\t      args[i] = arguments[i];\n\t\t    }\n\t\t    return fn.apply(thisArg, args);\n\t\t  };\n\t\t};\n\t\n\t\n\t/***/ },\n\t/* 11 */\n\t/***/ function(module, exports) {\n\t\n\t\t'use strict';\n\t\t\n\t\t// btoa polyfill for IE<10 courtesy https://github.com/davidchambers/Base64.js\n\t\t\n\t\tvar chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\t\t\n\t\tfunction E() {\n\t\t  this.message = 'String contains an invalid character';\n\t\t}\n\t\tE.prototype = new Error;\n\t\tE.prototype.code = 5;\n\t\tE.prototype.name = 'InvalidCharacterError';\n\t\t\n\t\tfunction btoa(input) {\n\t\t  var str = String(input);\n\t\t  var output = '';\n\t\t  for (\n\t\t    // initialize result and counter\n\t\t    var block, charCode, idx = 0, map = chars;\n\t\t    // if the next str index does not exist:\n\t\t    //   change the mapping table to \"=\"\n\t\t    //   check if d has no fractional digits\n\t\t    str.charAt(idx | 0) || (map = '=', idx % 1);\n\t\t    // \"8 - idx % 1 * 8\" generates the sequence 2, 4, 6, 8\n\t\t    output += map.charAt(63 & block >> 8 - idx % 1 * 8)\n\t\t  ) {\n\t\t    charCode = str.charCodeAt(idx += 3 / 4);\n\t\t    if (charCode > 0xFF) {\n\t\t      throw new E();\n\t\t    }\n\t\t    block = block << 8 | charCode;\n\t\t  }\n\t\t  return output;\n\t\t}\n\t\t\n\t\tmodule.exports = btoa;\n\t\n\t\n\t/***/ },\n\t/* 12 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t'use strict';\n\t\t\n\t\tvar utils = __webpack_require__(1);\n\t\t\n\t\tfunction encode(val) {\n\t\t  return encodeURIComponent(val).\n\t\t    replace(/%40/gi, '@').\n\t\t    replace(/%3A/gi, ':').\n\t\t    replace(/%24/g, '$').\n\t\t    replace(/%2C/gi, ',').\n\t\t    replace(/%20/g, '+').\n\t\t    replace(/%5B/gi, '[').\n\t\t    replace(/%5D/gi, ']');\n\t\t}\n\t\t\n\t\t/**\n\t\t * Build a URL by appending params to the end\n\t\t *\n\t\t * @param {string} url The base of the url (e.g., http://www.google.com)\n\t\t * @param {object} [params] The params to be appended\n\t\t * @returns {string} The formatted url\n\t\t */\n\t\tmodule.exports = function buildURL(url, params, paramsSerializer) {\n\t\t  /*eslint no-param-reassign:0*/\n\t\t  if (!params) {\n\t\t    return url;\n\t\t  }\n\t\t\n\t\t  var serializedParams;\n\t\t  if (paramsSerializer) {\n\t\t    serializedParams = paramsSerializer(params);\n\t\t  } else if (utils.isURLSearchParams(params)) {\n\t\t    serializedParams = params.toString();\n\t\t  } else {\n\t\t    var parts = [];\n\t\t\n\t\t    utils.forEach(params, function serialize(val, key) {\n\t\t      if (val === null || typeof val === 'undefined') {\n\t\t        return;\n\t\t      }\n\t\t\n\t\t      if (utils.isArray(val)) {\n\t\t        key = key + '[]';\n\t\t      }\n\t\t\n\t\t      if (!utils.isArray(val)) {\n\t\t        val = [val];\n\t\t      }\n\t\t\n\t\t      utils.forEach(val, function parseValue(v) {\n\t\t        if (utils.isDate(v)) {\n\t\t          v = v.toISOString();\n\t\t        } else if (utils.isObject(v)) {\n\t\t          v = JSON.stringify(v);\n\t\t        }\n\t\t        parts.push(encode(key) + '=' + encode(v));\n\t\t      });\n\t\t    });\n\t\t\n\t\t    serializedParams = parts.join('&');\n\t\t  }\n\t\t\n\t\t  if (serializedParams) {\n\t\t    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n\t\t  }\n\t\t\n\t\t  return url;\n\t\t};\n\t\n\t\n\t/***/ },\n\t/* 13 */\n\t/***/ function(module, exports) {\n\t\n\t\t'use strict';\n\t\t\n\t\t/**\n\t\t * Creates a new URL by combining the specified URLs\n\t\t *\n\t\t * @param {string} baseURL The base URL\n\t\t * @param {string} relativeURL The relative URL\n\t\t * @returns {string} The combined URL\n\t\t */\n\t\tmodule.exports = function combineURLs(baseURL, relativeURL) {\n\t\t  return baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '');\n\t\t};\n\t\n\t\n\t/***/ },\n\t/* 14 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t'use strict';\n\t\t\n\t\tvar utils = __webpack_require__(1);\n\t\t\n\t\tmodule.exports = (\n\t\t  utils.isStandardBrowserEnv() ?\n\t\t\n\t\t  // Standard browser envs support document.cookie\n\t\t  (function standardBrowserEnv() {\n\t\t    return {\n\t\t      write: function write(name, value, expires, path, domain, secure) {\n\t\t        var cookie = [];\n\t\t        cookie.push(name + '=' + encodeURIComponent(value));\n\t\t\n\t\t        if (utils.isNumber(expires)) {\n\t\t          cookie.push('expires=' + new Date(expires).toGMTString());\n\t\t        }\n\t\t\n\t\t        if (utils.isString(path)) {\n\t\t          cookie.push('path=' + path);\n\t\t        }\n\t\t\n\t\t        if (utils.isString(domain)) {\n\t\t          cookie.push('domain=' + domain);\n\t\t        }\n\t\t\n\t\t        if (secure === true) {\n\t\t          cookie.push('secure');\n\t\t        }\n\t\t\n\t\t        document.cookie = cookie.join('; ');\n\t\t      },\n\t\t\n\t\t      read: function read(name) {\n\t\t        var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n\t\t        return (match ? decodeURIComponent(match[3]) : null);\n\t\t      },\n\t\t\n\t\t      remove: function remove(name) {\n\t\t        this.write(name, '', Date.now() - 86400000);\n\t\t      }\n\t\t    };\n\t\t  })() :\n\t\t\n\t\t  // Non standard browser env (web workers, react-native) lack needed support.\n\t\t  (function nonStandardBrowserEnv() {\n\t\t    return {\n\t\t      write: function write() {},\n\t\t      read: function read() { return null; },\n\t\t      remove: function remove() {}\n\t\t    };\n\t\t  })()\n\t\t);\n\t\n\t\n\t/***/ },\n\t/* 15 */\n\t/***/ function(module, exports) {\n\t\n\t\t'use strict';\n\t\t\n\t\t/**\n\t\t * Determines whether the specified URL is absolute\n\t\t *\n\t\t * @param {string} url The URL to test\n\t\t * @returns {boolean} True if the specified URL is absolute, otherwise false\n\t\t */\n\t\tmodule.exports = function isAbsoluteURL(url) {\n\t\t  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n\t\t  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n\t\t  // by any combination of letters, digits, plus, period, or hyphen.\n\t\t  return /^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(url);\n\t\t};\n\t\n\t\n\t/***/ },\n\t/* 16 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t'use strict';\n\t\t\n\t\tvar utils = __webpack_require__(1);\n\t\t\n\t\tmodule.exports = (\n\t\t  utils.isStandardBrowserEnv() ?\n\t\t\n\t\t  // Standard browser envs have full support of the APIs needed to test\n\t\t  // whether the request URL is of the same origin as current location.\n\t\t  (function standardBrowserEnv() {\n\t\t    var msie = /(msie|trident)/i.test(navigator.userAgent);\n\t\t    var urlParsingNode = document.createElement('a');\n\t\t    var originURL;\n\t\t\n\t\t    /**\n\t\t    * Parse a URL to discover it's components\n\t\t    *\n\t\t    * @param {String} url The URL to be parsed\n\t\t    * @returns {Object}\n\t\t    */\n\t\t    function resolveURL(url) {\n\t\t      var href = url;\n\t\t\n\t\t      if (msie) {\n\t\t        // IE needs attribute set twice to normalize properties\n\t\t        urlParsingNode.setAttribute('href', href);\n\t\t        href = urlParsingNode.href;\n\t\t      }\n\t\t\n\t\t      urlParsingNode.setAttribute('href', href);\n\t\t\n\t\t      // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n\t\t      return {\n\t\t        href: urlParsingNode.href,\n\t\t        protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n\t\t        host: urlParsingNode.host,\n\t\t        search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n\t\t        hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n\t\t        hostname: urlParsingNode.hostname,\n\t\t        port: urlParsingNode.port,\n\t\t        pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n\t\t                  urlParsingNode.pathname :\n\t\t                  '/' + urlParsingNode.pathname\n\t\t      };\n\t\t    }\n\t\t\n\t\t    originURL = resolveURL(window.location.href);\n\t\t\n\t\t    /**\n\t\t    * Determine if a URL shares the same origin as the current location\n\t\t    *\n\t\t    * @param {String} requestURL The URL to test\n\t\t    * @returns {boolean} True if URL shares the same origin, otherwise false\n\t\t    */\n\t\t    return function isURLSameOrigin(requestURL) {\n\t\t      var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n\t\t      return (parsed.protocol === originURL.protocol &&\n\t\t            parsed.host === originURL.host);\n\t\t    };\n\t\t  })() :\n\t\t\n\t\t  // Non standard browser envs (web workers, react-native) lack needed support.\n\t\t  (function nonStandardBrowserEnv() {\n\t\t    return function isURLSameOrigin() {\n\t\t      return true;\n\t\t    };\n\t\t  })()\n\t\t);\n\t\n\t\n\t/***/ },\n\t/* 17 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t'use strict';\n\t\t\n\t\tvar utils = __webpack_require__(1);\n\t\t\n\t\tmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n\t\t  utils.forEach(headers, function processHeader(value, name) {\n\t\t    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n\t\t      headers[normalizedName] = value;\n\t\t      delete headers[name];\n\t\t    }\n\t\t  });\n\t\t};\n\t\n\t\n\t/***/ },\n\t/* 18 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t'use strict';\n\t\t\n\t\tvar utils = __webpack_require__(1);\n\t\t\n\t\t/**\n\t\t * Parse headers into an object\n\t\t *\n\t\t * ```\n\t\t * Date: Wed, 27 Aug 2014 08:58:49 GMT\n\t\t * Content-Type: application/json\n\t\t * Connection: keep-alive\n\t\t * Transfer-Encoding: chunked\n\t\t * ```\n\t\t *\n\t\t * @param {String} headers Headers needing to be parsed\n\t\t * @returns {Object} Headers parsed into an object\n\t\t */\n\t\tmodule.exports = function parseHeaders(headers) {\n\t\t  var parsed = {};\n\t\t  var key;\n\t\t  var val;\n\t\t  var i;\n\t\t\n\t\t  if (!headers) { return parsed; }\n\t\t\n\t\t  utils.forEach(headers.split('\\n'), function parser(line) {\n\t\t    i = line.indexOf(':');\n\t\t    key = utils.trim(line.substr(0, i)).toLowerCase();\n\t\t    val = utils.trim(line.substr(i + 1));\n\t\t\n\t\t    if (key) {\n\t\t      parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n\t\t    }\n\t\t  });\n\t\t\n\t\t  return parsed;\n\t\t};\n\t\n\t\n\t/***/ },\n\t/* 19 */\n\t/***/ function(module, exports) {\n\t\n\t\t'use strict';\n\t\t\n\t\t/**\n\t\t * Resolve or reject a Promise based on response status.\n\t\t *\n\t\t * @param {Function} resolve A function that resolves the promise.\n\t\t * @param {Function} reject A function that rejects the promise.\n\t\t * @param {object} response The response.\n\t\t */\n\t\tmodule.exports = function settle(resolve, reject, response) {\n\t\t  var validateStatus = response.config.validateStatus;\n\t\t  // Note: status is not exposed by XDomainRequest\n\t\t  if (!response.status || !validateStatus || validateStatus(response.status)) {\n\t\t    resolve(response);\n\t\t  } else {\n\t\t    reject(response);\n\t\t  }\n\t\t};\n\t\n\t\n\t/***/ },\n\t/* 20 */\n\t/***/ function(module, exports) {\n\t\n\t\t'use strict';\n\t\t\n\t\t/**\n\t\t * Syntactic sugar for invoking a function and expanding an array for arguments.\n\t\t *\n\t\t * Common use case would be to use `Function.prototype.apply`.\n\t\t *\n\t\t *  ```js\n\t\t *  function f(x, y, z) {}\n\t\t *  var args = [1, 2, 3];\n\t\t *  f.apply(null, args);\n\t\t *  ```\n\t\t *\n\t\t * With `spread` this example can be re-written.\n\t\t *\n\t\t *  ```js\n\t\t *  spread(function(x, y, z) {})([1, 2, 3]);\n\t\t *  ```\n\t\t *\n\t\t * @param {Function} callback\n\t\t * @returns {Function}\n\t\t */\n\t\tmodule.exports = function spread(callback) {\n\t\t  return function wrap(arr) {\n\t\t    return callback.apply(null, arr);\n\t\t  };\n\t\t};\n\t\n\t\n\t/***/ },\n\t/* 21 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\tvar require;var __WEBPACK_AMD_DEFINE_RESULT__;/* WEBPACK VAR INJECTION */(function(process, global, module) {/*!\n\t\t * @overview es6-promise - a tiny implementation of Promises/A+.\n\t\t * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)\n\t\t * @license   Licensed under MIT license\n\t\t *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE\n\t\t * @version   3.2.1\n\t\t */\n\t\t\n\t\t(function() {\n\t\t    \"use strict\";\n\t\t    function lib$es6$promise$utils$$objectOrFunction(x) {\n\t\t      return typeof x === 'function' || (typeof x === 'object' && x !== null);\n\t\t    }\n\t\t\n\t\t    function lib$es6$promise$utils$$isFunction(x) {\n\t\t      return typeof x === 'function';\n\t\t    }\n\t\t\n\t\t    function lib$es6$promise$utils$$isMaybeThenable(x) {\n\t\t      return typeof x === 'object' && x !== null;\n\t\t    }\n\t\t\n\t\t    var lib$es6$promise$utils$$_isArray;\n\t\t    if (!Array.isArray) {\n\t\t      lib$es6$promise$utils$$_isArray = function (x) {\n\t\t        return Object.prototype.toString.call(x) === '[object Array]';\n\t\t      };\n\t\t    } else {\n\t\t      lib$es6$promise$utils$$_isArray = Array.isArray;\n\t\t    }\n\t\t\n\t\t    var lib$es6$promise$utils$$isArray = lib$es6$promise$utils$$_isArray;\n\t\t    var lib$es6$promise$asap$$len = 0;\n\t\t    var lib$es6$promise$asap$$vertxNext;\n\t\t    var lib$es6$promise$asap$$customSchedulerFn;\n\t\t\n\t\t    var lib$es6$promise$asap$$asap = function asap(callback, arg) {\n\t\t      lib$es6$promise$asap$$queue[lib$es6$promise$asap$$len] = callback;\n\t\t      lib$es6$promise$asap$$queue[lib$es6$promise$asap$$len + 1] = arg;\n\t\t      lib$es6$promise$asap$$len += 2;\n\t\t      if (lib$es6$promise$asap$$len === 2) {\n\t\t        // If len is 2, that means that we need to schedule an async flush.\n\t\t        // If additional callbacks are queued before the queue is flushed, they\n\t\t        // will be processed by this flush that we are scheduling.\n\t\t        if (lib$es6$promise$asap$$customSchedulerFn) {\n\t\t          lib$es6$promise$asap$$customSchedulerFn(lib$es6$promise$asap$$flush);\n\t\t        } else {\n\t\t          lib$es6$promise$asap$$scheduleFlush();\n\t\t        }\n\t\t      }\n\t\t    }\n\t\t\n\t\t    function lib$es6$promise$asap$$setScheduler(scheduleFn) {\n\t\t      lib$es6$promise$asap$$customSchedulerFn = scheduleFn;\n\t\t    }\n\t\t\n\t\t    function lib$es6$promise$asap$$setAsap(asapFn) {\n\t\t      lib$es6$promise$asap$$asap = asapFn;\n\t\t    }\n\t\t\n\t\t    var lib$es6$promise$asap$$browserWindow = (typeof window !== 'undefined') ? window : undefined;\n\t\t    var lib$es6$promise$asap$$browserGlobal = lib$es6$promise$asap$$browserWindow || {};\n\t\t    var lib$es6$promise$asap$$BrowserMutationObserver = lib$es6$promise$asap$$browserGlobal.MutationObserver || lib$es6$promise$asap$$browserGlobal.WebKitMutationObserver;\n\t\t    var lib$es6$promise$asap$$isNode = typeof self === 'undefined' && typeof process !== 'undefined' && {}.toString.call(process) === '[object process]';\n\t\t\n\t\t    // test for web worker but not in IE10\n\t\t    var lib$es6$promise$asap$$isWorker = typeof Uint8ClampedArray !== 'undefined' &&\n\t\t      typeof importScripts !== 'undefined' &&\n\t\t      typeof MessageChannel !== 'undefined';\n\t\t\n\t\t    // node\n\t\t    function lib$es6$promise$asap$$useNextTick() {\n\t\t      // node version 0.10.x displays a deprecation warning when nextTick is used recursively\n\t\t      // see https://github.com/cujojs/when/issues/410 for details\n\t\t      return function() {\n\t\t        process.nextTick(lib$es6$promise$asap$$flush);\n\t\t      };\n\t\t    }\n\t\t\n\t\t    // vertx\n\t\t    function lib$es6$promise$asap$$useVertxTimer() {\n\t\t      return function() {\n\t\t        lib$es6$promise$asap$$vertxNext(lib$es6$promise$asap$$flush);\n\t\t      };\n\t\t    }\n\t\t\n\t\t    function lib$es6$promise$asap$$useMutationObserver() {\n\t\t      var iterations = 0;\n\t\t      var observer = new lib$es6$promise$asap$$BrowserMutationObserver(lib$es6$promise$asap$$flush);\n\t\t      var node = document.createTextNode('');\n\t\t      observer.observe(node, { characterData: true });\n\t\t\n\t\t      return function() {\n\t\t        node.data = (iterations = ++iterations % 2);\n\t\t      };\n\t\t    }\n\t\t\n\t\t    // web worker\n\t\t    function lib$es6$promise$asap$$useMessageChannel() {\n\t\t      var channel = new MessageChannel();\n\t\t      channel.port1.onmessage = lib$es6$promise$asap$$flush;\n\t\t      return function () {\n\t\t        channel.port2.postMessage(0);\n\t\t      };\n\t\t    }\n\t\t\n\t\t    function lib$es6$promise$asap$$useSetTimeout() {\n\t\t      return function() {\n\t\t        setTimeout(lib$es6$promise$asap$$flush, 1);\n\t\t      };\n\t\t    }\n\t\t\n\t\t    var lib$es6$promise$asap$$queue = new Array(1000);\n\t\t    function lib$es6$promise$asap$$flush() {\n\t\t      for (var i = 0; i < lib$es6$promise$asap$$len; i+=2) {\n\t\t        var callback = lib$es6$promise$asap$$queue[i];\n\t\t        var arg = lib$es6$promise$asap$$queue[i+1];\n\t\t\n\t\t        callback(arg);\n\t\t\n\t\t        lib$es6$promise$asap$$queue[i] = undefined;\n\t\t        lib$es6$promise$asap$$queue[i+1] = undefined;\n\t\t      }\n\t\t\n\t\t      lib$es6$promise$asap$$len = 0;\n\t\t    }\n\t\t\n\t\t    function lib$es6$promise$asap$$attemptVertx() {\n\t\t      try {\n\t\t        var r = require;\n\t\t        var vertx = __webpack_require__(27);\n\t\t        lib$es6$promise$asap$$vertxNext = vertx.runOnLoop || vertx.runOnContext;\n\t\t        return lib$es6$promise$asap$$useVertxTimer();\n\t\t      } catch(e) {\n\t\t        return lib$es6$promise$asap$$useSetTimeout();\n\t\t      }\n\t\t    }\n\t\t\n\t\t    var lib$es6$promise$asap$$scheduleFlush;\n\t\t    // Decide what async method to use to triggering processing of queued callbacks:\n\t\t    if (lib$es6$promise$asap$$isNode) {\n\t\t      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useNextTick();\n\t\t    } else if (lib$es6$promise$asap$$BrowserMutationObserver) {\n\t\t      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useMutationObserver();\n\t\t    } else if (lib$es6$promise$asap$$isWorker) {\n\t\t      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useMessageChannel();\n\t\t    } else if (lib$es6$promise$asap$$browserWindow === undefined && \"function\" === 'function') {\n\t\t      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$attemptVertx();\n\t\t    } else {\n\t\t      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useSetTimeout();\n\t\t    }\n\t\t    function lib$es6$promise$then$$then(onFulfillment, onRejection) {\n\t\t      var parent = this;\n\t\t\n\t\t      var child = new this.constructor(lib$es6$promise$$internal$$noop);\n\t\t\n\t\t      if (child[lib$es6$promise$$internal$$PROMISE_ID] === undefined) {\n\t\t        lib$es6$promise$$internal$$makePromise(child);\n\t\t      }\n\t\t\n\t\t      var state = parent._state;\n\t\t\n\t\t      if (state) {\n\t\t        var callback = arguments[state - 1];\n\t\t        lib$es6$promise$asap$$asap(function(){\n\t\t          lib$es6$promise$$internal$$invokeCallback(state, child, callback, parent._result);\n\t\t        });\n\t\t      } else {\n\t\t        lib$es6$promise$$internal$$subscribe(parent, child, onFulfillment, onRejection);\n\t\t      }\n\t\t\n\t\t      return child;\n\t\t    }\n\t\t    var lib$es6$promise$then$$default = lib$es6$promise$then$$then;\n\t\t    function lib$es6$promise$promise$resolve$$resolve(object) {\n\t\t      /*jshint validthis:true */\n\t\t      var Constructor = this;\n\t\t\n\t\t      if (object && typeof object === 'object' && object.constructor === Constructor) {\n\t\t        return object;\n\t\t      }\n\t\t\n\t\t      var promise = new Constructor(lib$es6$promise$$internal$$noop);\n\t\t      lib$es6$promise$$internal$$resolve(promise, object);\n\t\t      return promise;\n\t\t    }\n\t\t    var lib$es6$promise$promise$resolve$$default = lib$es6$promise$promise$resolve$$resolve;\n\t\t    var lib$es6$promise$$internal$$PROMISE_ID = Math.random().toString(36).substring(16);\n\t\t\n\t\t    function lib$es6$promise$$internal$$noop() {}\n\t\t\n\t\t    var lib$es6$promise$$internal$$PENDING   = void 0;\n\t\t    var lib$es6$promise$$internal$$FULFILLED = 1;\n\t\t    var lib$es6$promise$$internal$$REJECTED  = 2;\n\t\t\n\t\t    var lib$es6$promise$$internal$$GET_THEN_ERROR = new lib$es6$promise$$internal$$ErrorObject();\n\t\t\n\t\t    function lib$es6$promise$$internal$$selfFulfillment() {\n\t\t      return new TypeError(\"You cannot resolve a promise with itself\");\n\t\t    }\n\t\t\n\t\t    function lib$es6$promise$$internal$$cannotReturnOwn() {\n\t\t      return new TypeError('A promises callback cannot return that same promise.');\n\t\t    }\n\t\t\n\t\t    function lib$es6$promise$$internal$$getThen(promise) {\n\t\t      try {\n\t\t        return promise.then;\n\t\t      } catch(error) {\n\t\t        lib$es6$promise$$internal$$GET_THEN_ERROR.error = error;\n\t\t        return lib$es6$promise$$internal$$GET_THEN_ERROR;\n\t\t      }\n\t\t    }\n\t\t\n\t\t    function lib$es6$promise$$internal$$tryThen(then, value, fulfillmentHandler, rejectionHandler) {\n\t\t      try {\n\t\t        then.call(value, fulfillmentHandler, rejectionHandler);\n\t\t      } catch(e) {\n\t\t        return e;\n\t\t      }\n\t\t    }\n\t\t\n\t\t    function lib$es6$promise$$internal$$handleForeignThenable(promise, thenable, then) {\n\t\t       lib$es6$promise$asap$$asap(function(promise) {\n\t\t        var sealed = false;\n\t\t        var error = lib$es6$promise$$internal$$tryThen(then, thenable, function(value) {\n\t\t          if (sealed) { return; }\n\t\t          sealed = true;\n\t\t          if (thenable !== value) {\n\t\t            lib$es6$promise$$internal$$resolve(promise, value);\n\t\t          } else {\n\t\t            lib$es6$promise$$internal$$fulfill(promise, value);\n\t\t          }\n\t\t        }, function(reason) {\n\t\t          if (sealed) { return; }\n\t\t          sealed = true;\n\t\t\n\t\t          lib$es6$promise$$internal$$reject(promise, reason);\n\t\t        }, 'Settle: ' + (promise._label || ' unknown promise'));\n\t\t\n\t\t        if (!sealed && error) {\n\t\t          sealed = true;\n\t\t          lib$es6$promise$$internal$$reject(promise, error);\n\t\t        }\n\t\t      }, promise);\n\t\t    }\n\t\t\n\t\t    function lib$es6$promise$$internal$$handleOwnThenable(promise, thenable) {\n\t\t      if (thenable._state === lib$es6$promise$$internal$$FULFILLED) {\n\t\t        lib$es6$promise$$internal$$fulfill(promise, thenable._result);\n\t\t      } else if (thenable._state === lib$es6$promise$$internal$$REJECTED) {\n\t\t        lib$es6$promise$$internal$$reject(promise, thenable._result);\n\t\t      } else {\n\t\t        lib$es6$promise$$internal$$subscribe(thenable, undefined, function(value) {\n\t\t          lib$es6$promise$$internal$$resolve(promise, value);\n\t\t        }, function(reason) {\n\t\t          lib$es6$promise$$internal$$reject(promise, reason);\n\t\t        });\n\t\t      }\n\t\t    }\n\t\t\n\t\t    function lib$es6$promise$$internal$$handleMaybeThenable(promise, maybeThenable, then) {\n\t\t      if (maybeThenable.constructor === promise.constructor &&\n\t\t          then === lib$es6$promise$then$$default &&\n\t\t          constructor.resolve === lib$es6$promise$promise$resolve$$default) {\n\t\t        lib$es6$promise$$internal$$handleOwnThenable(promise, maybeThenable);\n\t\t      } else {\n\t\t        if (then === lib$es6$promise$$internal$$GET_THEN_ERROR) {\n\t\t          lib$es6$promise$$internal$$reject(promise, lib$es6$promise$$internal$$GET_THEN_ERROR.error);\n\t\t        } else if (then === undefined) {\n\t\t          lib$es6$promise$$internal$$fulfill(promise, maybeThenable);\n\t\t        } else if (lib$es6$promise$utils$$isFunction(then)) {\n\t\t          lib$es6$promise$$internal$$handleForeignThenable(promise, maybeThenable, then);\n\t\t        } else {\n\t\t          lib$es6$promise$$internal$$fulfill(promise, maybeThenable);\n\t\t        }\n\t\t      }\n\t\t    }\n\t\t\n\t\t    function lib$es6$promise$$internal$$resolve(promise, value) {\n\t\t      if (promise === value) {\n\t\t        lib$es6$promise$$internal$$reject(promise, lib$es6$promise$$internal$$selfFulfillment());\n\t\t      } else if (lib$es6$promise$utils$$objectOrFunction(value)) {\n\t\t        lib$es6$promise$$internal$$handleMaybeThenable(promise, value, lib$es6$promise$$internal$$getThen(value));\n\t\t      } else {\n\t\t        lib$es6$promise$$internal$$fulfill(promise, value);\n\t\t      }\n\t\t    }\n\t\t\n\t\t    function lib$es6$promise$$internal$$publishRejection(promise) {\n\t\t      if (promise._onerror) {\n\t\t        promise._onerror(promise._result);\n\t\t      }\n\t\t\n\t\t      lib$es6$promise$$internal$$publish(promise);\n\t\t    }\n\t\t\n\t\t    function lib$es6$promise$$internal$$fulfill(promise, value) {\n\t\t      if (promise._state !== lib$es6$promise$$internal$$PENDING) { return; }\n\t\t\n\t\t      promise._result = value;\n\t\t      promise._state = lib$es6$promise$$internal$$FULFILLED;\n\t\t\n\t\t      if (promise._subscribers.length !== 0) {\n\t\t        lib$es6$promise$asap$$asap(lib$es6$promise$$internal$$publish, promise);\n\t\t      }\n\t\t    }\n\t\t\n\t\t    function lib$es6$promise$$internal$$reject(promise, reason) {\n\t\t      if (promise._state !== lib$es6$promise$$internal$$PENDING) { return; }\n\t\t      promise._state = lib$es6$promise$$internal$$REJECTED;\n\t\t      promise._result = reason;\n\t\t\n\t\t      lib$es6$promise$asap$$asap(lib$es6$promise$$internal$$publishRejection, promise);\n\t\t    }\n\t\t\n\t\t    function lib$es6$promise$$internal$$subscribe(parent, child, onFulfillment, onRejection) {\n\t\t      var subscribers = parent._subscribers;\n\t\t      var length = subscribers.length;\n\t\t\n\t\t      parent._onerror = null;\n\t\t\n\t\t      subscribers[length] = child;\n\t\t      subscribers[length + lib$es6$promise$$internal$$FULFILLED] = onFulfillment;\n\t\t      subscribers[length + lib$es6$promise$$internal$$REJECTED]  = onRejection;\n\t\t\n\t\t      if (length === 0 && parent._state) {\n\t\t        lib$es6$promise$asap$$asap(lib$es6$promise$$internal$$publish, parent);\n\t\t      }\n\t\t    }\n\t\t\n\t\t    function lib$es6$promise$$internal$$publish(promise) {\n\t\t      var subscribers = promise._subscribers;\n\t\t      var settled = promise._state;\n\t\t\n\t\t      if (subscribers.length === 0) { return; }\n\t\t\n\t\t      var child, callback, detail = promise._result;\n\t\t\n\t\t      for (var i = 0; i < subscribers.length; i += 3) {\n\t\t        child = subscribers[i];\n\t\t        callback = subscribers[i + settled];\n\t\t\n\t\t        if (child) {\n\t\t          lib$es6$promise$$internal$$invokeCallback(settled, child, callback, detail);\n\t\t        } else {\n\t\t          callback(detail);\n\t\t        }\n\t\t      }\n\t\t\n\t\t      promise._subscribers.length = 0;\n\t\t    }\n\t\t\n\t\t    function lib$es6$promise$$internal$$ErrorObject() {\n\t\t      this.error = null;\n\t\t    }\n\t\t\n\t\t    var lib$es6$promise$$internal$$TRY_CATCH_ERROR = new lib$es6$promise$$internal$$ErrorObject();\n\t\t\n\t\t    function lib$es6$promise$$internal$$tryCatch(callback, detail) {\n\t\t      try {\n\t\t        return callback(detail);\n\t\t      } catch(e) {\n\t\t        lib$es6$promise$$internal$$TRY_CATCH_ERROR.error = e;\n\t\t        return lib$es6$promise$$internal$$TRY_CATCH_ERROR;\n\t\t      }\n\t\t    }\n\t\t\n\t\t    function lib$es6$promise$$internal$$invokeCallback(settled, promise, callback, detail) {\n\t\t      var hasCallback = lib$es6$promise$utils$$isFunction(callback),\n\t\t          value, error, succeeded, failed;\n\t\t\n\t\t      if (hasCallback) {\n\t\t        value = lib$es6$promise$$internal$$tryCatch(callback, detail);\n\t\t\n\t\t        if (value === lib$es6$promise$$internal$$TRY_CATCH_ERROR) {\n\t\t          failed = true;\n\t\t          error = value.error;\n\t\t          value = null;\n\t\t        } else {\n\t\t          succeeded = true;\n\t\t        }\n\t\t\n\t\t        if (promise === value) {\n\t\t          lib$es6$promise$$internal$$reject(promise, lib$es6$promise$$internal$$cannotReturnOwn());\n\t\t          return;\n\t\t        }\n\t\t\n\t\t      } else {\n\t\t        value = detail;\n\t\t        succeeded = true;\n\t\t      }\n\t\t\n\t\t      if (promise._state !== lib$es6$promise$$internal$$PENDING) {\n\t\t        // noop\n\t\t      } else if (hasCallback && succeeded) {\n\t\t        lib$es6$promise$$internal$$resolve(promise, value);\n\t\t      } else if (failed) {\n\t\t        lib$es6$promise$$internal$$reject(promise, error);\n\t\t      } else if (settled === lib$es6$promise$$internal$$FULFILLED) {\n\t\t        lib$es6$promise$$internal$$fulfill(promise, value);\n\t\t      } else if (settled === lib$es6$promise$$internal$$REJECTED) {\n\t\t        lib$es6$promise$$internal$$reject(promise, value);\n\t\t      }\n\t\t    }\n\t\t\n\t\t    function lib$es6$promise$$internal$$initializePromise(promise, resolver) {\n\t\t      try {\n\t\t        resolver(function resolvePromise(value){\n\t\t          lib$es6$promise$$internal$$resolve(promise, value);\n\t\t        }, function rejectPromise(reason) {\n\t\t          lib$es6$promise$$internal$$reject(promise, reason);\n\t\t        });\n\t\t      } catch(e) {\n\t\t        lib$es6$promise$$internal$$reject(promise, e);\n\t\t      }\n\t\t    }\n\t\t\n\t\t    var lib$es6$promise$$internal$$id = 0;\n\t\t    function lib$es6$promise$$internal$$nextId() {\n\t\t      return lib$es6$promise$$internal$$id++;\n\t\t    }\n\t\t\n\t\t    function lib$es6$promise$$internal$$makePromise(promise) {\n\t\t      promise[lib$es6$promise$$internal$$PROMISE_ID] = lib$es6$promise$$internal$$id++;\n\t\t      promise._state = undefined;\n\t\t      promise._result = undefined;\n\t\t      promise._subscribers = [];\n\t\t    }\n\t\t\n\t\t    function lib$es6$promise$promise$all$$all(entries) {\n\t\t      return new lib$es6$promise$enumerator$$default(this, entries).promise;\n\t\t    }\n\t\t    var lib$es6$promise$promise$all$$default = lib$es6$promise$promise$all$$all;\n\t\t    function lib$es6$promise$promise$race$$race(entries) {\n\t\t      /*jshint validthis:true */\n\t\t      var Constructor = this;\n\t\t\n\t\t      if (!lib$es6$promise$utils$$isArray(entries)) {\n\t\t        return new Constructor(function(resolve, reject) {\n\t\t          reject(new TypeError('You must pass an array to race.'));\n\t\t        });\n\t\t      } else {\n\t\t        return new Constructor(function(resolve, reject) {\n\t\t          var length = entries.length;\n\t\t          for (var i = 0; i < length; i++) {\n\t\t            Constructor.resolve(entries[i]).then(resolve, reject);\n\t\t          }\n\t\t        });\n\t\t      }\n\t\t    }\n\t\t    var lib$es6$promise$promise$race$$default = lib$es6$promise$promise$race$$race;\n\t\t    function lib$es6$promise$promise$reject$$reject(reason) {\n\t\t      /*jshint validthis:true */\n\t\t      var Constructor = this;\n\t\t      var promise = new Constructor(lib$es6$promise$$internal$$noop);\n\t\t      lib$es6$promise$$internal$$reject(promise, reason);\n\t\t      return promise;\n\t\t    }\n\t\t    var lib$es6$promise$promise$reject$$default = lib$es6$promise$promise$reject$$reject;\n\t\t\n\t\t\n\t\t    function lib$es6$promise$promise$$needsResolver() {\n\t\t      throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');\n\t\t    }\n\t\t\n\t\t    function lib$es6$promise$promise$$needsNew() {\n\t\t      throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\");\n\t\t    }\n\t\t\n\t\t    var lib$es6$promise$promise$$default = lib$es6$promise$promise$$Promise;\n\t\t    /**\n\t\t      Promise objects represent the eventual result of an asynchronous operation. The\n\t\t      primary way of interacting with a promise is through its `then` method, which\n\t\t      registers callbacks to receive either a promise's eventual value or the reason\n\t\t      why the promise cannot be fulfilled.\n\t\t\n\t\t      Terminology\n\t\t      -----------\n\t\t\n\t\t      - `promise` is an object or function with a `then` method whose behavior conforms to this specification.\n\t\t      - `thenable` is an object or function that defines a `then` method.\n\t\t      - `value` is any legal JavaScript value (including undefined, a thenable, or a promise).\n\t\t      - `exception` is a value that is thrown using the throw statement.\n\t\t      - `reason` is a value that indicates why a promise was rejected.\n\t\t      - `settled` the final resting state of a promise, fulfilled or rejected.\n\t\t\n\t\t      A promise can be in one of three states: pending, fulfilled, or rejected.\n\t\t\n\t\t      Promises that are fulfilled have a fulfillment value and are in the fulfilled\n\t\t      state.  Promises that are rejected have a rejection reason and are in the\n\t\t      rejected state.  A fulfillment value is never a thenable.\n\t\t\n\t\t      Promises can also be said to *resolve* a value.  If this value is also a\n\t\t      promise, then the original promise's settled state will match the value's\n\t\t      settled state.  So a promise that *resolves* a promise that rejects will\n\t\t      itself reject, and a promise that *resolves* a promise that fulfills will\n\t\t      itself fulfill.\n\t\t\n\t\t\n\t\t      Basic Usage:\n\t\t      ------------\n\t\t\n\t\t      ```js\n\t\t      var promise = new Promise(function(resolve, reject) {\n\t\t        // on success\n\t\t        resolve(value);\n\t\t\n\t\t        // on failure\n\t\t        reject(reason);\n\t\t      });\n\t\t\n\t\t      promise.then(function(value) {\n\t\t        // on fulfillment\n\t\t      }, function(reason) {\n\t\t        // on rejection\n\t\t      });\n\t\t      ```\n\t\t\n\t\t      Advanced Usage:\n\t\t      ---------------\n\t\t\n\t\t      Promises shine when abstracting away asynchronous interactions such as\n\t\t      `XMLHttpRequest`s.\n\t\t\n\t\t      ```js\n\t\t      function getJSON(url) {\n\t\t        return new Promise(function(resolve, reject){\n\t\t          var xhr = new XMLHttpRequest();\n\t\t\n\t\t          xhr.open('GET', url);\n\t\t          xhr.onreadystatechange = handler;\n\t\t          xhr.responseType = 'json';\n\t\t          xhr.setRequestHeader('Accept', 'application/json');\n\t\t          xhr.send();\n\t\t\n\t\t          function handler() {\n\t\t            if (this.readyState === this.DONE) {\n\t\t              if (this.status === 200) {\n\t\t                resolve(this.response);\n\t\t              } else {\n\t\t                reject(new Error('getJSON: `' + url + '` failed with status: [' + this.status + ']'));\n\t\t              }\n\t\t            }\n\t\t          };\n\t\t        });\n\t\t      }\n\t\t\n\t\t      getJSON('/posts.json').then(function(json) {\n\t\t        // on fulfillment\n\t\t      }, function(reason) {\n\t\t        // on rejection\n\t\t      });\n\t\t      ```\n\t\t\n\t\t      Unlike callbacks, promises are great composable primitives.\n\t\t\n\t\t      ```js\n\t\t      Promise.all([\n\t\t        getJSON('/posts'),\n\t\t        getJSON('/comments')\n\t\t      ]).then(function(values){\n\t\t        values[0] // => postsJSON\n\t\t        values[1] // => commentsJSON\n\t\t\n\t\t        return values;\n\t\t      });\n\t\t      ```\n\t\t\n\t\t      @class Promise\n\t\t      @param {function} resolver\n\t\t      Useful for tooling.\n\t\t      @constructor\n\t\t    */\n\t\t    function lib$es6$promise$promise$$Promise(resolver) {\n\t\t      this[lib$es6$promise$$internal$$PROMISE_ID] = lib$es6$promise$$internal$$nextId();\n\t\t      this._result = this._state = undefined;\n\t\t      this._subscribers = [];\n\t\t\n\t\t      if (lib$es6$promise$$internal$$noop !== resolver) {\n\t\t        typeof resolver !== 'function' && lib$es6$promise$promise$$needsResolver();\n\t\t        this instanceof lib$es6$promise$promise$$Promise ? lib$es6$promise$$internal$$initializePromise(this, resolver) : lib$es6$promise$promise$$needsNew();\n\t\t      }\n\t\t    }\n\t\t\n\t\t    lib$es6$promise$promise$$Promise.all = lib$es6$promise$promise$all$$default;\n\t\t    lib$es6$promise$promise$$Promise.race = lib$es6$promise$promise$race$$default;\n\t\t    lib$es6$promise$promise$$Promise.resolve = lib$es6$promise$promise$resolve$$default;\n\t\t    lib$es6$promise$promise$$Promise.reject = lib$es6$promise$promise$reject$$default;\n\t\t    lib$es6$promise$promise$$Promise._setScheduler = lib$es6$promise$asap$$setScheduler;\n\t\t    lib$es6$promise$promise$$Promise._setAsap = lib$es6$promise$asap$$setAsap;\n\t\t    lib$es6$promise$promise$$Promise._asap = lib$es6$promise$asap$$asap;\n\t\t\n\t\t    lib$es6$promise$promise$$Promise.prototype = {\n\t\t      constructor: lib$es6$promise$promise$$Promise,\n\t\t\n\t\t    /**\n\t\t      The primary way of interacting with a promise is through its `then` method,\n\t\t      which registers callbacks to receive either a promise's eventual value or the\n\t\t      reason why the promise cannot be fulfilled.\n\t\t\n\t\t      ```js\n\t\t      findUser().then(function(user){\n\t\t        // user is available\n\t\t      }, function(reason){\n\t\t        // user is unavailable, and you are given the reason why\n\t\t      });\n\t\t      ```\n\t\t\n\t\t      Chaining\n\t\t      --------\n\t\t\n\t\t      The return value of `then` is itself a promise.  This second, 'downstream'\n\t\t      promise is resolved with the return value of the first promise's fulfillment\n\t\t      or rejection handler, or rejected if the handler throws an exception.\n\t\t\n\t\t      ```js\n\t\t      findUser().then(function (user) {\n\t\t        return user.name;\n\t\t      }, function (reason) {\n\t\t        return 'default name';\n\t\t      }).then(function (userName) {\n\t\t        // If `findUser` fulfilled, `userName` will be the user's name, otherwise it\n\t\t        // will be `'default name'`\n\t\t      });\n\t\t\n\t\t      findUser().then(function (user) {\n\t\t        throw new Error('Found user, but still unhappy');\n\t\t      }, function (reason) {\n\t\t        throw new Error('`findUser` rejected and we're unhappy');\n\t\t      }).then(function (value) {\n\t\t        // never reached\n\t\t      }, function (reason) {\n\t\t        // if `findUser` fulfilled, `reason` will be 'Found user, but still unhappy'.\n\t\t        // If `findUser` rejected, `reason` will be '`findUser` rejected and we're unhappy'.\n\t\t      });\n\t\t      ```\n\t\t      If the downstream promise does not specify a rejection handler, rejection reasons will be propagated further downstream.\n\t\t\n\t\t      ```js\n\t\t      findUser().then(function (user) {\n\t\t        throw new PedagogicalException('Upstream error');\n\t\t      }).then(function (value) {\n\t\t        // never reached\n\t\t      }).then(function (value) {\n\t\t        // never reached\n\t\t      }, function (reason) {\n\t\t        // The `PedgagocialException` is propagated all the way down to here\n\t\t      });\n\t\t      ```\n\t\t\n\t\t      Assimilation\n\t\t      ------------\n\t\t\n\t\t      Sometimes the value you want to propagate to a downstream promise can only be\n\t\t      retrieved asynchronously. This can be achieved by returning a promise in the\n\t\t      fulfillment or rejection handler. The downstream promise will then be pending\n\t\t      until the returned promise is settled. This is called *assimilation*.\n\t\t\n\t\t      ```js\n\t\t      findUser().then(function (user) {\n\t\t        return findCommentsByAuthor(user);\n\t\t      }).then(function (comments) {\n\t\t        // The user's comments are now available\n\t\t      });\n\t\t      ```\n\t\t\n\t\t      If the assimliated promise rejects, then the downstream promise will also reject.\n\t\t\n\t\t      ```js\n\t\t      findUser().then(function (user) {\n\t\t        return findCommentsByAuthor(user);\n\t\t      }).then(function (comments) {\n\t\t        // If `findCommentsByAuthor` fulfills, we'll have the value here\n\t\t      }, function (reason) {\n\t\t        // If `findCommentsByAuthor` rejects, we'll have the reason here\n\t\t      });\n\t\t      ```\n\t\t\n\t\t      Simple Example\n\t\t      --------------\n\t\t\n\t\t      Synchronous Example\n\t\t\n\t\t      ```javascript\n\t\t      var result;\n\t\t\n\t\t      try {\n\t\t        result = findResult();\n\t\t        // success\n\t\t      } catch(reason) {\n\t\t        // failure\n\t\t      }\n\t\t      ```\n\t\t\n\t\t      Errback Example\n\t\t\n\t\t      ```js\n\t\t      findResult(function(result, err){\n\t\t        if (err) {\n\t\t          // failure\n\t\t        } else {\n\t\t          // success\n\t\t        }\n\t\t      });\n\t\t      ```\n\t\t\n\t\t      Promise Example;\n\t\t\n\t\t      ```javascript\n\t\t      findResult().then(function(result){\n\t\t        // success\n\t\t      }, function(reason){\n\t\t        // failure\n\t\t      });\n\t\t      ```\n\t\t\n\t\t      Advanced Example\n\t\t      --------------\n\t\t\n\t\t      Synchronous Example\n\t\t\n\t\t      ```javascript\n\t\t      var author, books;\n\t\t\n\t\t      try {\n\t\t        author = findAuthor();\n\t\t        books  = findBooksByAuthor(author);\n\t\t        // success\n\t\t      } catch(reason) {\n\t\t        // failure\n\t\t      }\n\t\t      ```\n\t\t\n\t\t      Errback Example\n\t\t\n\t\t      ```js\n\t\t\n\t\t      function foundBooks(books) {\n\t\t\n\t\t      }\n\t\t\n\t\t      function failure(reason) {\n\t\t\n\t\t      }\n\t\t\n\t\t      findAuthor(function(author, err){\n\t\t        if (err) {\n\t\t          failure(err);\n\t\t          // failure\n\t\t        } else {\n\t\t          try {\n\t\t            findBoooksByAuthor(author, function(books, err) {\n\t\t              if (err) {\n\t\t                failure(err);\n\t\t              } else {\n\t\t                try {\n\t\t                  foundBooks(books);\n\t\t                } catch(reason) {\n\t\t                  failure(reason);\n\t\t                }\n\t\t              }\n\t\t            });\n\t\t          } catch(error) {\n\t\t            failure(err);\n\t\t          }\n\t\t          // success\n\t\t        }\n\t\t      });\n\t\t      ```\n\t\t\n\t\t      Promise Example;\n\t\t\n\t\t      ```javascript\n\t\t      findAuthor().\n\t\t        then(findBooksByAuthor).\n\t\t        then(function(books){\n\t\t          // found books\n\t\t      }).catch(function(reason){\n\t\t        // something went wrong\n\t\t      });\n\t\t      ```\n\t\t\n\t\t      @method then\n\t\t      @param {Function} onFulfilled\n\t\t      @param {Function} onRejected\n\t\t      Useful for tooling.\n\t\t      @return {Promise}\n\t\t    */\n\t\t      then: lib$es6$promise$then$$default,\n\t\t\n\t\t    /**\n\t\t      `catch` is simply sugar for `then(undefined, onRejection)` which makes it the same\n\t\t      as the catch block of a try/catch statement.\n\t\t\n\t\t      ```js\n\t\t      function findAuthor(){\n\t\t        throw new Error('couldn't find that author');\n\t\t      }\n\t\t\n\t\t      // synchronous\n\t\t      try {\n\t\t        findAuthor();\n\t\t      } catch(reason) {\n\t\t        // something went wrong\n\t\t      }\n\t\t\n\t\t      // async with promises\n\t\t      findAuthor().catch(function(reason){\n\t\t        // something went wrong\n\t\t      });\n\t\t      ```\n\t\t\n\t\t      @method catch\n\t\t      @param {Function} onRejection\n\t\t      Useful for tooling.\n\t\t      @return {Promise}\n\t\t    */\n\t\t      'catch': function(onRejection) {\n\t\t        return this.then(null, onRejection);\n\t\t      }\n\t\t    };\n\t\t    var lib$es6$promise$enumerator$$default = lib$es6$promise$enumerator$$Enumerator;\n\t\t    function lib$es6$promise$enumerator$$Enumerator(Constructor, input) {\n\t\t      this._instanceConstructor = Constructor;\n\t\t      this.promise = new Constructor(lib$es6$promise$$internal$$noop);\n\t\t\n\t\t      if (!this.promise[lib$es6$promise$$internal$$PROMISE_ID]) {\n\t\t        lib$es6$promise$$internal$$makePromise(this.promise);\n\t\t      }\n\t\t\n\t\t      if (lib$es6$promise$utils$$isArray(input)) {\n\t\t        this._input     = input;\n\t\t        this.length     = input.length;\n\t\t        this._remaining = input.length;\n\t\t\n\t\t        this._result = new Array(this.length);\n\t\t\n\t\t        if (this.length === 0) {\n\t\t          lib$es6$promise$$internal$$fulfill(this.promise, this._result);\n\t\t        } else {\n\t\t          this.length = this.length || 0;\n\t\t          this._enumerate();\n\t\t          if (this._remaining === 0) {\n\t\t            lib$es6$promise$$internal$$fulfill(this.promise, this._result);\n\t\t          }\n\t\t        }\n\t\t      } else {\n\t\t        lib$es6$promise$$internal$$reject(this.promise, lib$es6$promise$enumerator$$validationError());\n\t\t      }\n\t\t    }\n\t\t\n\t\t    function lib$es6$promise$enumerator$$validationError() {\n\t\t      return new Error('Array Methods must be provided an Array');\n\t\t    }\n\t\t\n\t\t    lib$es6$promise$enumerator$$Enumerator.prototype._enumerate = function() {\n\t\t      var length  = this.length;\n\t\t      var input   = this._input;\n\t\t\n\t\t      for (var i = 0; this._state === lib$es6$promise$$internal$$PENDING && i < length; i++) {\n\t\t        this._eachEntry(input[i], i);\n\t\t      }\n\t\t    };\n\t\t\n\t\t    lib$es6$promise$enumerator$$Enumerator.prototype._eachEntry = function(entry, i) {\n\t\t      var c = this._instanceConstructor;\n\t\t      var resolve = c.resolve;\n\t\t\n\t\t      if (resolve === lib$es6$promise$promise$resolve$$default) {\n\t\t        var then = lib$es6$promise$$internal$$getThen(entry);\n\t\t\n\t\t        if (then === lib$es6$promise$then$$default &&\n\t\t            entry._state !== lib$es6$promise$$internal$$PENDING) {\n\t\t          this._settledAt(entry._state, i, entry._result);\n\t\t        } else if (typeof then !== 'function') {\n\t\t          this._remaining--;\n\t\t          this._result[i] = entry;\n\t\t        } else if (c === lib$es6$promise$promise$$default) {\n\t\t          var promise = new c(lib$es6$promise$$internal$$noop);\n\t\t          lib$es6$promise$$internal$$handleMaybeThenable(promise, entry, then);\n\t\t          this._willSettleAt(promise, i);\n\t\t        } else {\n\t\t          this._willSettleAt(new c(function(resolve) { resolve(entry); }), i);\n\t\t        }\n\t\t      } else {\n\t\t        this._willSettleAt(resolve(entry), i);\n\t\t      }\n\t\t    };\n\t\t\n\t\t    lib$es6$promise$enumerator$$Enumerator.prototype._settledAt = function(state, i, value) {\n\t\t      var promise = this.promise;\n\t\t\n\t\t      if (promise._state === lib$es6$promise$$internal$$PENDING) {\n\t\t        this._remaining--;\n\t\t\n\t\t        if (state === lib$es6$promise$$internal$$REJECTED) {\n\t\t          lib$es6$promise$$internal$$reject(promise, value);\n\t\t        } else {\n\t\t          this._result[i] = value;\n\t\t        }\n\t\t      }\n\t\t\n\t\t      if (this._remaining === 0) {\n\t\t        lib$es6$promise$$internal$$fulfill(promise, this._result);\n\t\t      }\n\t\t    };\n\t\t\n\t\t    lib$es6$promise$enumerator$$Enumerator.prototype._willSettleAt = function(promise, i) {\n\t\t      var enumerator = this;\n\t\t\n\t\t      lib$es6$promise$$internal$$subscribe(promise, undefined, function(value) {\n\t\t        enumerator._settledAt(lib$es6$promise$$internal$$FULFILLED, i, value);\n\t\t      }, function(reason) {\n\t\t        enumerator._settledAt(lib$es6$promise$$internal$$REJECTED, i, reason);\n\t\t      });\n\t\t    };\n\t\t    function lib$es6$promise$polyfill$$polyfill() {\n\t\t      var local;\n\t\t\n\t\t      if (typeof global !== 'undefined') {\n\t\t          local = global;\n\t\t      } else if (typeof self !== 'undefined') {\n\t\t          local = self;\n\t\t      } else {\n\t\t          try {\n\t\t              local = Function('return this')();\n\t\t          } catch (e) {\n\t\t              throw new Error('polyfill failed because global object is unavailable in this environment');\n\t\t          }\n\t\t      }\n\t\t\n\t\t      var P = local.Promise;\n\t\t\n\t\t      if (P && Object.prototype.toString.call(P.resolve()) === '[object Promise]' && !P.cast) {\n\t\t        return;\n\t\t      }\n\t\t\n\t\t      local.Promise = lib$es6$promise$promise$$default;\n\t\t    }\n\t\t    var lib$es6$promise$polyfill$$default = lib$es6$promise$polyfill$$polyfill;\n\t\t\n\t\t    var lib$es6$promise$umd$$ES6Promise = {\n\t\t      'Promise': lib$es6$promise$promise$$default,\n\t\t      'polyfill': lib$es6$promise$polyfill$$default\n\t\t    };\n\t\t\n\t\t    /* global define:true module:true window: true */\n\t\t    if (\"function\" === 'function' && __webpack_require__(25)['amd']) {\n\t\t      !(__WEBPACK_AMD_DEFINE_RESULT__ = function() { return lib$es6$promise$umd$$ES6Promise; }.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t\t    } else if (typeof module !== 'undefined' && module['exports']) {\n\t\t      module['exports'] = lib$es6$promise$umd$$ES6Promise;\n\t\t    } else if (typeof this !== 'undefined') {\n\t\t      this['ES6Promise'] = lib$es6$promise$umd$$ES6Promise;\n\t\t    }\n\t\t\n\t\t    lib$es6$promise$polyfill$$default();\n\t\t}).call(this);\n\t\t\n\t\t\n\t\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2), (function() { return this; }()), __webpack_require__(26)(module)))\n\t\n\t/***/ },\n\t/* 22 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t/**\n\t\t* (C) Copyright IBM Corp. 2016. All Rights Reserved.\n\t\t*\n\t\t* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not\n\t\t* use this file except in compliance with the License. You may obtain a copy of\n\t\t* the License at\n\t\t*\n\t\t* http://www.apache.org/licenses/LICENSE-2.0\n\t\t*\n\t\t* Unless required by applicable law or agreed to in writing, software\n\t\t* distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n\t\t* WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n\t\t* License for the specific language governing permissions and limitations under\n\t\t* the License.\n\t\t*/\n\t\t\n\t\tif ( typeof Promise === 'undefined' ) __webpack_require__(21).polyfill();\n\t\t\n\t\tvar assign = __webpack_require__(24);\n\t\tvar axios = __webpack_require__(5);\n\t\tvar storage = __webpack_require__(23);\n\t\t\n\t\tvar options = {\n\t\t\tbaseURL: 'https://dev.api.ibm.com/virtualagent/development/api/v1/',\n\t\t\ttimeout: 30 * 1000,\n\t\t\tuserID: null,\n\t\t\twithCredentials: false,\n\t\t\tXIBMClientID: false,\n\t\t\tXIBMClientSecret: false\n\t\t};\n\t\t\n\t\tvar api = axios.create( options );\n\t\t\n\t\tvar profileDataRe = /\\|&(.*?)\\|/g;\n\t\tvar insertUserProfileData = function(msg) {\n\t\t\tvar flatten = (typeof msg === 'string') ? msg : JSON.stringify(msg);\n\t\t\tvar matches = (flatten.match(profileDataRe) || []);\n\t\t\tflatten = matches.reduce(function(result, prof) {\n\t\t\t\tconst name = prof.slice( 2, -1 );\n\t\t\t\tconst value = storage.get(name) || name;\n\t\t\t\treturn result.replace( prof, value );\n\t\t\t}, flatten);\n\t\t\treturn (typeof msg === 'string') ? flatten : JSON.parse(flatten);\n\t\t};\n\t\t\n\t\t/**\n\t\t * @namespace SDK\n\t\t */\n\t\t\n\t\tvar SDK = module.exports = {\n\t\t\t/**\n\t\t\t * Configure the Client SDK\n\t\t\t * @function configure\n\t\t\t * @memberof SDK\n\t\t\t * @param {Object} config\n\t\t\t * @param {string} config.baseURL=https://dev.api.ibm.com/virtualagent/development/api/v1/ - Optional: The URL the SDK should prepend to requests.\n\t\t\t * @param {int} config.timeout=30000 - Optional: How long requests should wait before they error.\n\t\t\t * @param {string} config.userID - Optional: A user identifier, transformed by a one-way hashing algorithm. Used by your Metrics Dashboard to track usage.\n\t\t\t * @param {string} config.userLatLon - Optional: lat,lon or user ( eg. 28.3852,-81.5639 ). Used by your Metrics Dashboard to track usage.\n\t\t\t * @param {string} config.withCredentials - Optional: indicates whether or not cross-site Access-Control requests should be made using credentials\n\t\t\t * @param {string} config.XIBMClientID - Optional: Your X-IBM-Client-Id. This should not be made public in a public environment. Including this will add X-IBM-Client-Id as a header to your request.\n\t\t\t * @param {string} config.XIBMClientSecret - Optional: Your X-IBM-Client-Secret. This should not be made public in a public environment. Including this will add X-IBM-Client-Secret as a header to your request.\n\t\t\t * @example\n\t\t\t * SDK.configure({\n\t\t\t *   baseURL: 'https://server.mysite.com',\n\t\t\t *   userID: 'poiuytrewq',\n\t\t\t *   userLatLon: '28.3852,-81.5639'\n\t\t\t * });\n\t\t\t * @returns {SDK} Returns: The SDK singleton\n\t\t\t */\n\t\t\tconfigure: function( config ) {\n\t\t\t\tassign( options, config );\n\t\t\t\tapi = axios.create({\n\t\t\t\t\tbaseURL: options.baseURL,\n\t\t\t\t\ttimeout: options.timeout,\n\t\t\t\t\twithCredentials: options.withCredentials,\n\t\t\t\t\theaders: (options.XIBMClientID && options.XIBMClientSecret) ? {\n\t\t\t\t\t\t'X-IBM-Client-Id': options.XIBMClientID,\n\t\t\t\t\t\t'X-IBM-Client-Secret': options.XIBMClientSecret\n\t\t\t\t\t} : {}\n\t\t\t\t});\n\t\t\t\treturn SDK;\n\t\t\t},\n\t\t\t/**\n\t\t\t * Start a new chat session\n\t\t\t * @function start\n\t\t\t * @memberof SDK\n\t\t\t * @param {string} botID - Your botID.\n\t\t\t * @example\n\t\t\t * SDK.start(botID)\n\t\t\t *    .then(function(res) {\n\t\t\t *      console.log(res.chatID, res.message);\n\t\t\t *    })\n\t\t\t *    .catch(function(err) {\n\t\t\t *      console.error(err);\n\t\t\t *    });\n\t\t\t * @returns {Promise({ chatID: \"string\", message: \"string\" })} Returns: A Promise that resolves when the chat session is started.\n\t\t\t */\n\t\t\tstart: function( botID ) {\n\t\t\t\tvar requestID = uuid();\n\t\t\t\tvar data = { userID: options.userID, userLatLon: options.userLatLon };\n\t\t\t\tvar endpoint = '/bots/'+ botID +'/dialogs';\n\t\t\t\tvar config = { 'headers': { 'X-Request-ID': requestID } };\n\t\t\t\treturn api\n\t\t\t\t\t.post( endpoint, data, config )\n\t\t\t\t\t.then( function( res ) {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tchatID: res.data.dialog_id,\n\t\t\t\t\t\t\tmessage: insertUserProfileData(res.data.message)\n\t\t\t\t\t\t};\n\t\t\t\t\t})['catch']( function( err ) {\n\t\t\t\t\t\tconsole.error('Request failed:', requestID );\n\t\t\t\t\t\tonError( err );\n\t\t\t\t\t});\n\t\t\t},\n\t\t\t/**\n\t\t\t * Send a message to a chat session\n\t\t\t * @function send\n\t\t\t * @memberof SDK\n\t\t\t * @param {string} botID - Your botID\n\t\t\t * @param {string} chatID - Your chatID provided by SDK.start\n\t\t\t * @param {string} message - Your message\n\t\t\t * @example\n\t\t\t * SDK.send(botID, chatID, 'Hello!')\n\t\t\t *    .then(function(data) {\n\t\t\t *      console.log(data.message);\n\t\t\t *    })\n\t\t\t *    .catch(function(err) {\n\t\t\t *      console.error(err);\n\t\t\t *    });\n\t\t\t * @returns {Promise({ message: \"string\" })} Returns: A Promise that resolves when the bot responds.\n\t\t\t */\n\t\t\tsend: function( botID, chatID, message ) {\n\t\t\t\tvar requestID = uuid();\n\t\t\t\tvar data = { message: message, userID: options.userID, userLatLon: options.userLatLon };\n\t\t\t\tvar endpoint = '/bots/'+ botID +'/dialogs/'+ chatID +'/messages';\n\t\t\t\tvar config = { 'headers': { 'X-Request-ID': requestID } };\n\t\t\t\treturn api\n\t\t\t\t\t.post( endpoint, data, config )\n\t\t\t\t\t.then( function( res ) {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tmessage: insertUserProfileData(res.data.message)\n\t\t\t\t\t\t};\n\t\t\t\t\t})['catch']( function( err ) {\n\t\t\t\t\t\tconsole.error('Request failed:', requestID );\n\t\t\t\t\t\tonError( err );\n\t\t\t\t\t});\n\t\t\t},\n\t\t\t/**\n\t\t\t* Iterate profile data into a given message object.\n\t\t\t* @memberof SDK\n\t\t\t* @function parse\n\t\t\t* @param {Any} message - A string or message object to insert profile data into.\n\t\t\t* @returns {Any} Returns: The message in original format with variables replaced.\n\t\t\t* @example\n\t\t\t* var message = \"You owe |&bill_amount|.\";\n\t\t\t* var parsed = SDK.parse(message);\n\t\t\t*/\n\t\t\tparse: insertUserProfileData,\n\t\t\t/**\n\t\t\t * @namespace profile\n\t\t\t * @memberof SDK\n\t\t\t */\n\t\t\tprofile: {\n\t\t\t\t/**\n\t\t\t\t* Get an item from the user profile based on key.\n\t\t\t\t* @memberof SDK.profile\n\t\t\t\t* @function get\n\t\t\t\t* @param {string} key - The named key of the value you are accessing.\n\t\t\t\t* @example\n\t\t\t\t* SDK.profile.get('first_name');\n\t\t\t\t* @returns {Any} Returns: the value of the key in the profile map.\n\t\t\t\t*/\n\t\t\t\tget: storage.get,\n\t\t\t\t/**\n\t\t\t\t* Set an item from the user profile based on key.\n\t\t\t\t* @memberof SDK.profile\n\t\t\t\t* @function set\n\t\t\t\t* @param {string} key - The named key of the value you are setting.\n\t\t\t\t* @param {string} value - The value you are setting.\n\t\t\t\t* @returns {Object} Returns: An instance of SDK.profile for chaining.\n\t\t\t\t* @example\n\t\t\t\t* SDK.profile.set('first_name', 'john');\n\t\t\t\t*/\n\t\t\t\tset: storage.set,\n\t\t\t\t/**\n\t\t\t\t* See if an item from the user profile exists based on key.\n\t\t\t\t* @memberof SDK.profile\n\t\t\t\t* @function has\n\t\t\t\t* @param {string} key - The named key of the value you are checking the existance of.\n\t\t\t\t* @example\n\t\t\t\t* SDK.profile.has('first_name');\n\t\t\t\t* @returns {Boolean} Returns: Boolean indicating if the key exists.\n\t\t\t\t*/\n\t\t\t\thas: storage.has,\n\t\t\t\t/**\n\t\t\t\t* Clear the entire user profile.\n\t\t\t\t* @memberof SDK.profile\n\t\t\t\t* @function clear\n\t\t\t\t* @returns {Object} Returns: An instance of SDK.profile for chaining.\n\t\t\t\t* @example\n\t\t\t\t* SDK.profile.clear();\n\t\t\t\t*/\n\t\t\t\tclear: storage.clear,\n\t\t\t\t/**\n\t\t\t\t* Delete an item from the user profile based on key.\n\t\t\t\t* @memberof SDK.profile\n\t\t\t\t* @function delete\n\t\t\t\t* @returns {Object} Returns: An instance of SDK.profile for chaining.\n\t\t\t\t* @param {string} key - The named key of the value you are deleting.\n\t\t\t\t* @example\n\t\t\t\t* SDK.profile.delete('first_name');\n\t\t\t\t*/\n\t\t\t\tdelete: storage.delete,\n\t\t\t\t/**\n\t\t\t\t* Iterate over the profile.\n\t\t\t\t* @memberof SDK.profile\n\t\t\t\t* @function forEach\n\t\t\t\t* @param {function} callback - The function you are calling on each item in the profile object. This function is passed key as the first argument and value as the second argument.\n\t\t\t\t* @param {Object} this - (optional) The context you wish to call the callback in.\n\t\t\t\t* @returns {Object} Returns: An instance of SDK.profile for chaining.\n\t\t\t\t* @example\n\t\t\t\t* SDK.profile.forEach(function(key, value) {\n\t\t\t\t*   console.log(key, value);\n\t\t\t\t* });\n\t\t\t\t*/\n\t\t\t\tforEach: storage.forEach\n\t\t\t}\n\t\t};\n\t\t\n\t\tvar uuid = function( ) {\n\t\t\treturn 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n\t\t\t\tvar r = Math.random()*16|0, v = c == 'x' ? r : (r&0x3|0x8);\n\t\t\t\treturn v.toString(16);\n\t\t\t});\n\t\t};\n\t\t\n\t\tvar onError = function( err ) {\n\t\t\tif ( !err.status )\n\t\t\t\tthrow err;\n\t\t\tvar status = err.status;\n\t\t\tvar statusText = err.statusText;\n\t\t\tvar error = new Error( statusText );\n\t\t\terror.status = status;\n\t\t\tthrow error;\n\t\t};\n\t\n\t\n\t/***/ },\n\t/* 23 */\n\t/***/ function(module, exports) {\n\t\n\t\t/**\n\t\t* (C) Copyright IBM Corp. 2016. All Rights Reserved.\n\t\t*\n\t\t* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not\n\t\t* use this file except in compliance with the License. You may obtain a copy of\n\t\t* the License at\n\t\t*\n\t\t* http://www.apache.org/licenses/LICENSE-2.0\n\t\t*\n\t\t* Unless required by applicable law or agreed to in writing, software\n\t\t* distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n\t\t* WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n\t\t* License for the specific language governing permissions and limitations under\n\t\t* the License.\n\t\t*/\n\t\t\n\t\tvar profile = {};\n\t\tvar storage = {\n\t\t\tset: function(key, value) {\n\t\t\t\tprofile[key] = value;\n\t\t\t\treturn storage;\n\t\t\t},\n\t\t\tget: function(key) {\n\t\t\t\treturn profile[key] || '';\n\t\t\t},\n\t\t\thas: function(key) {\n\t\t\t\treturn (profile[key] !== undefined);\n\t\t\t},\n\t\t\tclear: function() {\n\t\t\t\tprofile = {};\n\t\t\t\treturn storage;\n\t\t\t},\n\t\t\tdelete: function(key) {\n\t\t\t\tdelete profile[key];\n\t\t\t\treturn storage;\n\t\t\t},\n\t\t\tforEach: function(cb, context) {\n\t\t\t\tObject.keys(profile).forEach(function(key) {\n\t\t\t\t\tif (context)\n\t\t\t\t\t\tcb(key, profile[key]).bind(context);\n\t\t\t\t\telse\n\t\t\t\t\t\tcb(key, profile[key]);\n\t\t\t\t});\n\t\t\t\treturn storage;\n\t\t\t}\n\t\t};\n\t\t\n\t\tmodule.exports = storage;\n\t\n\t\n\t/***/ },\n\t/* 24 */\n\t/***/ function(module, exports) {\n\t\n\t\t/**\n\t\t * lodash (Custom Build) <https://lodash.com/>\n\t\t * Build: `lodash modularize exports=\"npm\" -o ./`\n\t\t * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n\t\t * Released under MIT license <https://lodash.com/license>\n\t\t * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n\t\t * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n\t\t */\n\t\t\n\t\t/** Used as references for various `Number` constants. */\n\t\tvar MAX_SAFE_INTEGER = 9007199254740991;\n\t\t\n\t\t/** `Object#toString` result references. */\n\t\tvar argsTag = '[object Arguments]',\n\t\t    funcTag = '[object Function]',\n\t\t    genTag = '[object GeneratorFunction]',\n\t\t    stringTag = '[object String]';\n\t\t\n\t\t/** Used to detect unsigned integer values. */\n\t\tvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\t\t\n\t\t/**\n\t\t * A faster alternative to `Function#apply`, this function invokes `func`\n\t\t * with the `this` binding of `thisArg` and the arguments of `args`.\n\t\t *\n\t\t * @private\n\t\t * @param {Function} func The function to invoke.\n\t\t * @param {*} thisArg The `this` binding of `func`.\n\t\t * @param {Array} args The arguments to invoke `func` with.\n\t\t * @returns {*} Returns the result of `func`.\n\t\t */\n\t\tfunction apply(func, thisArg, args) {\n\t\t  switch (args.length) {\n\t\t    case 0: return func.call(thisArg);\n\t\t    case 1: return func.call(thisArg, args[0]);\n\t\t    case 2: return func.call(thisArg, args[0], args[1]);\n\t\t    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n\t\t  }\n\t\t  return func.apply(thisArg, args);\n\t\t}\n\t\t\n\t\t/**\n\t\t * The base implementation of `_.property` without support for deep paths.\n\t\t *\n\t\t * @private\n\t\t * @param {string} key The key of the property to get.\n\t\t * @returns {Function} Returns the new accessor function.\n\t\t */\n\t\tfunction baseProperty(key) {\n\t\t  return function(object) {\n\t\t    return object == null ? undefined : object[key];\n\t\t  };\n\t\t}\n\t\t\n\t\t/**\n\t\t * The base implementation of `_.times` without support for iteratee shorthands\n\t\t * or max array length checks.\n\t\t *\n\t\t * @private\n\t\t * @param {number} n The number of times to invoke `iteratee`.\n\t\t * @param {Function} iteratee The function invoked per iteration.\n\t\t * @returns {Array} Returns the array of results.\n\t\t */\n\t\tfunction baseTimes(n, iteratee) {\n\t\t  var index = -1,\n\t\t      result = Array(n);\n\t\t\n\t\t  while (++index < n) {\n\t\t    result[index] = iteratee(index);\n\t\t  }\n\t\t  return result;\n\t\t}\n\t\t\n\t\t/**\n\t\t * Creates a function that invokes `func` with its first argument transformed.\n\t\t *\n\t\t * @private\n\t\t * @param {Function} func The function to wrap.\n\t\t * @param {Function} transform The argument transform.\n\t\t * @returns {Function} Returns the new function.\n\t\t */\n\t\tfunction overArg(func, transform) {\n\t\t  return function(arg) {\n\t\t    return func(transform(arg));\n\t\t  };\n\t\t}\n\t\t\n\t\t/** Used for built-in method references. */\n\t\tvar objectProto = Object.prototype;\n\t\t\n\t\t/** Used to check objects for own properties. */\n\t\tvar hasOwnProperty = objectProto.hasOwnProperty;\n\t\t\n\t\t/**\n\t\t * Used to resolve the\n\t\t * [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n\t\t * of values.\n\t\t */\n\t\tvar objectToString = objectProto.toString;\n\t\t\n\t\t/** Built-in value references. */\n\t\tvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\t\t\n\t\t/* Built-in method references for those with the same name as other `lodash` methods. */\n\t\tvar nativeGetPrototype = Object.getPrototypeOf,\n\t\t    nativeKeys = Object.keys,\n\t\t    nativeMax = Math.max;\n\t\t\n\t\t/** Detect if properties shadowing those on `Object.prototype` are non-enumerable. */\n\t\tvar nonEnumShadows = !propertyIsEnumerable.call({ 'valueOf': 1 }, 'valueOf');\n\t\t\n\t\t/**\n\t\t * Assigns `value` to `key` of `object` if the existing value is not equivalent\n\t\t * using [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n\t\t * for equality comparisons.\n\t\t *\n\t\t * @private\n\t\t * @param {Object} object The object to modify.\n\t\t * @param {string} key The key of the property to assign.\n\t\t * @param {*} value The value to assign.\n\t\t */\n\t\tfunction assignValue(object, key, value) {\n\t\t  var objValue = object[key];\n\t\t  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n\t\t      (value === undefined && !(key in object))) {\n\t\t    object[key] = value;\n\t\t  }\n\t\t}\n\t\t\n\t\t/**\n\t\t * The base implementation of `_.has` without support for deep paths.\n\t\t *\n\t\t * @private\n\t\t * @param {Object} [object] The object to query.\n\t\t * @param {Array|string} key The key to check.\n\t\t * @returns {boolean} Returns `true` if `key` exists, else `false`.\n\t\t */\n\t\tfunction baseHas(object, key) {\n\t\t  // Avoid a bug in IE 10-11 where objects with a [[Prototype]] of `null`,\n\t\t  // that are composed entirely of index properties, return `false` for\n\t\t  // `hasOwnProperty` checks of them.\n\t\t  return object != null &&\n\t\t    (hasOwnProperty.call(object, key) ||\n\t\t      (typeof object == 'object' && key in object && getPrototype(object) === null));\n\t\t}\n\t\t\n\t\t/**\n\t\t * The base implementation of `_.keys` which doesn't skip the constructor\n\t\t * property of prototypes or treat sparse arrays as dense.\n\t\t *\n\t\t * @private\n\t\t * @param {Object} object The object to query.\n\t\t * @returns {Array} Returns the array of property names.\n\t\t */\n\t\tvar baseKeys = overArg(nativeKeys, Object);\n\t\t\n\t\t/**\n\t\t * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n\t\t *\n\t\t * @private\n\t\t * @param {Function} func The function to apply a rest parameter to.\n\t\t * @param {number} [start=func.length-1] The start position of the rest parameter.\n\t\t * @returns {Function} Returns the new function.\n\t\t */\n\t\tfunction baseRest(func, start) {\n\t\t  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n\t\t  return function() {\n\t\t    var args = arguments,\n\t\t        index = -1,\n\t\t        length = nativeMax(args.length - start, 0),\n\t\t        array = Array(length);\n\t\t\n\t\t    while (++index < length) {\n\t\t      array[index] = args[start + index];\n\t\t    }\n\t\t    index = -1;\n\t\t    var otherArgs = Array(start + 1);\n\t\t    while (++index < start) {\n\t\t      otherArgs[index] = args[index];\n\t\t    }\n\t\t    otherArgs[start] = array;\n\t\t    return apply(func, this, otherArgs);\n\t\t  };\n\t\t}\n\t\t\n\t\t/**\n\t\t * Copies properties of `source` to `object`.\n\t\t *\n\t\t * @private\n\t\t * @param {Object} source The object to copy properties from.\n\t\t * @param {Array} props The property identifiers to copy.\n\t\t * @param {Object} [object={}] The object to copy properties to.\n\t\t * @param {Function} [customizer] The function to customize copied values.\n\t\t * @returns {Object} Returns `object`.\n\t\t */\n\t\tfunction copyObject(source, props, object, customizer) {\n\t\t  object || (object = {});\n\t\t\n\t\t  var index = -1,\n\t\t      length = props.length;\n\t\t\n\t\t  while (++index < length) {\n\t\t    var key = props[index];\n\t\t\n\t\t    var newValue = customizer\n\t\t      ? customizer(object[key], source[key], key, object, source)\n\t\t      : undefined;\n\t\t\n\t\t    assignValue(object, key, newValue === undefined ? source[key] : newValue);\n\t\t  }\n\t\t  return object;\n\t\t}\n\t\t\n\t\t/**\n\t\t * Creates a function like `_.assign`.\n\t\t *\n\t\t * @private\n\t\t * @param {Function} assigner The function to assign values.\n\t\t * @returns {Function} Returns the new assigner function.\n\t\t */\n\t\tfunction createAssigner(assigner) {\n\t\t  return baseRest(function(object, sources) {\n\t\t    var index = -1,\n\t\t        length = sources.length,\n\t\t        customizer = length > 1 ? sources[length - 1] : undefined,\n\t\t        guard = length > 2 ? sources[2] : undefined;\n\t\t\n\t\t    customizer = (assigner.length > 3 && typeof customizer == 'function')\n\t\t      ? (length--, customizer)\n\t\t      : undefined;\n\t\t\n\t\t    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n\t\t      customizer = length < 3 ? undefined : customizer;\n\t\t      length = 1;\n\t\t    }\n\t\t    object = Object(object);\n\t\t    while (++index < length) {\n\t\t      var source = sources[index];\n\t\t      if (source) {\n\t\t        assigner(object, source, index, customizer);\n\t\t      }\n\t\t    }\n\t\t    return object;\n\t\t  });\n\t\t}\n\t\t\n\t\t/**\n\t\t * Gets the \"length\" property value of `object`.\n\t\t *\n\t\t * **Note:** This function is used to avoid a\n\t\t * [JIT bug](https://bugs.webkit.org/show_bug.cgi?id=142792) that affects\n\t\t * Safari on at least iOS 8.1-8.3 ARM64.\n\t\t *\n\t\t * @private\n\t\t * @param {Object} object The object to query.\n\t\t * @returns {*} Returns the \"length\" value.\n\t\t */\n\t\tvar getLength = baseProperty('length');\n\t\t\n\t\t/**\n\t\t * Gets the `[[Prototype]]` of `value`.\n\t\t *\n\t\t * @private\n\t\t * @param {*} value The value to query.\n\t\t * @returns {null|Object} Returns the `[[Prototype]]`.\n\t\t */\n\t\tvar getPrototype = overArg(nativeGetPrototype, Object);\n\t\t\n\t\t/**\n\t\t * Creates an array of index keys for `object` values of arrays,\n\t\t * `arguments` objects, and strings, otherwise `null` is returned.\n\t\t *\n\t\t * @private\n\t\t * @param {Object} object The object to query.\n\t\t * @returns {Array|null} Returns index keys, else `null`.\n\t\t */\n\t\tfunction indexKeys(object) {\n\t\t  var length = object ? object.length : undefined;\n\t\t  if (isLength(length) &&\n\t\t      (isArray(object) || isString(object) || isArguments(object))) {\n\t\t    return baseTimes(length, String);\n\t\t  }\n\t\t  return null;\n\t\t}\n\t\t\n\t\t/**\n\t\t * Checks if `value` is a valid array-like index.\n\t\t *\n\t\t * @private\n\t\t * @param {*} value The value to check.\n\t\t * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n\t\t * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n\t\t */\n\t\tfunction isIndex(value, length) {\n\t\t  length = length == null ? MAX_SAFE_INTEGER : length;\n\t\t  return !!length &&\n\t\t    (typeof value == 'number' || reIsUint.test(value)) &&\n\t\t    (value > -1 && value % 1 == 0 && value < length);\n\t\t}\n\t\t\n\t\t/**\n\t\t * Checks if the given arguments are from an iteratee call.\n\t\t *\n\t\t * @private\n\t\t * @param {*} value The potential iteratee value argument.\n\t\t * @param {*} index The potential iteratee index or key argument.\n\t\t * @param {*} object The potential iteratee object argument.\n\t\t * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n\t\t *  else `false`.\n\t\t */\n\t\tfunction isIterateeCall(value, index, object) {\n\t\t  if (!isObject(object)) {\n\t\t    return false;\n\t\t  }\n\t\t  var type = typeof index;\n\t\t  if (type == 'number'\n\t\t        ? (isArrayLike(object) && isIndex(index, object.length))\n\t\t        : (type == 'string' && index in object)\n\t\t      ) {\n\t\t    return eq(object[index], value);\n\t\t  }\n\t\t  return false;\n\t\t}\n\t\t\n\t\t/**\n\t\t * Checks if `value` is likely a prototype object.\n\t\t *\n\t\t * @private\n\t\t * @param {*} value The value to check.\n\t\t * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n\t\t */\n\t\tfunction isPrototype(value) {\n\t\t  var Ctor = value && value.constructor,\n\t\t      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\t\t\n\t\t  return value === proto;\n\t\t}\n\t\t\n\t\t/**\n\t\t * Performs a\n\t\t * [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n\t\t * comparison between two values to determine if they are equivalent.\n\t\t *\n\t\t * @static\n\t\t * @memberOf _\n\t\t * @since 4.0.0\n\t\t * @category Lang\n\t\t * @param {*} value The value to compare.\n\t\t * @param {*} other The other value to compare.\n\t\t * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n\t\t * @example\n\t\t *\n\t\t * var object = { 'a': 1 };\n\t\t * var other = { 'a': 1 };\n\t\t *\n\t\t * _.eq(object, object);\n\t\t * // => true\n\t\t *\n\t\t * _.eq(object, other);\n\t\t * // => false\n\t\t *\n\t\t * _.eq('a', 'a');\n\t\t * // => true\n\t\t *\n\t\t * _.eq('a', Object('a'));\n\t\t * // => false\n\t\t *\n\t\t * _.eq(NaN, NaN);\n\t\t * // => true\n\t\t */\n\t\tfunction eq(value, other) {\n\t\t  return value === other || (value !== value && other !== other);\n\t\t}\n\t\t\n\t\t/**\n\t\t * Checks if `value` is likely an `arguments` object.\n\t\t *\n\t\t * @static\n\t\t * @memberOf _\n\t\t * @since 0.1.0\n\t\t * @category Lang\n\t\t * @param {*} value The value to check.\n\t\t * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n\t\t *  else `false`.\n\t\t * @example\n\t\t *\n\t\t * _.isArguments(function() { return arguments; }());\n\t\t * // => true\n\t\t *\n\t\t * _.isArguments([1, 2, 3]);\n\t\t * // => false\n\t\t */\n\t\tfunction isArguments(value) {\n\t\t  // Safari 8.1 incorrectly makes `arguments.callee` enumerable in strict mode.\n\t\t  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n\t\t    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n\t\t}\n\t\t\n\t\t/**\n\t\t * Checks if `value` is classified as an `Array` object.\n\t\t *\n\t\t * @static\n\t\t * @memberOf _\n\t\t * @since 0.1.0\n\t\t * @category Lang\n\t\t * @param {*} value The value to check.\n\t\t * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n\t\t * @example\n\t\t *\n\t\t * _.isArray([1, 2, 3]);\n\t\t * // => true\n\t\t *\n\t\t * _.isArray(document.body.children);\n\t\t * // => false\n\t\t *\n\t\t * _.isArray('abc');\n\t\t * // => false\n\t\t *\n\t\t * _.isArray(_.noop);\n\t\t * // => false\n\t\t */\n\t\tvar isArray = Array.isArray;\n\t\t\n\t\t/**\n\t\t * Checks if `value` is array-like. A value is considered array-like if it's\n\t\t * not a function and has a `value.length` that's an integer greater than or\n\t\t * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n\t\t *\n\t\t * @static\n\t\t * @memberOf _\n\t\t * @since 4.0.0\n\t\t * @category Lang\n\t\t * @param {*} value The value to check.\n\t\t * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n\t\t * @example\n\t\t *\n\t\t * _.isArrayLike([1, 2, 3]);\n\t\t * // => true\n\t\t *\n\t\t * _.isArrayLike(document.body.children);\n\t\t * // => true\n\t\t *\n\t\t * _.isArrayLike('abc');\n\t\t * // => true\n\t\t *\n\t\t * _.isArrayLike(_.noop);\n\t\t * // => false\n\t\t */\n\t\tfunction isArrayLike(value) {\n\t\t  return value != null && isLength(getLength(value)) && !isFunction(value);\n\t\t}\n\t\t\n\t\t/**\n\t\t * This method is like `_.isArrayLike` except that it also checks if `value`\n\t\t * is an object.\n\t\t *\n\t\t * @static\n\t\t * @memberOf _\n\t\t * @since 4.0.0\n\t\t * @category Lang\n\t\t * @param {*} value The value to check.\n\t\t * @returns {boolean} Returns `true` if `value` is an array-like object,\n\t\t *  else `false`.\n\t\t * @example\n\t\t *\n\t\t * _.isArrayLikeObject([1, 2, 3]);\n\t\t * // => true\n\t\t *\n\t\t * _.isArrayLikeObject(document.body.children);\n\t\t * // => true\n\t\t *\n\t\t * _.isArrayLikeObject('abc');\n\t\t * // => false\n\t\t *\n\t\t * _.isArrayLikeObject(_.noop);\n\t\t * // => false\n\t\t */\n\t\tfunction isArrayLikeObject(value) {\n\t\t  return isObjectLike(value) && isArrayLike(value);\n\t\t}\n\t\t\n\t\t/**\n\t\t * Checks if `value` is classified as a `Function` object.\n\t\t *\n\t\t * @static\n\t\t * @memberOf _\n\t\t * @since 0.1.0\n\t\t * @category Lang\n\t\t * @param {*} value The value to check.\n\t\t * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n\t\t * @example\n\t\t *\n\t\t * _.isFunction(_);\n\t\t * // => true\n\t\t *\n\t\t * _.isFunction(/abc/);\n\t\t * // => false\n\t\t */\n\t\tfunction isFunction(value) {\n\t\t  // The use of `Object#toString` avoids issues with the `typeof` operator\n\t\t  // in Safari 8 which returns 'object' for typed array and weak map constructors,\n\t\t  // and PhantomJS 1.9 which returns 'function' for `NodeList` instances.\n\t\t  var tag = isObject(value) ? objectToString.call(value) : '';\n\t\t  return tag == funcTag || tag == genTag;\n\t\t}\n\t\t\n\t\t/**\n\t\t * Checks if `value` is a valid array-like length.\n\t\t *\n\t\t * **Note:** This function is loosely based on\n\t\t * [`ToLength`](http://ecma-international.org/ecma-262/6.0/#sec-tolength).\n\t\t *\n\t\t * @static\n\t\t * @memberOf _\n\t\t * @since 4.0.0\n\t\t * @category Lang\n\t\t * @param {*} value The value to check.\n\t\t * @returns {boolean} Returns `true` if `value` is a valid length,\n\t\t *  else `false`.\n\t\t * @example\n\t\t *\n\t\t * _.isLength(3);\n\t\t * // => true\n\t\t *\n\t\t * _.isLength(Number.MIN_VALUE);\n\t\t * // => false\n\t\t *\n\t\t * _.isLength(Infinity);\n\t\t * // => false\n\t\t *\n\t\t * _.isLength('3');\n\t\t * // => false\n\t\t */\n\t\tfunction isLength(value) {\n\t\t  return typeof value == 'number' &&\n\t\t    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n\t\t}\n\t\t\n\t\t/**\n\t\t * Checks if `value` is the\n\t\t * [language type](http://www.ecma-international.org/ecma-262/6.0/#sec-ecmascript-language-types)\n\t\t * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n\t\t *\n\t\t * @static\n\t\t * @memberOf _\n\t\t * @since 0.1.0\n\t\t * @category Lang\n\t\t * @param {*} value The value to check.\n\t\t * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n\t\t * @example\n\t\t *\n\t\t * _.isObject({});\n\t\t * // => true\n\t\t *\n\t\t * _.isObject([1, 2, 3]);\n\t\t * // => true\n\t\t *\n\t\t * _.isObject(_.noop);\n\t\t * // => true\n\t\t *\n\t\t * _.isObject(null);\n\t\t * // => false\n\t\t */\n\t\tfunction isObject(value) {\n\t\t  var type = typeof value;\n\t\t  return !!value && (type == 'object' || type == 'function');\n\t\t}\n\t\t\n\t\t/**\n\t\t * Checks if `value` is object-like. A value is object-like if it's not `null`\n\t\t * and has a `typeof` result of \"object\".\n\t\t *\n\t\t * @static\n\t\t * @memberOf _\n\t\t * @since 4.0.0\n\t\t * @category Lang\n\t\t * @param {*} value The value to check.\n\t\t * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n\t\t * @example\n\t\t *\n\t\t * _.isObjectLike({});\n\t\t * // => true\n\t\t *\n\t\t * _.isObjectLike([1, 2, 3]);\n\t\t * // => true\n\t\t *\n\t\t * _.isObjectLike(_.noop);\n\t\t * // => false\n\t\t *\n\t\t * _.isObjectLike(null);\n\t\t * // => false\n\t\t */\n\t\tfunction isObjectLike(value) {\n\t\t  return !!value && typeof value == 'object';\n\t\t}\n\t\t\n\t\t/**\n\t\t * Checks if `value` is classified as a `String` primitive or object.\n\t\t *\n\t\t * @static\n\t\t * @since 0.1.0\n\t\t * @memberOf _\n\t\t * @category Lang\n\t\t * @param {*} value The value to check.\n\t\t * @returns {boolean} Returns `true` if `value` is a string, else `false`.\n\t\t * @example\n\t\t *\n\t\t * _.isString('abc');\n\t\t * // => true\n\t\t *\n\t\t * _.isString(1);\n\t\t * // => false\n\t\t */\n\t\tfunction isString(value) {\n\t\t  return typeof value == 'string' ||\n\t\t    (!isArray(value) && isObjectLike(value) && objectToString.call(value) == stringTag);\n\t\t}\n\t\t\n\t\t/**\n\t\t * Assigns own enumerable string keyed properties of source objects to the\n\t\t * destination object. Source objects are applied from left to right.\n\t\t * Subsequent sources overwrite property assignments of previous sources.\n\t\t *\n\t\t * **Note:** This method mutates `object` and is loosely based on\n\t\t * [`Object.assign`](https://mdn.io/Object/assign).\n\t\t *\n\t\t * @static\n\t\t * @memberOf _\n\t\t * @since 0.10.0\n\t\t * @category Object\n\t\t * @param {Object} object The destination object.\n\t\t * @param {...Object} [sources] The source objects.\n\t\t * @returns {Object} Returns `object`.\n\t\t * @see _.assignIn\n\t\t * @example\n\t\t *\n\t\t * function Foo() {\n\t\t *   this.a = 1;\n\t\t * }\n\t\t *\n\t\t * function Bar() {\n\t\t *   this.c = 3;\n\t\t * }\n\t\t *\n\t\t * Foo.prototype.b = 2;\n\t\t * Bar.prototype.d = 4;\n\t\t *\n\t\t * _.assign({ 'a': 0 }, new Foo, new Bar);\n\t\t * // => { 'a': 1, 'c': 3 }\n\t\t */\n\t\tvar assign = createAssigner(function(object, source) {\n\t\t  if (nonEnumShadows || isPrototype(source) || isArrayLike(source)) {\n\t\t    copyObject(source, keys(source), object);\n\t\t    return;\n\t\t  }\n\t\t  for (var key in source) {\n\t\t    if (hasOwnProperty.call(source, key)) {\n\t\t      assignValue(object, key, source[key]);\n\t\t    }\n\t\t  }\n\t\t});\n\t\t\n\t\t/**\n\t\t * Creates an array of the own enumerable property names of `object`.\n\t\t *\n\t\t * **Note:** Non-object values are coerced to objects. See the\n\t\t * [ES spec](http://ecma-international.org/ecma-262/6.0/#sec-object.keys)\n\t\t * for more details.\n\t\t *\n\t\t * @static\n\t\t * @since 0.1.0\n\t\t * @memberOf _\n\t\t * @category Object\n\t\t * @param {Object} object The object to query.\n\t\t * @returns {Array} Returns the array of property names.\n\t\t * @example\n\t\t *\n\t\t * function Foo() {\n\t\t *   this.a = 1;\n\t\t *   this.b = 2;\n\t\t * }\n\t\t *\n\t\t * Foo.prototype.c = 3;\n\t\t *\n\t\t * _.keys(new Foo);\n\t\t * // => ['a', 'b'] (iteration order is not guaranteed)\n\t\t *\n\t\t * _.keys('hi');\n\t\t * // => ['0', '1']\n\t\t */\n\t\tfunction keys(object) {\n\t\t  var isProto = isPrototype(object);\n\t\t  if (!(isProto || isArrayLike(object))) {\n\t\t    return baseKeys(object);\n\t\t  }\n\t\t  var indexes = indexKeys(object),\n\t\t      skipIndexes = !!indexes,\n\t\t      result = indexes || [],\n\t\t      length = result.length;\n\t\t\n\t\t  for (var key in object) {\n\t\t    if (baseHas(object, key) &&\n\t\t        !(skipIndexes && (key == 'length' || isIndex(key, length))) &&\n\t\t        !(isProto && key == 'constructor')) {\n\t\t      result.push(key);\n\t\t    }\n\t\t  }\n\t\t  return result;\n\t\t}\n\t\t\n\t\tmodule.exports = assign;\n\t\n\t\n\t/***/ },\n\t/* 25 */\n\t/***/ function(module, exports) {\n\t\n\t\tmodule.exports = function() { throw new Error(\"define cannot be used indirect\"); };\r\n\t\n\t\n\t/***/ },\n\t/* 26 */\n\t/***/ function(module, exports) {\n\t\n\t\tmodule.exports = function(module) {\r\n\t\t\tif(!module.webpackPolyfill) {\r\n\t\t\t\tmodule.deprecate = function() {};\r\n\t\t\t\tmodule.paths = [];\r\n\t\t\t\t// module.parent = undefined by default\r\n\t\t\t\tmodule.children = [];\r\n\t\t\t\tmodule.webpackPolyfill = 1;\r\n\t\t\t}\r\n\t\t\treturn module;\r\n\t\t}\r\n\t\n\t\n\t/***/ },\n\t/* 27 */\n\t/***/ function(module, exports) {\n\t\n\t\t/* (ignored) */\n\t\n\t/***/ }\n\t/******/ ])\n\t});\n\t;\n\t//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCBjYjQzZDMwNGIyMDVmNDc4YjhkMiIsIndlYnBhY2s6Ly8vLi9+L2F4aW9zL2xpYi91dGlscy5qcyIsIndlYnBhY2s6Ly8vLi9+L3Byb2Nlc3MvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vLi9+L2F4aW9zL2xpYi9hZGFwdGVycy94aHIuanMiLCJ3ZWJwYWNrOi8vLy4vfi9heGlvcy9saWIvaGVscGVycy90cmFuc2Zvcm1EYXRhLmpzIiwid2VicGFjazovLy8uL34vYXhpb3MvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vfi9heGlvcy9saWIvYXhpb3MuanMiLCJ3ZWJwYWNrOi8vLy4vfi9heGlvcy9saWIvY29yZS9JbnRlcmNlcHRvck1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vLy4vfi9heGlvcy9saWIvY29yZS9kaXNwYXRjaFJlcXVlc3QuanMiLCJ3ZWJwYWNrOi8vLy4vfi9heGlvcy9saWIvZGVmYXVsdHMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9heGlvcy9saWIvaGVscGVycy9iaW5kLmpzIiwid2VicGFjazovLy8uL34vYXhpb3MvbGliL2hlbHBlcnMvYnRvYS5qcyIsIndlYnBhY2s6Ly8vLi9+L2F4aW9zL2xpYi9oZWxwZXJzL2J1aWxkVVJMLmpzIiwid2VicGFjazovLy8uL34vYXhpb3MvbGliL2hlbHBlcnMvY29tYmluZVVSTHMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9heGlvcy9saWIvaGVscGVycy9jb29raWVzLmpzIiwid2VicGFjazovLy8uL34vYXhpb3MvbGliL2hlbHBlcnMvaXNBYnNvbHV0ZVVSTC5qcyIsIndlYnBhY2s6Ly8vLi9+L2F4aW9zL2xpYi9oZWxwZXJzL2lzVVJMU2FtZU9yaWdpbi5qcyIsIndlYnBhY2s6Ly8vLi9+L2F4aW9zL2xpYi9oZWxwZXJzL25vcm1hbGl6ZUhlYWRlck5hbWUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9heGlvcy9saWIvaGVscGVycy9wYXJzZUhlYWRlcnMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9heGlvcy9saWIvaGVscGVycy9zZXR0bGUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9heGlvcy9saWIvaGVscGVycy9zcHJlYWQuanMiLCJ3ZWJwYWNrOi8vLy4vfi9lczYtcHJvbWlzZS9kaXN0L2VzNi1wcm9taXNlLmpzIiwid2VicGFjazovLy8uL3NyYy9zZGsuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0b3JhZ2UuanMiLCJ3ZWJwYWNrOi8vLy4vfi9sb2Rhc2guYXNzaWduL2luZGV4LmpzIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9hbWQtZGVmaW5lLmpzIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9tb2R1bGUuanMiLCJ3ZWJwYWNrOi8vL3ZlcnR4IChpZ25vcmVkKSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsTztBQ1ZBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHVCQUFlO0FBQ2Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7O0FDdENBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFlBQVcsT0FBTztBQUNsQixjQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsWUFBVyxPQUFPO0FBQ2xCLGNBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxZQUFXLE9BQU87QUFDbEIsY0FBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNB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QUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esd0JBQXVCLHNCQUFzQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFxQjtBQUNyQjs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsNEJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBLDZCQUE0QixVQUFVOzs7Ozs7O0FDbkx0Qzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwyQ0FBMEM7QUFDMUM7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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QUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUE4QixzQkFBc0I7O0FBRXBEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esc0JBQXFCLCtCQUErQjtBQUNwRDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLO0FBQ0w7QUFDQSxNQUFLO0FBQ0w7QUFDQSxNQUFLO0FBQ0w7QUFDQSxNQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNULFFBQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxRQUFPO0FBQ1A7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXVCLFFBQVE7QUFDL0I7QUFDQTtBQUNBO0FBQ0EsWUFBVztBQUNYO0FBQ0E7QUFDQSxVQUFTO0FBQ1Qsd0JBQXVCLFFBQVE7QUFDL0I7O0FBRUE7QUFDQSxVQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBTztBQUNQOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQU87QUFDUDtBQUNBLFFBQU87QUFDUDtBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0EsVUFBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQU87QUFDUDtBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0EsVUFBUztBQUNUO0FBQ0EsVUFBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQU87QUFDUDtBQUNBLFFBQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLG1FQUFrRSxRQUFROztBQUUxRTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsbUVBQWtFLFFBQVE7QUFDMUU7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLHNDQUFxQyxRQUFROztBQUU3Qzs7QUFFQSxzQkFBcUIsd0JBQXdCO0FBQzdDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFVBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsUUFBTztBQUNQO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsUUFBTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsUUFBTztBQUNQO0FBQ0EsUUFBTztBQUNQO0FBQ0EsUUFBTztBQUNQO0FBQ0EsUUFBTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVM7QUFDVDtBQUNBLFVBQVM7QUFDVCxRQUFPO0FBQ1A7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxVQUFTO0FBQ1QsUUFBTztBQUNQO0FBQ0E7QUFDQSwwQkFBeUIsWUFBWTtBQUNyQztBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxRQUFPOztBQUVQO0FBQ0E7QUFDQSxRQUFPO0FBQ1A7QUFDQSxRQUFPO0FBQ1A7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNUOztBQUVBO0FBQ0E7QUFDQSxRQUFPO0FBQ1A7QUFDQSxRQUFPO0FBQ1A7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxRQUFPO0FBQ1A7O0FBRUE7QUFDQSxlQUFjLFNBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQU87QUFDUDtBQUNBLFFBQU87QUFDUDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxRQUFPO0FBQ1A7QUFDQSxRQUFPO0FBQ1A7QUFDQTtBQUNBLFFBQU87O0FBRVA7QUFDQTtBQUNBLFFBQU87QUFDUDtBQUNBLFFBQU87QUFDUDtBQUNBLFFBQU87QUFDUDtBQUNBO0FBQ0EsUUFBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsUUFBTztBQUNQO0FBQ0EsUUFBTztBQUNQO0FBQ0EsUUFBTztBQUNQO0FBQ0EsUUFBTztBQUNQOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsUUFBTztBQUNQO0FBQ0EsUUFBTztBQUNQOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQU87QUFDUDtBQUNBLFFBQU87QUFDUDtBQUNBLFFBQU87QUFDUDs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsUUFBTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVM7QUFDVDtBQUNBO0FBQ0EsUUFBTztBQUNQOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQU87QUFDUDtBQUNBLFFBQU87QUFDUDs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFPO0FBQ1A7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWU7QUFDZjtBQUNBO0FBQ0Esa0JBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLGNBQWE7QUFDYixZQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFPO0FBQ1A7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQU87QUFDUDtBQUNBLFFBQU87QUFDUDs7QUFFQTtBQUNBLGVBQWMsU0FBUztBQUN2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QUFFO0FBQ2IsY0FBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFXLEVBQUU7QUFDYixjQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBVyxFQUFFO0FBQ2IsY0FBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVcsRUFBRTtBQUNiLGNBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFXLEVBQUU7QUFDYixjQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBVyxFQUFFO0FBQ2IsY0FBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQSxpQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFXLEVBQUU7QUFDYixjQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBLHFCQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBVyxFQUFFO0FBQ2IsY0FBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFXLE9BQU87QUFDbEIsWUFBVyxVQUFVO0FBQ3JCLGNBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYSxTQUFTO0FBQ3RCLFdBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBVyxPQUFPO0FBQ2xCLGNBQWEsTUFBTTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOzs7Ozs7O0FDdHNCQSw4QkFBNkIsbURBQW1EOzs7Ozs7O0FDQWhGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7O0FDVEEsZ0IiLCJmaWxlIjoid2ViLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoXCJTREtcIiwgW10sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wiU0RLXCJdID0gZmFjdG9yeSgpO1xuXHRlbHNlXG5cdFx0cm9vdFtcIlNES1wiXSA9IGZhY3RvcnkoKTtcbn0pKHRoaXMsIGZ1bmN0aW9uKCkge1xucmV0dXJuIFxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIHdlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvblxuICoqLyIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuXG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRleHBvcnRzOiB7fSxcbiBcdFx0XHRpZDogbW9kdWxlSWQsXG4gXHRcdFx0bG9hZGVkOiBmYWxzZVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogd2VicGFjay9ib290c3RyYXAgY2I0M2QzMDRiMjA1ZjQ3OGI4ZDJcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbi8qZ2xvYmFsIHRvU3RyaW5nOnRydWUqL1xuXG4vLyB1dGlscyBpcyBhIGxpYnJhcnkgb2YgZ2VuZXJpYyBoZWxwZXIgZnVuY3Rpb25zIG5vbi1zcGVjaWZpYyB0byBheGlvc1xuXG52YXIgdG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGFuIEFycmF5XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYW4gQXJyYXksIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0FycmF5KHZhbCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBBcnJheV0nO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGFuIEFycmF5QnVmZmVyXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYW4gQXJyYXlCdWZmZXIsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0FycmF5QnVmZmVyKHZhbCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBBcnJheUJ1ZmZlcl0nO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRm9ybURhdGFcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhbiBGb3JtRGF0YSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRm9ybURhdGEodmFsKSB7XG4gIHJldHVybiAodHlwZW9mIEZvcm1EYXRhICE9PSAndW5kZWZpbmVkJykgJiYgKHZhbCBpbnN0YW5jZW9mIEZvcm1EYXRhKTtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIHZpZXcgb24gYW4gQXJyYXlCdWZmZXJcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIHZpZXcgb24gYW4gQXJyYXlCdWZmZXIsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0FycmF5QnVmZmVyVmlldyh2YWwpIHtcbiAgdmFyIHJlc3VsdDtcbiAgaWYgKCh0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnKSAmJiAoQXJyYXlCdWZmZXIuaXNWaWV3KSkge1xuICAgIHJlc3VsdCA9IEFycmF5QnVmZmVyLmlzVmlldyh2YWwpO1xuICB9IGVsc2Uge1xuICAgIHJlc3VsdCA9ICh2YWwpICYmICh2YWwuYnVmZmVyKSAmJiAodmFsLmJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgU3RyaW5nXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBTdHJpbmcsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc1N0cmluZyh2YWwpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgTnVtYmVyXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBOdW1iZXIsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc051bWJlcih2YWwpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWwgPT09ICdudW1iZXInO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIHVuZGVmaW5lZFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSB2YWx1ZSBpcyB1bmRlZmluZWQsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc1VuZGVmaW5lZCh2YWwpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWwgPT09ICd1bmRlZmluZWQnO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGFuIE9iamVjdFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGFuIE9iamVjdCwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0KHZhbCkge1xuICByZXR1cm4gdmFsICE9PSBudWxsICYmIHR5cGVvZiB2YWwgPT09ICdvYmplY3QnO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRGF0ZVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgRGF0ZSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRGF0ZSh2YWwpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgRGF0ZV0nO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRmlsZVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgRmlsZSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRmlsZSh2YWwpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgRmlsZV0nO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgQmxvYlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgQmxvYiwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQmxvYih2YWwpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgQmxvYl0nO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRnVuY3Rpb25cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIEZ1bmN0aW9uLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNGdW5jdGlvbih2YWwpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIFN0cmVhbVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgU3RyZWFtLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNTdHJlYW0odmFsKSB7XG4gIHJldHVybiBpc09iamVjdCh2YWwpICYmIGlzRnVuY3Rpb24odmFsLnBpcGUpO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgVVJMU2VhcmNoUGFyYW1zIG9iamVjdFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgVVJMU2VhcmNoUGFyYW1zIG9iamVjdCwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzVVJMU2VhcmNoUGFyYW1zKHZhbCkge1xuICByZXR1cm4gdHlwZW9mIFVSTFNlYXJjaFBhcmFtcyAhPT0gJ3VuZGVmaW5lZCcgJiYgdmFsIGluc3RhbmNlb2YgVVJMU2VhcmNoUGFyYW1zO1xufVxuXG4vKipcbiAqIFRyaW0gZXhjZXNzIHdoaXRlc3BhY2Ugb2ZmIHRoZSBiZWdpbm5pbmcgYW5kIGVuZCBvZiBhIHN0cmluZ1xuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHIgVGhlIFN0cmluZyB0byB0cmltXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgU3RyaW5nIGZyZWVkIG9mIGV4Y2VzcyB3aGl0ZXNwYWNlXG4gKi9cbmZ1bmN0aW9uIHRyaW0oc3RyKSB7XG4gIHJldHVybiBzdHIucmVwbGFjZSgvXlxccyovLCAnJykucmVwbGFjZSgvXFxzKiQvLCAnJyk7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIHdlJ3JlIHJ1bm5pbmcgaW4gYSBzdGFuZGFyZCBicm93c2VyIGVudmlyb25tZW50XG4gKlxuICogVGhpcyBhbGxvd3MgYXhpb3MgdG8gcnVuIGluIGEgd2ViIHdvcmtlciwgYW5kIHJlYWN0LW5hdGl2ZS5cbiAqIEJvdGggZW52aXJvbm1lbnRzIHN1cHBvcnQgWE1MSHR0cFJlcXVlc3QsIGJ1dCBub3QgZnVsbHkgc3RhbmRhcmQgZ2xvYmFscy5cbiAqXG4gKiB3ZWIgd29ya2VyczpcbiAqICB0eXBlb2Ygd2luZG93IC0+IHVuZGVmaW5lZFxuICogIHR5cGVvZiBkb2N1bWVudCAtPiB1bmRlZmluZWRcbiAqXG4gKiByZWFjdC1uYXRpdmU6XG4gKiAgdHlwZW9mIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgLT4gdW5kZWZpbmVkXG4gKi9cbmZ1bmN0aW9uIGlzU3RhbmRhcmRCcm93c2VyRW52KCkge1xuICByZXR1cm4gKFxuICAgIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmXG4gICAgdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJlxuICAgIHR5cGVvZiBkb2N1bWVudC5jcmVhdGVFbGVtZW50ID09PSAnZnVuY3Rpb24nXG4gICk7XG59XG5cbi8qKlxuICogSXRlcmF0ZSBvdmVyIGFuIEFycmF5IG9yIGFuIE9iamVjdCBpbnZva2luZyBhIGZ1bmN0aW9uIGZvciBlYWNoIGl0ZW0uXG4gKlxuICogSWYgYG9iamAgaXMgYW4gQXJyYXkgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgcGFzc2luZ1xuICogdGhlIHZhbHVlLCBpbmRleCwgYW5kIGNvbXBsZXRlIGFycmF5IGZvciBlYWNoIGl0ZW0uXG4gKlxuICogSWYgJ29iaicgaXMgYW4gT2JqZWN0IGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkIHBhc3NpbmdcbiAqIHRoZSB2YWx1ZSwga2V5LCBhbmQgY29tcGxldGUgb2JqZWN0IGZvciBlYWNoIHByb3BlcnR5LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fEFycmF5fSBvYmogVGhlIG9iamVjdCB0byBpdGVyYXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgY2FsbGJhY2sgdG8gaW52b2tlIGZvciBlYWNoIGl0ZW1cbiAqL1xuZnVuY3Rpb24gZm9yRWFjaChvYmosIGZuKSB7XG4gIC8vIERvbid0IGJvdGhlciBpZiBubyB2YWx1ZSBwcm92aWRlZFxuICBpZiAob2JqID09PSBudWxsIHx8IHR5cGVvZiBvYmogPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gRm9yY2UgYW4gYXJyYXkgaWYgbm90IGFscmVhZHkgc29tZXRoaW5nIGl0ZXJhYmxlXG4gIGlmICh0eXBlb2Ygb2JqICE9PSAnb2JqZWN0JyAmJiAhaXNBcnJheShvYmopKSB7XG4gICAgLyplc2xpbnQgbm8tcGFyYW0tcmVhc3NpZ246MCovXG4gICAgb2JqID0gW29ial07XG4gIH1cblxuICBpZiAoaXNBcnJheShvYmopKSB7XG4gICAgLy8gSXRlcmF0ZSBvdmVyIGFycmF5IHZhbHVlc1xuICAgIGZvciAodmFyIGkgPSAwLCBsID0gb2JqLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgZm4uY2FsbChudWxsLCBvYmpbaV0sIGksIG9iaik7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIEl0ZXJhdGUgb3ZlciBvYmplY3Qga2V5c1xuICAgIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICBmbi5jYWxsKG51bGwsIG9ialtrZXldLCBrZXksIG9iaik7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQWNjZXB0cyB2YXJhcmdzIGV4cGVjdGluZyBlYWNoIGFyZ3VtZW50IHRvIGJlIGFuIG9iamVjdCwgdGhlblxuICogaW1tdXRhYmx5IG1lcmdlcyB0aGUgcHJvcGVydGllcyBvZiBlYWNoIG9iamVjdCBhbmQgcmV0dXJucyByZXN1bHQuXG4gKlxuICogV2hlbiBtdWx0aXBsZSBvYmplY3RzIGNvbnRhaW4gdGhlIHNhbWUga2V5IHRoZSBsYXRlciBvYmplY3QgaW5cbiAqIHRoZSBhcmd1bWVudHMgbGlzdCB3aWxsIHRha2UgcHJlY2VkZW5jZS5cbiAqXG4gKiBFeGFtcGxlOlxuICpcbiAqIGBgYGpzXG4gKiB2YXIgcmVzdWx0ID0gbWVyZ2Uoe2ZvbzogMTIzfSwge2ZvbzogNDU2fSk7XG4gKiBjb25zb2xlLmxvZyhyZXN1bHQuZm9vKTsgLy8gb3V0cHV0cyA0NTZcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmoxIE9iamVjdCB0byBtZXJnZVxuICogQHJldHVybnMge09iamVjdH0gUmVzdWx0IG9mIGFsbCBtZXJnZSBwcm9wZXJ0aWVzXG4gKi9cbmZ1bmN0aW9uIG1lcmdlKC8qIG9iajEsIG9iajIsIG9iajMsIC4uLiAqLykge1xuICB2YXIgcmVzdWx0ID0ge307XG4gIGZ1bmN0aW9uIGFzc2lnblZhbHVlKHZhbCwga2V5KSB7XG4gICAgaWYgKHR5cGVvZiByZXN1bHRba2V5XSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIHZhbCA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHJlc3VsdFtrZXldID0gbWVyZ2UocmVzdWx0W2tleV0sIHZhbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdFtrZXldID0gdmFsO1xuICAgIH1cbiAgfVxuXG4gIGZvciAodmFyIGkgPSAwLCBsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGZvckVhY2goYXJndW1lbnRzW2ldLCBhc3NpZ25WYWx1ZSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGlzQXJyYXk6IGlzQXJyYXksXG4gIGlzQXJyYXlCdWZmZXI6IGlzQXJyYXlCdWZmZXIsXG4gIGlzRm9ybURhdGE6IGlzRm9ybURhdGEsXG4gIGlzQXJyYXlCdWZmZXJWaWV3OiBpc0FycmF5QnVmZmVyVmlldyxcbiAgaXNTdHJpbmc6IGlzU3RyaW5nLFxuICBpc051bWJlcjogaXNOdW1iZXIsXG4gIGlzT2JqZWN0OiBpc09iamVjdCxcbiAgaXNVbmRlZmluZWQ6IGlzVW5kZWZpbmVkLFxuICBpc0RhdGU6IGlzRGF0ZSxcbiAgaXNGaWxlOiBpc0ZpbGUsXG4gIGlzQmxvYjogaXNCbG9iLFxuICBpc0Z1bmN0aW9uOiBpc0Z1bmN0aW9uLFxuICBpc1N0cmVhbTogaXNTdHJlYW0sXG4gIGlzVVJMU2VhcmNoUGFyYW1zOiBpc1VSTFNlYXJjaFBhcmFtcyxcbiAgaXNTdGFuZGFyZEJyb3dzZXJFbnY6IGlzU3RhbmRhcmRCcm93c2VyRW52LFxuICBmb3JFYWNoOiBmb3JFYWNoLFxuICBtZXJnZTogbWVyZ2UsXG4gIHRyaW06IHRyaW1cbn07XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9heGlvcy9saWIvdXRpbHMuanNcbiAqKiBtb2R1bGUgaWQgPSAxXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG4oZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgIH1cbn0gKCkpXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcHJvY2Vzcy9icm93c2VyLmpzXG4gKiogbW9kdWxlIGlkID0gMlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG52YXIgYnVpbGRVUkwgPSByZXF1aXJlKCcuLy4uL2hlbHBlcnMvYnVpbGRVUkwnKTtcbnZhciBwYXJzZUhlYWRlcnMgPSByZXF1aXJlKCcuLy4uL2hlbHBlcnMvcGFyc2VIZWFkZXJzJyk7XG52YXIgdHJhbnNmb3JtRGF0YSA9IHJlcXVpcmUoJy4vLi4vaGVscGVycy90cmFuc2Zvcm1EYXRhJyk7XG52YXIgaXNVUkxTYW1lT3JpZ2luID0gcmVxdWlyZSgnLi8uLi9oZWxwZXJzL2lzVVJMU2FtZU9yaWdpbicpO1xudmFyIGJ0b2EgPSAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmJ0b2EpIHx8IHJlcXVpcmUoJy4vLi4vaGVscGVycy9idG9hJyk7XG52YXIgc2V0dGxlID0gcmVxdWlyZSgnLi4vaGVscGVycy9zZXR0bGUnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB4aHJBZGFwdGVyKHJlc29sdmUsIHJlamVjdCwgY29uZmlnKSB7XG4gIHZhciByZXF1ZXN0RGF0YSA9IGNvbmZpZy5kYXRhO1xuICB2YXIgcmVxdWVzdEhlYWRlcnMgPSBjb25maWcuaGVhZGVycztcblxuICBpZiAodXRpbHMuaXNGb3JtRGF0YShyZXF1ZXN0RGF0YSkpIHtcbiAgICBkZWxldGUgcmVxdWVzdEhlYWRlcnNbJ0NvbnRlbnQtVHlwZSddOyAvLyBMZXQgdGhlIGJyb3dzZXIgc2V0IGl0XG4gIH1cblxuICB2YXIgcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICB2YXIgbG9hZEV2ZW50ID0gJ29ucmVhZHlzdGF0ZWNoYW5nZSc7XG4gIHZhciB4RG9tYWluID0gZmFsc2U7XG5cbiAgLy8gRm9yIElFIDgvOSBDT1JTIHN1cHBvcnRcbiAgLy8gT25seSBzdXBwb3J0cyBQT1NUIGFuZCBHRVQgY2FsbHMgYW5kIGRvZXNuJ3QgcmV0dXJucyB0aGUgcmVzcG9uc2UgaGVhZGVycy5cbiAgLy8gRE9OJ1QgZG8gdGhpcyBmb3IgdGVzdGluZyBiL2MgWE1MSHR0cFJlcXVlc3QgaXMgbW9ja2VkLCBub3QgWERvbWFpblJlcXVlc3QuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Rlc3QnICYmIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5YRG9tYWluUmVxdWVzdCAmJiAhKCd3aXRoQ3JlZGVudGlhbHMnIGluIHJlcXVlc3QpICYmICFpc1VSTFNhbWVPcmlnaW4oY29uZmlnLnVybCkpIHtcbiAgICByZXF1ZXN0ID0gbmV3IHdpbmRvdy5YRG9tYWluUmVxdWVzdCgpO1xuICAgIGxvYWRFdmVudCA9ICdvbmxvYWQnO1xuICAgIHhEb21haW4gPSB0cnVlO1xuICAgIHJlcXVlc3Qub25wcm9ncmVzcyA9IGZ1bmN0aW9uIGhhbmRsZVByb2dyZXNzKCkge307XG4gICAgcmVxdWVzdC5vbnRpbWVvdXQgPSBmdW5jdGlvbiBoYW5kbGVUaW1lb3V0KCkge307XG4gIH1cblxuICAvLyBIVFRQIGJhc2ljIGF1dGhlbnRpY2F0aW9uXG4gIGlmIChjb25maWcuYXV0aCkge1xuICAgIHZhciB1c2VybmFtZSA9IGNvbmZpZy5hdXRoLnVzZXJuYW1lIHx8ICcnO1xuICAgIHZhciBwYXNzd29yZCA9IGNvbmZpZy5hdXRoLnBhc3N3b3JkIHx8ICcnO1xuICAgIHJlcXVlc3RIZWFkZXJzLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArIGJ0b2EodXNlcm5hbWUgKyAnOicgKyBwYXNzd29yZCk7XG4gIH1cblxuICByZXF1ZXN0Lm9wZW4oY29uZmlnLm1ldGhvZC50b1VwcGVyQ2FzZSgpLCBidWlsZFVSTChjb25maWcudXJsLCBjb25maWcucGFyYW1zLCBjb25maWcucGFyYW1zU2VyaWFsaXplciksIHRydWUpO1xuXG4gIC8vIFNldCB0aGUgcmVxdWVzdCB0aW1lb3V0IGluIE1TXG4gIHJlcXVlc3QudGltZW91dCA9IGNvbmZpZy50aW1lb3V0O1xuXG4gIC8vIExpc3RlbiBmb3IgcmVhZHkgc3RhdGVcbiAgcmVxdWVzdFtsb2FkRXZlbnRdID0gZnVuY3Rpb24gaGFuZGxlTG9hZCgpIHtcbiAgICBpZiAoIXJlcXVlc3QgfHwgKHJlcXVlc3QucmVhZHlTdGF0ZSAhPT0gNCAmJiAheERvbWFpbikpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBUaGUgcmVxdWVzdCBlcnJvcmVkIG91dCBhbmQgd2UgZGlkbid0IGdldCBhIHJlc3BvbnNlLCB0aGlzIHdpbGwgYmVcbiAgICAvLyBoYW5kbGVkIGJ5IG9uZXJyb3IgaW5zdGVhZFxuICAgIGlmIChyZXF1ZXN0LnN0YXR1cyA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFByZXBhcmUgdGhlIHJlc3BvbnNlXG4gICAgdmFyIHJlc3BvbnNlSGVhZGVycyA9ICdnZXRBbGxSZXNwb25zZUhlYWRlcnMnIGluIHJlcXVlc3QgPyBwYXJzZUhlYWRlcnMocmVxdWVzdC5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSkgOiBudWxsO1xuICAgIHZhciByZXNwb25zZURhdGEgPSAhY29uZmlnLnJlc3BvbnNlVHlwZSB8fCBjb25maWcucmVzcG9uc2VUeXBlID09PSAndGV4dCcgPyByZXF1ZXN0LnJlc3BvbnNlVGV4dCA6IHJlcXVlc3QucmVzcG9uc2U7XG4gICAgdmFyIHJlc3BvbnNlID0ge1xuICAgICAgZGF0YTogdHJhbnNmb3JtRGF0YShcbiAgICAgICAgcmVzcG9uc2VEYXRhLFxuICAgICAgICByZXNwb25zZUhlYWRlcnMsXG4gICAgICAgIGNvbmZpZy50cmFuc2Zvcm1SZXNwb25zZVxuICAgICAgKSxcbiAgICAgIC8vIElFIHNlbmRzIDEyMjMgaW5zdGVhZCBvZiAyMDQgKGh0dHBzOi8vZ2l0aHViLmNvbS9temFicmlza2llL2F4aW9zL2lzc3Vlcy8yMDEpXG4gICAgICBzdGF0dXM6IHJlcXVlc3Quc3RhdHVzID09PSAxMjIzID8gMjA0IDogcmVxdWVzdC5zdGF0dXMsXG4gICAgICBzdGF0dXNUZXh0OiByZXF1ZXN0LnN0YXR1cyA9PT0gMTIyMyA/ICdObyBDb250ZW50JyA6IHJlcXVlc3Quc3RhdHVzVGV4dCxcbiAgICAgIGhlYWRlcnM6IHJlc3BvbnNlSGVhZGVycyxcbiAgICAgIGNvbmZpZzogY29uZmlnLFxuICAgICAgcmVxdWVzdDogcmVxdWVzdFxuICAgIH07XG5cbiAgICBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCByZXNwb25zZSk7XG5cbiAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG4gICAgcmVxdWVzdCA9IG51bGw7XG4gIH07XG5cbiAgLy8gSGFuZGxlIGxvdyBsZXZlbCBuZXR3b3JrIGVycm9yc1xuICByZXF1ZXN0Lm9uZXJyb3IgPSBmdW5jdGlvbiBoYW5kbGVFcnJvcigpIHtcbiAgICAvLyBSZWFsIGVycm9ycyBhcmUgaGlkZGVuIGZyb20gdXMgYnkgdGhlIGJyb3dzZXJcbiAgICAvLyBvbmVycm9yIHNob3VsZCBvbmx5IGZpcmUgaWYgaXQncyBhIG5ldHdvcmsgZXJyb3JcbiAgICByZWplY3QobmV3IEVycm9yKCdOZXR3b3JrIEVycm9yJykpO1xuXG4gICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgIHJlcXVlc3QgPSBudWxsO1xuICB9O1xuXG4gIC8vIEhhbmRsZSB0aW1lb3V0XG4gIHJlcXVlc3Qub250aW1lb3V0ID0gZnVuY3Rpb24gaGFuZGxlVGltZW91dCgpIHtcbiAgICB2YXIgZXJyID0gbmV3IEVycm9yKCd0aW1lb3V0IG9mICcgKyBjb25maWcudGltZW91dCArICdtcyBleGNlZWRlZCcpO1xuICAgIGVyci50aW1lb3V0ID0gY29uZmlnLnRpbWVvdXQ7XG4gICAgZXJyLmNvZGUgPSAnRUNPTk5BQk9SVEVEJztcbiAgICByZWplY3QoZXJyKTtcblxuICAgIC8vIENsZWFuIHVwIHJlcXVlc3RcbiAgICByZXF1ZXN0ID0gbnVsbDtcbiAgfTtcblxuICAvLyBBZGQgeHNyZiBoZWFkZXJcbiAgLy8gVGhpcyBpcyBvbmx5IGRvbmUgaWYgcnVubmluZyBpbiBhIHN0YW5kYXJkIGJyb3dzZXIgZW52aXJvbm1lbnQuXG4gIC8vIFNwZWNpZmljYWxseSBub3QgaWYgd2UncmUgaW4gYSB3ZWIgd29ya2VyLCBvciByZWFjdC1uYXRpdmUuXG4gIGlmICh1dGlscy5pc1N0YW5kYXJkQnJvd3NlckVudigpKSB7XG4gICAgdmFyIGNvb2tpZXMgPSByZXF1aXJlKCcuLy4uL2hlbHBlcnMvY29va2llcycpO1xuXG4gICAgLy8gQWRkIHhzcmYgaGVhZGVyXG4gICAgdmFyIHhzcmZWYWx1ZSA9IGNvbmZpZy53aXRoQ3JlZGVudGlhbHMgfHwgaXNVUkxTYW1lT3JpZ2luKGNvbmZpZy51cmwpID9cbiAgICAgICAgY29va2llcy5yZWFkKGNvbmZpZy54c3JmQ29va2llTmFtZSkgOlxuICAgICAgICB1bmRlZmluZWQ7XG5cbiAgICBpZiAoeHNyZlZhbHVlKSB7XG4gICAgICByZXF1ZXN0SGVhZGVyc1tjb25maWcueHNyZkhlYWRlck5hbWVdID0geHNyZlZhbHVlO1xuICAgIH1cbiAgfVxuXG4gIC8vIEFkZCBoZWFkZXJzIHRvIHRoZSByZXF1ZXN0XG4gIGlmICgnc2V0UmVxdWVzdEhlYWRlcicgaW4gcmVxdWVzdCkge1xuICAgIHV0aWxzLmZvckVhY2gocmVxdWVzdEhlYWRlcnMsIGZ1bmN0aW9uIHNldFJlcXVlc3RIZWFkZXIodmFsLCBrZXkpIHtcbiAgICAgIGlmICh0eXBlb2YgcmVxdWVzdERhdGEgPT09ICd1bmRlZmluZWQnICYmIGtleS50b0xvd2VyQ2FzZSgpID09PSAnY29udGVudC10eXBlJykge1xuICAgICAgICAvLyBSZW1vdmUgQ29udGVudC1UeXBlIGlmIGRhdGEgaXMgdW5kZWZpbmVkXG4gICAgICAgIGRlbGV0ZSByZXF1ZXN0SGVhZGVyc1trZXldO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gT3RoZXJ3aXNlIGFkZCBoZWFkZXIgdG8gdGhlIHJlcXVlc3RcbiAgICAgICAgcmVxdWVzdC5zZXRSZXF1ZXN0SGVhZGVyKGtleSwgdmFsKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8vIEFkZCB3aXRoQ3JlZGVudGlhbHMgdG8gcmVxdWVzdCBpZiBuZWVkZWRcbiAgaWYgKGNvbmZpZy53aXRoQ3JlZGVudGlhbHMpIHtcbiAgICByZXF1ZXN0LndpdGhDcmVkZW50aWFscyA9IHRydWU7XG4gIH1cblxuICAvLyBBZGQgcmVzcG9uc2VUeXBlIHRvIHJlcXVlc3QgaWYgbmVlZGVkXG4gIGlmIChjb25maWcucmVzcG9uc2VUeXBlKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJlcXVlc3QucmVzcG9uc2VUeXBlID0gY29uZmlnLnJlc3BvbnNlVHlwZTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBpZiAocmVxdWVzdC5yZXNwb25zZVR5cGUgIT09ICdqc29uJykge1xuICAgICAgICB0aHJvdyBlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIEhhbmRsZSBwcm9ncmVzcyBpZiBuZWVkZWRcbiAgaWYgKGNvbmZpZy5wcm9ncmVzcykge1xuICAgIGlmIChjb25maWcubWV0aG9kID09PSAncG9zdCcgfHwgY29uZmlnLm1ldGhvZCA9PT0gJ3B1dCcpIHtcbiAgICAgIHJlcXVlc3QudXBsb2FkLmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgY29uZmlnLnByb2dyZXNzKTtcbiAgICB9IGVsc2UgaWYgKGNvbmZpZy5tZXRob2QgPT09ICdnZXQnKSB7XG4gICAgICByZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgY29uZmlnLnByb2dyZXNzKTtcbiAgICB9XG4gIH1cblxuICBpZiAocmVxdWVzdERhdGEgPT09IHVuZGVmaW5lZCkge1xuICAgIHJlcXVlc3REYXRhID0gbnVsbDtcbiAgfVxuXG4gIC8vIFNlbmQgdGhlIHJlcXVlc3RcbiAgcmVxdWVzdC5zZW5kKHJlcXVlc3REYXRhKTtcbn07XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9heGlvcy9saWIvYWRhcHRlcnMveGhyLmpzXG4gKiogbW9kdWxlIGlkID0gM1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG5cbi8qKlxuICogVHJhbnNmb3JtIHRoZSBkYXRhIGZvciBhIHJlcXVlc3Qgb3IgYSByZXNwb25zZVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fFN0cmluZ30gZGF0YSBUaGUgZGF0YSB0byBiZSB0cmFuc2Zvcm1lZFxuICogQHBhcmFtIHtBcnJheX0gaGVhZGVycyBUaGUgaGVhZGVycyBmb3IgdGhlIHJlcXVlc3Qgb3IgcmVzcG9uc2VcbiAqIEBwYXJhbSB7QXJyYXl8RnVuY3Rpb259IGZucyBBIHNpbmdsZSBmdW5jdGlvbiBvciBBcnJheSBvZiBmdW5jdGlvbnNcbiAqIEByZXR1cm5zIHsqfSBUaGUgcmVzdWx0aW5nIHRyYW5zZm9ybWVkIGRhdGFcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB0cmFuc2Zvcm1EYXRhKGRhdGEsIGhlYWRlcnMsIGZucykge1xuICAvKmVzbGludCBuby1wYXJhbS1yZWFzc2lnbjowKi9cbiAgdXRpbHMuZm9yRWFjaChmbnMsIGZ1bmN0aW9uIHRyYW5zZm9ybShmbikge1xuICAgIGRhdGEgPSBmbihkYXRhLCBoZWFkZXJzKTtcbiAgfSk7XG5cbiAgcmV0dXJuIGRhdGE7XG59O1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYXhpb3MvbGliL2hlbHBlcnMvdHJhbnNmb3JtRGF0YS5qc1xuICoqIG1vZHVsZSBpZCA9IDRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9saWIvYXhpb3MnKTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9heGlvcy9pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxudmFyIGRlZmF1bHRzID0gcmVxdWlyZSgnLi9kZWZhdWx0cycpO1xudmFyIHV0aWxzID0gcmVxdWlyZSgnLi91dGlscycpO1xudmFyIGRpc3BhdGNoUmVxdWVzdCA9IHJlcXVpcmUoJy4vY29yZS9kaXNwYXRjaFJlcXVlc3QnKTtcbnZhciBJbnRlcmNlcHRvck1hbmFnZXIgPSByZXF1aXJlKCcuL2NvcmUvSW50ZXJjZXB0b3JNYW5hZ2VyJyk7XG52YXIgaXNBYnNvbHV0ZVVSTCA9IHJlcXVpcmUoJy4vaGVscGVycy9pc0Fic29sdXRlVVJMJyk7XG52YXIgY29tYmluZVVSTHMgPSByZXF1aXJlKCcuL2hlbHBlcnMvY29tYmluZVVSTHMnKTtcbnZhciBiaW5kID0gcmVxdWlyZSgnLi9oZWxwZXJzL2JpbmQnKTtcbnZhciB0cmFuc2Zvcm1EYXRhID0gcmVxdWlyZSgnLi9oZWxwZXJzL3RyYW5zZm9ybURhdGEnKTtcblxuZnVuY3Rpb24gQXhpb3MoZGVmYXVsdENvbmZpZykge1xuICB0aGlzLmRlZmF1bHRzID0gdXRpbHMubWVyZ2Uoe30sIGRlZmF1bHRDb25maWcpO1xuICB0aGlzLmludGVyY2VwdG9ycyA9IHtcbiAgICByZXF1ZXN0OiBuZXcgSW50ZXJjZXB0b3JNYW5hZ2VyKCksXG4gICAgcmVzcG9uc2U6IG5ldyBJbnRlcmNlcHRvck1hbmFnZXIoKVxuICB9O1xufVxuXG5BeGlvcy5wcm90b3R5cGUucmVxdWVzdCA9IGZ1bmN0aW9uIHJlcXVlc3QoY29uZmlnKSB7XG4gIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICAvLyBBbGxvdyBmb3IgYXhpb3MoJ2V4YW1wbGUvdXJsJ1ssIGNvbmZpZ10pIGEgbGEgZmV0Y2ggQVBJXG4gIGlmICh0eXBlb2YgY29uZmlnID09PSAnc3RyaW5nJykge1xuICAgIGNvbmZpZyA9IHV0aWxzLm1lcmdlKHtcbiAgICAgIHVybDogYXJndW1lbnRzWzBdXG4gICAgfSwgYXJndW1lbnRzWzFdKTtcbiAgfVxuXG4gIGNvbmZpZyA9IHV0aWxzLm1lcmdlKGRlZmF1bHRzLCB0aGlzLmRlZmF1bHRzLCB7IG1ldGhvZDogJ2dldCcgfSwgY29uZmlnKTtcblxuICAvLyBTdXBwb3J0IGJhc2VVUkwgY29uZmlnXG4gIGlmIChjb25maWcuYmFzZVVSTCAmJiAhaXNBYnNvbHV0ZVVSTChjb25maWcudXJsKSkge1xuICAgIGNvbmZpZy51cmwgPSBjb21iaW5lVVJMcyhjb25maWcuYmFzZVVSTCwgY29uZmlnLnVybCk7XG4gIH1cblxuICAvLyBEb24ndCBhbGxvdyBvdmVycmlkaW5nIGRlZmF1bHRzLndpdGhDcmVkZW50aWFsc1xuICBjb25maWcud2l0aENyZWRlbnRpYWxzID0gY29uZmlnLndpdGhDcmVkZW50aWFscyB8fCB0aGlzLmRlZmF1bHRzLndpdGhDcmVkZW50aWFscztcblxuICAvLyBUcmFuc2Zvcm0gcmVxdWVzdCBkYXRhXG4gIGNvbmZpZy5kYXRhID0gdHJhbnNmb3JtRGF0YShcbiAgICBjb25maWcuZGF0YSxcbiAgICBjb25maWcuaGVhZGVycyxcbiAgICBjb25maWcudHJhbnNmb3JtUmVxdWVzdFxuICApO1xuXG4gIC8vIEZsYXR0ZW4gaGVhZGVyc1xuICBjb25maWcuaGVhZGVycyA9IHV0aWxzLm1lcmdlKFxuICAgIGNvbmZpZy5oZWFkZXJzLmNvbW1vbiB8fCB7fSxcbiAgICBjb25maWcuaGVhZGVyc1tjb25maWcubWV0aG9kXSB8fCB7fSxcbiAgICBjb25maWcuaGVhZGVycyB8fCB7fVxuICApO1xuXG4gIHV0aWxzLmZvckVhY2goXG4gICAgWydkZWxldGUnLCAnZ2V0JywgJ2hlYWQnLCAncG9zdCcsICdwdXQnLCAncGF0Y2gnLCAnY29tbW9uJ10sXG4gICAgZnVuY3Rpb24gY2xlYW5IZWFkZXJDb25maWcobWV0aG9kKSB7XG4gICAgICBkZWxldGUgY29uZmlnLmhlYWRlcnNbbWV0aG9kXTtcbiAgICB9XG4gICk7XG5cbiAgLy8gSG9vayB1cCBpbnRlcmNlcHRvcnMgbWlkZGxld2FyZVxuICB2YXIgY2hhaW4gPSBbZGlzcGF0Y2hSZXF1ZXN0LCB1bmRlZmluZWRdO1xuICB2YXIgcHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZShjb25maWcpO1xuXG4gIHRoaXMuaW50ZXJjZXB0b3JzLnJlcXVlc3QuZm9yRWFjaChmdW5jdGlvbiB1bnNoaWZ0UmVxdWVzdEludGVyY2VwdG9ycyhpbnRlcmNlcHRvcikge1xuICAgIGNoYWluLnVuc2hpZnQoaW50ZXJjZXB0b3IuZnVsZmlsbGVkLCBpbnRlcmNlcHRvci5yZWplY3RlZCk7XG4gIH0pO1xuXG4gIHRoaXMuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLmZvckVhY2goZnVuY3Rpb24gcHVzaFJlc3BvbnNlSW50ZXJjZXB0b3JzKGludGVyY2VwdG9yKSB7XG4gICAgY2hhaW4ucHVzaChpbnRlcmNlcHRvci5mdWxmaWxsZWQsIGludGVyY2VwdG9yLnJlamVjdGVkKTtcbiAgfSk7XG5cbiAgd2hpbGUgKGNoYWluLmxlbmd0aCkge1xuICAgIHByb21pc2UgPSBwcm9taXNlLnRoZW4oY2hhaW4uc2hpZnQoKSwgY2hhaW4uc2hpZnQoKSk7XG4gIH1cblxuICByZXR1cm4gcHJvbWlzZTtcbn07XG5cbnZhciBkZWZhdWx0SW5zdGFuY2UgPSBuZXcgQXhpb3MoZGVmYXVsdHMpO1xudmFyIGF4aW9zID0gbW9kdWxlLmV4cG9ydHMgPSBiaW5kKEF4aW9zLnByb3RvdHlwZS5yZXF1ZXN0LCBkZWZhdWx0SW5zdGFuY2UpO1xuYXhpb3MucmVxdWVzdCA9IGJpbmQoQXhpb3MucHJvdG90eXBlLnJlcXVlc3QsIGRlZmF1bHRJbnN0YW5jZSk7XG5cbi8vIEV4cG9zZSBBeGlvcyBjbGFzcyB0byBhbGxvdyBjbGFzcyBpbmhlcml0YW5jZVxuYXhpb3MuQXhpb3MgPSBBeGlvcztcblxuLy8gRXhwb3NlIHByb3BlcnRpZXMgZnJvbSBkZWZhdWx0SW5zdGFuY2VcbmF4aW9zLmRlZmF1bHRzID0gZGVmYXVsdEluc3RhbmNlLmRlZmF1bHRzO1xuYXhpb3MuaW50ZXJjZXB0b3JzID0gZGVmYXVsdEluc3RhbmNlLmludGVyY2VwdG9ycztcblxuLy8gRmFjdG9yeSBmb3IgY3JlYXRpbmcgbmV3IGluc3RhbmNlc1xuYXhpb3MuY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKGRlZmF1bHRDb25maWcpIHtcbiAgcmV0dXJuIG5ldyBBeGlvcyhkZWZhdWx0Q29uZmlnKTtcbn07XG5cbi8vIEV4cG9zZSBhbGwvc3ByZWFkXG5heGlvcy5hbGwgPSBmdW5jdGlvbiBhbGwocHJvbWlzZXMpIHtcbiAgcmV0dXJuIFByb21pc2UuYWxsKHByb21pc2VzKTtcbn07XG5heGlvcy5zcHJlYWQgPSByZXF1aXJlKCcuL2hlbHBlcnMvc3ByZWFkJyk7XG5cbi8vIFByb3ZpZGUgYWxpYXNlcyBmb3Igc3VwcG9ydGVkIHJlcXVlc3QgbWV0aG9kc1xudXRpbHMuZm9yRWFjaChbJ2RlbGV0ZScsICdnZXQnLCAnaGVhZCddLCBmdW5jdGlvbiBmb3JFYWNoTWV0aG9kTm9EYXRhKG1ldGhvZCkge1xuICAvKmVzbGludCBmdW5jLW5hbWVzOjAqL1xuICBBeGlvcy5wcm90b3R5cGVbbWV0aG9kXSA9IGZ1bmN0aW9uKHVybCwgY29uZmlnKSB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdCh1dGlscy5tZXJnZShjb25maWcgfHwge30sIHtcbiAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgdXJsOiB1cmxcbiAgICB9KSk7XG4gIH07XG4gIGF4aW9zW21ldGhvZF0gPSBiaW5kKEF4aW9zLnByb3RvdHlwZVttZXRob2RdLCBkZWZhdWx0SW5zdGFuY2UpO1xufSk7XG5cbnV0aWxzLmZvckVhY2goWydwb3N0JywgJ3B1dCcsICdwYXRjaCddLCBmdW5jdGlvbiBmb3JFYWNoTWV0aG9kV2l0aERhdGEobWV0aG9kKSB7XG4gIC8qZXNsaW50IGZ1bmMtbmFtZXM6MCovXG4gIEF4aW9zLnByb3RvdHlwZVttZXRob2RdID0gZnVuY3Rpb24odXJsLCBkYXRhLCBjb25maWcpIHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KHV0aWxzLm1lcmdlKGNvbmZpZyB8fCB7fSwge1xuICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICB1cmw6IHVybCxcbiAgICAgIGRhdGE6IGRhdGFcbiAgICB9KSk7XG4gIH07XG4gIGF4aW9zW21ldGhvZF0gPSBiaW5kKEF4aW9zLnByb3RvdHlwZVttZXRob2RdLCBkZWZhdWx0SW5zdGFuY2UpO1xufSk7XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9heGlvcy9saWIvYXhpb3MuanNcbiAqKiBtb2R1bGUgaWQgPSA2XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcblxuZnVuY3Rpb24gSW50ZXJjZXB0b3JNYW5hZ2VyKCkge1xuICB0aGlzLmhhbmRsZXJzID0gW107XG59XG5cbi8qKlxuICogQWRkIGEgbmV3IGludGVyY2VwdG9yIHRvIHRoZSBzdGFja1xuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bGZpbGxlZCBUaGUgZnVuY3Rpb24gdG8gaGFuZGxlIGB0aGVuYCBmb3IgYSBgUHJvbWlzZWBcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHJlamVjdGVkIFRoZSBmdW5jdGlvbiB0byBoYW5kbGUgYHJlamVjdGAgZm9yIGEgYFByb21pc2VgXG4gKlxuICogQHJldHVybiB7TnVtYmVyfSBBbiBJRCB1c2VkIHRvIHJlbW92ZSBpbnRlcmNlcHRvciBsYXRlclxuICovXG5JbnRlcmNlcHRvck1hbmFnZXIucHJvdG90eXBlLnVzZSA9IGZ1bmN0aW9uIHVzZShmdWxmaWxsZWQsIHJlamVjdGVkKSB7XG4gIHRoaXMuaGFuZGxlcnMucHVzaCh7XG4gICAgZnVsZmlsbGVkOiBmdWxmaWxsZWQsXG4gICAgcmVqZWN0ZWQ6IHJlamVjdGVkXG4gIH0pO1xuICByZXR1cm4gdGhpcy5oYW5kbGVycy5sZW5ndGggLSAxO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgYW4gaW50ZXJjZXB0b3IgZnJvbSB0aGUgc3RhY2tcbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gaWQgVGhlIElEIHRoYXQgd2FzIHJldHVybmVkIGJ5IGB1c2VgXG4gKi9cbkludGVyY2VwdG9yTWFuYWdlci5wcm90b3R5cGUuZWplY3QgPSBmdW5jdGlvbiBlamVjdChpZCkge1xuICBpZiAodGhpcy5oYW5kbGVyc1tpZF0pIHtcbiAgICB0aGlzLmhhbmRsZXJzW2lkXSA9IG51bGw7XG4gIH1cbn07XG5cbi8qKlxuICogSXRlcmF0ZSBvdmVyIGFsbCB0aGUgcmVnaXN0ZXJlZCBpbnRlcmNlcHRvcnNcbiAqXG4gKiBUaGlzIG1ldGhvZCBpcyBwYXJ0aWN1bGFybHkgdXNlZnVsIGZvciBza2lwcGluZyBvdmVyIGFueVxuICogaW50ZXJjZXB0b3JzIHRoYXQgbWF5IGhhdmUgYmVjb21lIGBudWxsYCBjYWxsaW5nIGBlamVjdGAuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGZ1bmN0aW9uIHRvIGNhbGwgZm9yIGVhY2ggaW50ZXJjZXB0b3JcbiAqL1xuSW50ZXJjZXB0b3JNYW5hZ2VyLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gZm9yRWFjaChmbikge1xuICB1dGlscy5mb3JFYWNoKHRoaXMuaGFuZGxlcnMsIGZ1bmN0aW9uIGZvckVhY2hIYW5kbGVyKGgpIHtcbiAgICBpZiAoaCAhPT0gbnVsbCkge1xuICAgICAgZm4oaCk7XG4gICAgfVxuICB9KTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gSW50ZXJjZXB0b3JNYW5hZ2VyO1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYXhpb3MvbGliL2NvcmUvSW50ZXJjZXB0b3JNYW5hZ2VyLmpzXG4gKiogbW9kdWxlIGlkID0gN1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIERpc3BhdGNoIGEgcmVxdWVzdCB0byB0aGUgc2VydmVyIHVzaW5nIHdoaWNoZXZlciBhZGFwdGVyXG4gKiBpcyBzdXBwb3J0ZWQgYnkgdGhlIGN1cnJlbnQgZW52aXJvbm1lbnQuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IGNvbmZpZyBUaGUgY29uZmlnIHRoYXQgaXMgdG8gYmUgdXNlZCBmb3IgdGhlIHJlcXVlc3RcbiAqIEByZXR1cm5zIHtQcm9taXNlfSBUaGUgUHJvbWlzZSB0byBiZSBmdWxmaWxsZWRcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBkaXNwYXRjaFJlcXVlc3QoY29uZmlnKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiBleGVjdXRvcihyZXNvbHZlLCByZWplY3QpIHtcbiAgICB0cnkge1xuICAgICAgdmFyIGFkYXB0ZXI7XG5cbiAgICAgIGlmICh0eXBlb2YgY29uZmlnLmFkYXB0ZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgLy8gRm9yIGN1c3RvbSBhZGFwdGVyIHN1cHBvcnRcbiAgICAgICAgYWRhcHRlciA9IGNvbmZpZy5hZGFwdGVyO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgWE1MSHR0cFJlcXVlc3QgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIC8vIEZvciBicm93c2VycyB1c2UgWEhSIGFkYXB0ZXJcbiAgICAgICAgYWRhcHRlciA9IHJlcXVpcmUoJy4uL2FkYXB0ZXJzL3hocicpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgLy8gRm9yIG5vZGUgdXNlIEhUVFAgYWRhcHRlclxuICAgICAgICBhZGFwdGVyID0gcmVxdWlyZSgnLi4vYWRhcHRlcnMvaHR0cCcpO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIGFkYXB0ZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgYWRhcHRlcihyZXNvbHZlLCByZWplY3QsIGNvbmZpZyk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmVqZWN0KGUpO1xuICAgIH1cbiAgfSk7XG59O1xuXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9heGlvcy9saWIvY29yZS9kaXNwYXRjaFJlcXVlc3QuanNcbiAqKiBtb2R1bGUgaWQgPSA4XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vdXRpbHMnKTtcbnZhciBub3JtYWxpemVIZWFkZXJOYW1lID0gcmVxdWlyZSgnLi9oZWxwZXJzL25vcm1hbGl6ZUhlYWRlck5hbWUnKTtcblxudmFyIFBST1RFQ1RJT05fUFJFRklYID0gL15cXClcXF1cXH0nLD9cXG4vO1xudmFyIERFRkFVTFRfQ09OVEVOVF9UWVBFID0ge1xuICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCdcbn07XG5cbmZ1bmN0aW9uIHNldENvbnRlbnRUeXBlSWZVbnNldChoZWFkZXJzLCB2YWx1ZSkge1xuICBpZiAoIXV0aWxzLmlzVW5kZWZpbmVkKGhlYWRlcnMpICYmIHV0aWxzLmlzVW5kZWZpbmVkKGhlYWRlcnNbJ0NvbnRlbnQtVHlwZSddKSkge1xuICAgIGhlYWRlcnNbJ0NvbnRlbnQtVHlwZSddID0gdmFsdWU7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHRyYW5zZm9ybVJlcXVlc3Q6IFtmdW5jdGlvbiB0cmFuc2Zvcm1SZXF1ZXN0KGRhdGEsIGhlYWRlcnMpIHtcbiAgICBub3JtYWxpemVIZWFkZXJOYW1lKGhlYWRlcnMsICdDb250ZW50LVR5cGUnKTtcbiAgICBpZiAodXRpbHMuaXNGb3JtRGF0YShkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNBcnJheUJ1ZmZlcihkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNTdHJlYW0oZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzRmlsZShkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNCbG9iKGRhdGEpXG4gICAgKSB7XG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG4gICAgaWYgKHV0aWxzLmlzQXJyYXlCdWZmZXJWaWV3KGRhdGEpKSB7XG4gICAgICByZXR1cm4gZGF0YS5idWZmZXI7XG4gICAgfVxuICAgIGlmICh1dGlscy5pc1VSTFNlYXJjaFBhcmFtcyhkYXRhKSkge1xuICAgICAgc2V0Q29udGVudFR5cGVJZlVuc2V0KGhlYWRlcnMsICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD11dGYtOCcpO1xuICAgICAgcmV0dXJuIGRhdGEudG9TdHJpbmcoKTtcbiAgICB9XG4gICAgaWYgKHV0aWxzLmlzT2JqZWN0KGRhdGEpKSB7XG4gICAgICBzZXRDb250ZW50VHlwZUlmVW5zZXQoaGVhZGVycywgJ2FwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtOCcpO1xuICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGRhdGEpO1xuICAgIH1cbiAgICByZXR1cm4gZGF0YTtcbiAgfV0sXG5cbiAgdHJhbnNmb3JtUmVzcG9uc2U6IFtmdW5jdGlvbiB0cmFuc2Zvcm1SZXNwb25zZShkYXRhKSB7XG4gICAgLyplc2xpbnQgbm8tcGFyYW0tcmVhc3NpZ246MCovXG4gICAgaWYgKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJykge1xuICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZShQUk9URUNUSU9OX1BSRUZJWCwgJycpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgZGF0YSA9IEpTT04ucGFyc2UoZGF0YSk7XG4gICAgICB9IGNhdGNoIChlKSB7IC8qIElnbm9yZSAqLyB9XG4gICAgfVxuICAgIHJldHVybiBkYXRhO1xuICB9XSxcblxuICBoZWFkZXJzOiB7XG4gICAgY29tbW9uOiB7XG4gICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24sIHRleHQvcGxhaW4sICovKidcbiAgICB9LFxuICAgIHBhdGNoOiB1dGlscy5tZXJnZShERUZBVUxUX0NPTlRFTlRfVFlQRSksXG4gICAgcG9zdDogdXRpbHMubWVyZ2UoREVGQVVMVF9DT05URU5UX1RZUEUpLFxuICAgIHB1dDogdXRpbHMubWVyZ2UoREVGQVVMVF9DT05URU5UX1RZUEUpXG4gIH0sXG5cbiAgdGltZW91dDogMCxcblxuICB4c3JmQ29va2llTmFtZTogJ1hTUkYtVE9LRU4nLFxuICB4c3JmSGVhZGVyTmFtZTogJ1gtWFNSRi1UT0tFTicsXG5cbiAgbWF4Q29udGVudExlbmd0aDogLTEsXG5cbiAgdmFsaWRhdGVTdGF0dXM6IGZ1bmN0aW9uIHZhbGlkYXRlU3RhdHVzKHN0YXR1cykge1xuICAgIHJldHVybiBzdGF0dXMgPj0gMjAwICYmIHN0YXR1cyA8IDMwMDtcbiAgfVxufTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2F4aW9zL2xpYi9kZWZhdWx0cy5qc1xuICoqIG1vZHVsZSBpZCA9IDlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBiaW5kKGZuLCB0aGlzQXJnKSB7XG4gIHJldHVybiBmdW5jdGlvbiB3cmFwKCkge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xuICAgICAgYXJnc1tpXSA9IGFyZ3VtZW50c1tpXTtcbiAgICB9XG4gICAgcmV0dXJuIGZuLmFwcGx5KHRoaXNBcmcsIGFyZ3MpO1xuICB9O1xufTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2F4aW9zL2xpYi9oZWxwZXJzL2JpbmQuanNcbiAqKiBtb2R1bGUgaWQgPSAxMFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG4vLyBidG9hIHBvbHlmaWxsIGZvciBJRTwxMCBjb3VydGVzeSBodHRwczovL2dpdGh1Yi5jb20vZGF2aWRjaGFtYmVycy9CYXNlNjQuanNcblxudmFyIGNoYXJzID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky89JztcblxuZnVuY3Rpb24gRSgpIHtcbiAgdGhpcy5tZXNzYWdlID0gJ1N0cmluZyBjb250YWlucyBhbiBpbnZhbGlkIGNoYXJhY3Rlcic7XG59XG5FLnByb3RvdHlwZSA9IG5ldyBFcnJvcjtcbkUucHJvdG90eXBlLmNvZGUgPSA1O1xuRS5wcm90b3R5cGUubmFtZSA9ICdJbnZhbGlkQ2hhcmFjdGVyRXJyb3InO1xuXG5mdW5jdGlvbiBidG9hKGlucHV0KSB7XG4gIHZhciBzdHIgPSBTdHJpbmcoaW5wdXQpO1xuICB2YXIgb3V0cHV0ID0gJyc7XG4gIGZvciAoXG4gICAgLy8gaW5pdGlhbGl6ZSByZXN1bHQgYW5kIGNvdW50ZXJcbiAgICB2YXIgYmxvY2ssIGNoYXJDb2RlLCBpZHggPSAwLCBtYXAgPSBjaGFycztcbiAgICAvLyBpZiB0aGUgbmV4dCBzdHIgaW5kZXggZG9lcyBub3QgZXhpc3Q6XG4gICAgLy8gICBjaGFuZ2UgdGhlIG1hcHBpbmcgdGFibGUgdG8gXCI9XCJcbiAgICAvLyAgIGNoZWNrIGlmIGQgaGFzIG5vIGZyYWN0aW9uYWwgZGlnaXRzXG4gICAgc3RyLmNoYXJBdChpZHggfCAwKSB8fCAobWFwID0gJz0nLCBpZHggJSAxKTtcbiAgICAvLyBcIjggLSBpZHggJSAxICogOFwiIGdlbmVyYXRlcyB0aGUgc2VxdWVuY2UgMiwgNCwgNiwgOFxuICAgIG91dHB1dCArPSBtYXAuY2hhckF0KDYzICYgYmxvY2sgPj4gOCAtIGlkeCAlIDEgKiA4KVxuICApIHtcbiAgICBjaGFyQ29kZSA9IHN0ci5jaGFyQ29kZUF0KGlkeCArPSAzIC8gNCk7XG4gICAgaWYgKGNoYXJDb2RlID4gMHhGRikge1xuICAgICAgdGhyb3cgbmV3IEUoKTtcbiAgICB9XG4gICAgYmxvY2sgPSBibG9jayA8PCA4IHwgY2hhckNvZGU7XG4gIH1cbiAgcmV0dXJuIG91dHB1dDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBidG9hO1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYXhpb3MvbGliL2hlbHBlcnMvYnRvYS5qc1xuICoqIG1vZHVsZSBpZCA9IDExXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcblxuZnVuY3Rpb24gZW5jb2RlKHZhbCkge1xuICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHZhbCkuXG4gICAgcmVwbGFjZSgvJTQwL2dpLCAnQCcpLlxuICAgIHJlcGxhY2UoLyUzQS9naSwgJzonKS5cbiAgICByZXBsYWNlKC8lMjQvZywgJyQnKS5cbiAgICByZXBsYWNlKC8lMkMvZ2ksICcsJykuXG4gICAgcmVwbGFjZSgvJTIwL2csICcrJykuXG4gICAgcmVwbGFjZSgvJTVCL2dpLCAnWycpLlxuICAgIHJlcGxhY2UoLyU1RC9naSwgJ10nKTtcbn1cblxuLyoqXG4gKiBCdWlsZCBhIFVSTCBieSBhcHBlbmRpbmcgcGFyYW1zIHRvIHRoZSBlbmRcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIFRoZSBiYXNlIG9mIHRoZSB1cmwgKGUuZy4sIGh0dHA6Ly93d3cuZ29vZ2xlLmNvbSlcbiAqIEBwYXJhbSB7b2JqZWN0fSBbcGFyYW1zXSBUaGUgcGFyYW1zIHRvIGJlIGFwcGVuZGVkXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgZm9ybWF0dGVkIHVybFxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGJ1aWxkVVJMKHVybCwgcGFyYW1zLCBwYXJhbXNTZXJpYWxpemVyKSB7XG4gIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICBpZiAoIXBhcmFtcykge1xuICAgIHJldHVybiB1cmw7XG4gIH1cblxuICB2YXIgc2VyaWFsaXplZFBhcmFtcztcbiAgaWYgKHBhcmFtc1NlcmlhbGl6ZXIpIHtcbiAgICBzZXJpYWxpemVkUGFyYW1zID0gcGFyYW1zU2VyaWFsaXplcihwYXJhbXMpO1xuICB9IGVsc2UgaWYgKHV0aWxzLmlzVVJMU2VhcmNoUGFyYW1zKHBhcmFtcykpIHtcbiAgICBzZXJpYWxpemVkUGFyYW1zID0gcGFyYW1zLnRvU3RyaW5nKCk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHBhcnRzID0gW107XG5cbiAgICB1dGlscy5mb3JFYWNoKHBhcmFtcywgZnVuY3Rpb24gc2VyaWFsaXplKHZhbCwga2V5KSB7XG4gICAgICBpZiAodmFsID09PSBudWxsIHx8IHR5cGVvZiB2YWwgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHV0aWxzLmlzQXJyYXkodmFsKSkge1xuICAgICAgICBrZXkgPSBrZXkgKyAnW10nO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXV0aWxzLmlzQXJyYXkodmFsKSkge1xuICAgICAgICB2YWwgPSBbdmFsXTtcbiAgICAgIH1cblxuICAgICAgdXRpbHMuZm9yRWFjaCh2YWwsIGZ1bmN0aW9uIHBhcnNlVmFsdWUodikge1xuICAgICAgICBpZiAodXRpbHMuaXNEYXRlKHYpKSB7XG4gICAgICAgICAgdiA9IHYudG9JU09TdHJpbmcoKTtcbiAgICAgICAgfSBlbHNlIGlmICh1dGlscy5pc09iamVjdCh2KSkge1xuICAgICAgICAgIHYgPSBKU09OLnN0cmluZ2lmeSh2KTtcbiAgICAgICAgfVxuICAgICAgICBwYXJ0cy5wdXNoKGVuY29kZShrZXkpICsgJz0nICsgZW5jb2RlKHYpKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgc2VyaWFsaXplZFBhcmFtcyA9IHBhcnRzLmpvaW4oJyYnKTtcbiAgfVxuXG4gIGlmIChzZXJpYWxpemVkUGFyYW1zKSB7XG4gICAgdXJsICs9ICh1cmwuaW5kZXhPZignPycpID09PSAtMSA/ICc/JyA6ICcmJykgKyBzZXJpYWxpemVkUGFyYW1zO1xuICB9XG5cbiAgcmV0dXJuIHVybDtcbn07XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9heGlvcy9saWIvaGVscGVycy9idWlsZFVSTC5qc1xuICoqIG1vZHVsZSBpZCA9IDEyXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBVUkwgYnkgY29tYmluaW5nIHRoZSBzcGVjaWZpZWQgVVJMc1xuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBiYXNlVVJMIFRoZSBiYXNlIFVSTFxuICogQHBhcmFtIHtzdHJpbmd9IHJlbGF0aXZlVVJMIFRoZSByZWxhdGl2ZSBVUkxcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBjb21iaW5lZCBVUkxcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjb21iaW5lVVJMcyhiYXNlVVJMLCByZWxhdGl2ZVVSTCkge1xuICByZXR1cm4gYmFzZVVSTC5yZXBsYWNlKC9cXC8rJC8sICcnKSArICcvJyArIHJlbGF0aXZlVVJMLnJlcGxhY2UoL15cXC8rLywgJycpO1xufTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2F4aW9zL2xpYi9oZWxwZXJzL2NvbWJpbmVVUkxzLmpzXG4gKiogbW9kdWxlIGlkID0gMTNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IChcbiAgdXRpbHMuaXNTdGFuZGFyZEJyb3dzZXJFbnYoKSA/XG5cbiAgLy8gU3RhbmRhcmQgYnJvd3NlciBlbnZzIHN1cHBvcnQgZG9jdW1lbnQuY29va2llXG4gIChmdW5jdGlvbiBzdGFuZGFyZEJyb3dzZXJFbnYoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHdyaXRlOiBmdW5jdGlvbiB3cml0ZShuYW1lLCB2YWx1ZSwgZXhwaXJlcywgcGF0aCwgZG9tYWluLCBzZWN1cmUpIHtcbiAgICAgICAgdmFyIGNvb2tpZSA9IFtdO1xuICAgICAgICBjb29raWUucHVzaChuYW1lICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKSk7XG5cbiAgICAgICAgaWYgKHV0aWxzLmlzTnVtYmVyKGV4cGlyZXMpKSB7XG4gICAgICAgICAgY29va2llLnB1c2goJ2V4cGlyZXM9JyArIG5ldyBEYXRlKGV4cGlyZXMpLnRvR01UU3RyaW5nKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHV0aWxzLmlzU3RyaW5nKHBhdGgpKSB7XG4gICAgICAgICAgY29va2llLnB1c2goJ3BhdGg9JyArIHBhdGgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHV0aWxzLmlzU3RyaW5nKGRvbWFpbikpIHtcbiAgICAgICAgICBjb29raWUucHVzaCgnZG9tYWluPScgKyBkb21haW4pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNlY3VyZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgIGNvb2tpZS5wdXNoKCdzZWN1cmUnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRvY3VtZW50LmNvb2tpZSA9IGNvb2tpZS5qb2luKCc7ICcpO1xuICAgICAgfSxcblxuICAgICAgcmVhZDogZnVuY3Rpb24gcmVhZChuYW1lKSB7XG4gICAgICAgIHZhciBtYXRjaCA9IGRvY3VtZW50LmNvb2tpZS5tYXRjaChuZXcgUmVnRXhwKCcoXnw7XFxcXHMqKSgnICsgbmFtZSArICcpPShbXjtdKiknKSk7XG4gICAgICAgIHJldHVybiAobWF0Y2ggPyBkZWNvZGVVUklDb21wb25lbnQobWF0Y2hbM10pIDogbnVsbCk7XG4gICAgICB9LFxuXG4gICAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZShuYW1lKSB7XG4gICAgICAgIHRoaXMud3JpdGUobmFtZSwgJycsIERhdGUubm93KCkgLSA4NjQwMDAwMCk7XG4gICAgICB9XG4gICAgfTtcbiAgfSkoKSA6XG5cbiAgLy8gTm9uIHN0YW5kYXJkIGJyb3dzZXIgZW52ICh3ZWIgd29ya2VycywgcmVhY3QtbmF0aXZlKSBsYWNrIG5lZWRlZCBzdXBwb3J0LlxuICAoZnVuY3Rpb24gbm9uU3RhbmRhcmRCcm93c2VyRW52KCkge1xuICAgIHJldHVybiB7XG4gICAgICB3cml0ZTogZnVuY3Rpb24gd3JpdGUoKSB7fSxcbiAgICAgIHJlYWQ6IGZ1bmN0aW9uIHJlYWQoKSB7IHJldHVybiBudWxsOyB9LFxuICAgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7fVxuICAgIH07XG4gIH0pKClcbik7XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9heGlvcy9saWIvaGVscGVycy9jb29raWVzLmpzXG4gKiogbW9kdWxlIGlkID0gMTRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBEZXRlcm1pbmVzIHdoZXRoZXIgdGhlIHNwZWNpZmllZCBVUkwgaXMgYWJzb2x1dGVcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIFRoZSBVUkwgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIHNwZWNpZmllZCBVUkwgaXMgYWJzb2x1dGUsIG90aGVyd2lzZSBmYWxzZVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGlzQWJzb2x1dGVVUkwodXJsKSB7XG4gIC8vIEEgVVJMIGlzIGNvbnNpZGVyZWQgYWJzb2x1dGUgaWYgaXQgYmVnaW5zIHdpdGggXCI8c2NoZW1lPjovL1wiIG9yIFwiLy9cIiAocHJvdG9jb2wtcmVsYXRpdmUgVVJMKS5cbiAgLy8gUkZDIDM5ODYgZGVmaW5lcyBzY2hlbWUgbmFtZSBhcyBhIHNlcXVlbmNlIG9mIGNoYXJhY3RlcnMgYmVnaW5uaW5nIHdpdGggYSBsZXR0ZXIgYW5kIGZvbGxvd2VkXG4gIC8vIGJ5IGFueSBjb21iaW5hdGlvbiBvZiBsZXR0ZXJzLCBkaWdpdHMsIHBsdXMsIHBlcmlvZCwgb3IgaHlwaGVuLlxuICByZXR1cm4gL14oW2Etel1bYS16XFxkXFwrXFwtXFwuXSo6KT9cXC9cXC8vaS50ZXN0KHVybCk7XG59O1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYXhpb3MvbGliL2hlbHBlcnMvaXNBYnNvbHV0ZVVSTC5qc1xuICoqIG1vZHVsZSBpZCA9IDE1XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSAoXG4gIHV0aWxzLmlzU3RhbmRhcmRCcm93c2VyRW52KCkgP1xuXG4gIC8vIFN0YW5kYXJkIGJyb3dzZXIgZW52cyBoYXZlIGZ1bGwgc3VwcG9ydCBvZiB0aGUgQVBJcyBuZWVkZWQgdG8gdGVzdFxuICAvLyB3aGV0aGVyIHRoZSByZXF1ZXN0IFVSTCBpcyBvZiB0aGUgc2FtZSBvcmlnaW4gYXMgY3VycmVudCBsb2NhdGlvbi5cbiAgKGZ1bmN0aW9uIHN0YW5kYXJkQnJvd3NlckVudigpIHtcbiAgICB2YXIgbXNpZSA9IC8obXNpZXx0cmlkZW50KS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4gICAgdmFyIHVybFBhcnNpbmdOb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgIHZhciBvcmlnaW5VUkw7XG5cbiAgICAvKipcbiAgICAqIFBhcnNlIGEgVVJMIHRvIGRpc2NvdmVyIGl0J3MgY29tcG9uZW50c1xuICAgICpcbiAgICAqIEBwYXJhbSB7U3RyaW5nfSB1cmwgVGhlIFVSTCB0byBiZSBwYXJzZWRcbiAgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAgKi9cbiAgICBmdW5jdGlvbiByZXNvbHZlVVJMKHVybCkge1xuICAgICAgdmFyIGhyZWYgPSB1cmw7XG5cbiAgICAgIGlmIChtc2llKSB7XG4gICAgICAgIC8vIElFIG5lZWRzIGF0dHJpYnV0ZSBzZXQgdHdpY2UgdG8gbm9ybWFsaXplIHByb3BlcnRpZXNcbiAgICAgICAgdXJsUGFyc2luZ05vZGUuc2V0QXR0cmlidXRlKCdocmVmJywgaHJlZik7XG4gICAgICAgIGhyZWYgPSB1cmxQYXJzaW5nTm9kZS5ocmVmO1xuICAgICAgfVxuXG4gICAgICB1cmxQYXJzaW5nTm9kZS5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBocmVmKTtcblxuICAgICAgLy8gdXJsUGFyc2luZ05vZGUgcHJvdmlkZXMgdGhlIFVybFV0aWxzIGludGVyZmFjZSAtIGh0dHA6Ly91cmwuc3BlYy53aGF0d2cub3JnLyN1cmx1dGlsc1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaHJlZjogdXJsUGFyc2luZ05vZGUuaHJlZixcbiAgICAgICAgcHJvdG9jb2w6IHVybFBhcnNpbmdOb2RlLnByb3RvY29sID8gdXJsUGFyc2luZ05vZGUucHJvdG9jb2wucmVwbGFjZSgvOiQvLCAnJykgOiAnJyxcbiAgICAgICAgaG9zdDogdXJsUGFyc2luZ05vZGUuaG9zdCxcbiAgICAgICAgc2VhcmNoOiB1cmxQYXJzaW5nTm9kZS5zZWFyY2ggPyB1cmxQYXJzaW5nTm9kZS5zZWFyY2gucmVwbGFjZSgvXlxcPy8sICcnKSA6ICcnLFxuICAgICAgICBoYXNoOiB1cmxQYXJzaW5nTm9kZS5oYXNoID8gdXJsUGFyc2luZ05vZGUuaGFzaC5yZXBsYWNlKC9eIy8sICcnKSA6ICcnLFxuICAgICAgICBob3N0bmFtZTogdXJsUGFyc2luZ05vZGUuaG9zdG5hbWUsXG4gICAgICAgIHBvcnQ6IHVybFBhcnNpbmdOb2RlLnBvcnQsXG4gICAgICAgIHBhdGhuYW1lOiAodXJsUGFyc2luZ05vZGUucGF0aG5hbWUuY2hhckF0KDApID09PSAnLycpID9cbiAgICAgICAgICAgICAgICAgIHVybFBhcnNpbmdOb2RlLnBhdGhuYW1lIDpcbiAgICAgICAgICAgICAgICAgICcvJyArIHVybFBhcnNpbmdOb2RlLnBhdGhuYW1lXG4gICAgICB9O1xuICAgIH1cblxuICAgIG9yaWdpblVSTCA9IHJlc29sdmVVUkwod2luZG93LmxvY2F0aW9uLmhyZWYpO1xuXG4gICAgLyoqXG4gICAgKiBEZXRlcm1pbmUgaWYgYSBVUkwgc2hhcmVzIHRoZSBzYW1lIG9yaWdpbiBhcyB0aGUgY3VycmVudCBsb2NhdGlvblxuICAgICpcbiAgICAqIEBwYXJhbSB7U3RyaW5nfSByZXF1ZXN0VVJMIFRoZSBVUkwgdG8gdGVzdFxuICAgICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgVVJMIHNoYXJlcyB0aGUgc2FtZSBvcmlnaW4sIG90aGVyd2lzZSBmYWxzZVxuICAgICovXG4gICAgcmV0dXJuIGZ1bmN0aW9uIGlzVVJMU2FtZU9yaWdpbihyZXF1ZXN0VVJMKSB7XG4gICAgICB2YXIgcGFyc2VkID0gKHV0aWxzLmlzU3RyaW5nKHJlcXVlc3RVUkwpKSA/IHJlc29sdmVVUkwocmVxdWVzdFVSTCkgOiByZXF1ZXN0VVJMO1xuICAgICAgcmV0dXJuIChwYXJzZWQucHJvdG9jb2wgPT09IG9yaWdpblVSTC5wcm90b2NvbCAmJlxuICAgICAgICAgICAgcGFyc2VkLmhvc3QgPT09IG9yaWdpblVSTC5ob3N0KTtcbiAgICB9O1xuICB9KSgpIDpcblxuICAvLyBOb24gc3RhbmRhcmQgYnJvd3NlciBlbnZzICh3ZWIgd29ya2VycywgcmVhY3QtbmF0aXZlKSBsYWNrIG5lZWRlZCBzdXBwb3J0LlxuICAoZnVuY3Rpb24gbm9uU3RhbmRhcmRCcm93c2VyRW52KCkge1xuICAgIHJldHVybiBmdW5jdGlvbiBpc1VSTFNhbWVPcmlnaW4oKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICB9KSgpXG4pO1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYXhpb3MvbGliL2hlbHBlcnMvaXNVUkxTYW1lT3JpZ2luLmpzXG4gKiogbW9kdWxlIGlkID0gMTZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBub3JtYWxpemVIZWFkZXJOYW1lKGhlYWRlcnMsIG5vcm1hbGl6ZWROYW1lKSB7XG4gIHV0aWxzLmZvckVhY2goaGVhZGVycywgZnVuY3Rpb24gcHJvY2Vzc0hlYWRlcih2YWx1ZSwgbmFtZSkge1xuICAgIGlmIChuYW1lICE9PSBub3JtYWxpemVkTmFtZSAmJiBuYW1lLnRvVXBwZXJDYXNlKCkgPT09IG5vcm1hbGl6ZWROYW1lLnRvVXBwZXJDYXNlKCkpIHtcbiAgICAgIGhlYWRlcnNbbm9ybWFsaXplZE5hbWVdID0gdmFsdWU7XG4gICAgICBkZWxldGUgaGVhZGVyc1tuYW1lXTtcbiAgICB9XG4gIH0pO1xufTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2F4aW9zL2xpYi9oZWxwZXJzL25vcm1hbGl6ZUhlYWRlck5hbWUuanNcbiAqKiBtb2R1bGUgaWQgPSAxN1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG5cbi8qKlxuICogUGFyc2UgaGVhZGVycyBpbnRvIGFuIG9iamVjdFxuICpcbiAqIGBgYFxuICogRGF0ZTogV2VkLCAyNyBBdWcgMjAxNCAwODo1ODo0OSBHTVRcbiAqIENvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vanNvblxuICogQ29ubmVjdGlvbjoga2VlcC1hbGl2ZVxuICogVHJhbnNmZXItRW5jb2Rpbmc6IGNodW5rZWRcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBoZWFkZXJzIEhlYWRlcnMgbmVlZGluZyB0byBiZSBwYXJzZWRcbiAqIEByZXR1cm5zIHtPYmplY3R9IEhlYWRlcnMgcGFyc2VkIGludG8gYW4gb2JqZWN0XG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gcGFyc2VIZWFkZXJzKGhlYWRlcnMpIHtcbiAgdmFyIHBhcnNlZCA9IHt9O1xuICB2YXIga2V5O1xuICB2YXIgdmFsO1xuICB2YXIgaTtcblxuICBpZiAoIWhlYWRlcnMpIHsgcmV0dXJuIHBhcnNlZDsgfVxuXG4gIHV0aWxzLmZvckVhY2goaGVhZGVycy5zcGxpdCgnXFxuJyksIGZ1bmN0aW9uIHBhcnNlcihsaW5lKSB7XG4gICAgaSA9IGxpbmUuaW5kZXhPZignOicpO1xuICAgIGtleSA9IHV0aWxzLnRyaW0obGluZS5zdWJzdHIoMCwgaSkpLnRvTG93ZXJDYXNlKCk7XG4gICAgdmFsID0gdXRpbHMudHJpbShsaW5lLnN1YnN0cihpICsgMSkpO1xuXG4gICAgaWYgKGtleSkge1xuICAgICAgcGFyc2VkW2tleV0gPSBwYXJzZWRba2V5XSA/IHBhcnNlZFtrZXldICsgJywgJyArIHZhbCA6IHZhbDtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBwYXJzZWQ7XG59O1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYXhpb3MvbGliL2hlbHBlcnMvcGFyc2VIZWFkZXJzLmpzXG4gKiogbW9kdWxlIGlkID0gMThcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBSZXNvbHZlIG9yIHJlamVjdCBhIFByb21pc2UgYmFzZWQgb24gcmVzcG9uc2Ugc3RhdHVzLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHJlc29sdmUgQSBmdW5jdGlvbiB0aGF0IHJlc29sdmVzIHRoZSBwcm9taXNlLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcmVqZWN0IEEgZnVuY3Rpb24gdGhhdCByZWplY3RzIHRoZSBwcm9taXNlLlxuICogQHBhcmFtIHtvYmplY3R9IHJlc3BvbnNlIFRoZSByZXNwb25zZS5cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCByZXNwb25zZSkge1xuICB2YXIgdmFsaWRhdGVTdGF0dXMgPSByZXNwb25zZS5jb25maWcudmFsaWRhdGVTdGF0dXM7XG4gIC8vIE5vdGU6IHN0YXR1cyBpcyBub3QgZXhwb3NlZCBieSBYRG9tYWluUmVxdWVzdFxuICBpZiAoIXJlc3BvbnNlLnN0YXR1cyB8fCAhdmFsaWRhdGVTdGF0dXMgfHwgdmFsaWRhdGVTdGF0dXMocmVzcG9uc2Uuc3RhdHVzKSkge1xuICAgIHJlc29sdmUocmVzcG9uc2UpO1xuICB9IGVsc2Uge1xuICAgIHJlamVjdChyZXNwb25zZSk7XG4gIH1cbn07XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9heGlvcy9saWIvaGVscGVycy9zZXR0bGUuanNcbiAqKiBtb2R1bGUgaWQgPSAxOVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIFN5bnRhY3RpYyBzdWdhciBmb3IgaW52b2tpbmcgYSBmdW5jdGlvbiBhbmQgZXhwYW5kaW5nIGFuIGFycmF5IGZvciBhcmd1bWVudHMuXG4gKlxuICogQ29tbW9uIHVzZSBjYXNlIHdvdWxkIGJlIHRvIHVzZSBgRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5YC5cbiAqXG4gKiAgYGBganNcbiAqICBmdW5jdGlvbiBmKHgsIHksIHopIHt9XG4gKiAgdmFyIGFyZ3MgPSBbMSwgMiwgM107XG4gKiAgZi5hcHBseShudWxsLCBhcmdzKTtcbiAqICBgYGBcbiAqXG4gKiBXaXRoIGBzcHJlYWRgIHRoaXMgZXhhbXBsZSBjYW4gYmUgcmUtd3JpdHRlbi5cbiAqXG4gKiAgYGBganNcbiAqICBzcHJlYWQoZnVuY3Rpb24oeCwgeSwgeikge30pKFsxLCAyLCAzXSk7XG4gKiAgYGBgXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqIEByZXR1cm5zIHtGdW5jdGlvbn1cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBzcHJlYWQoY2FsbGJhY2spIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIHdyYXAoYXJyKSB7XG4gICAgcmV0dXJuIGNhbGxiYWNrLmFwcGx5KG51bGwsIGFycik7XG4gIH07XG59O1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYXhpb3MvbGliL2hlbHBlcnMvc3ByZWFkLmpzXG4gKiogbW9kdWxlIGlkID0gMjBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8qIVxuICogQG92ZXJ2aWV3IGVzNi1wcm9taXNlIC0gYSB0aW55IGltcGxlbWVudGF0aW9uIG9mIFByb21pc2VzL0ErLlxuICogQGNvcHlyaWdodCBDb3B5cmlnaHQgKGMpIDIwMTQgWWVodWRhIEthdHosIFRvbSBEYWxlLCBTdGVmYW4gUGVubmVyIGFuZCBjb250cmlidXRvcnMgKENvbnZlcnNpb24gdG8gRVM2IEFQSSBieSBKYWtlIEFyY2hpYmFsZClcbiAqIEBsaWNlbnNlICAgTGljZW5zZWQgdW5kZXIgTUlUIGxpY2Vuc2VcbiAqICAgICAgICAgICAgU2VlIGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9qYWtlYXJjaGliYWxkL2VzNi1wcm9taXNlL21hc3Rlci9MSUNFTlNFXG4gKiBAdmVyc2lvbiAgIDMuMi4xXG4gKi9cblxuKGZ1bmN0aW9uKCkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSR1dGlscyQkb2JqZWN0T3JGdW5jdGlvbih4KSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHggPT09ICdmdW5jdGlvbicgfHwgKHR5cGVvZiB4ID09PSAnb2JqZWN0JyAmJiB4ICE9PSBudWxsKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkdXRpbHMkJGlzRnVuY3Rpb24oeCkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB4ID09PSAnZnVuY3Rpb24nO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSR1dGlscyQkaXNNYXliZVRoZW5hYmxlKHgpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgeCA9PT0gJ29iamVjdCcgJiYgeCAhPT0gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJHV0aWxzJCRfaXNBcnJheTtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkpIHtcbiAgICAgIGxpYiRlczYkcHJvbWlzZSR1dGlscyQkX2lzQXJyYXkgPSBmdW5jdGlvbiAoeCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHgpID09PSAnW29iamVjdCBBcnJheV0nO1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGliJGVzNiRwcm9taXNlJHV0aWxzJCRfaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG4gICAgfVxuXG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSR1dGlscyQkaXNBcnJheSA9IGxpYiRlczYkcHJvbWlzZSR1dGlscyQkX2lzQXJyYXk7XG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRsZW4gPSAwO1xuICAgIHZhciBsaWIkZXM2JHByb21pc2UkYXNhcCQkdmVydHhOZXh0O1xuICAgIHZhciBsaWIkZXM2JHByb21pc2UkYXNhcCQkY3VzdG9tU2NoZWR1bGVyRm47XG5cbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJGFzYXAkJGFzYXAgPSBmdW5jdGlvbiBhc2FwKGNhbGxiYWNrLCBhcmcpIHtcbiAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRxdWV1ZVtsaWIkZXM2JHByb21pc2UkYXNhcCQkbGVuXSA9IGNhbGxiYWNrO1xuICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJHF1ZXVlW2xpYiRlczYkcHJvbWlzZSRhc2FwJCRsZW4gKyAxXSA9IGFyZztcbiAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRsZW4gKz0gMjtcbiAgICAgIGlmIChsaWIkZXM2JHByb21pc2UkYXNhcCQkbGVuID09PSAyKSB7XG4gICAgICAgIC8vIElmIGxlbiBpcyAyLCB0aGF0IG1lYW5zIHRoYXQgd2UgbmVlZCB0byBzY2hlZHVsZSBhbiBhc3luYyBmbHVzaC5cbiAgICAgICAgLy8gSWYgYWRkaXRpb25hbCBjYWxsYmFja3MgYXJlIHF1ZXVlZCBiZWZvcmUgdGhlIHF1ZXVlIGlzIGZsdXNoZWQsIHRoZXlcbiAgICAgICAgLy8gd2lsbCBiZSBwcm9jZXNzZWQgYnkgdGhpcyBmbHVzaCB0aGF0IHdlIGFyZSBzY2hlZHVsaW5nLlxuICAgICAgICBpZiAobGliJGVzNiRwcm9taXNlJGFzYXAkJGN1c3RvbVNjaGVkdWxlckZuKSB7XG4gICAgICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJGN1c3RvbVNjaGVkdWxlckZuKGxpYiRlczYkcHJvbWlzZSRhc2FwJCRmbHVzaCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJHNjaGVkdWxlRmx1c2goKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRzZXRTY2hlZHVsZXIoc2NoZWR1bGVGbikge1xuICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJGN1c3RvbVNjaGVkdWxlckZuID0gc2NoZWR1bGVGbjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkYXNhcCQkc2V0QXNhcChhc2FwRm4pIHtcbiAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRhc2FwID0gYXNhcEZuO1xuICAgIH1cblxuICAgIHZhciBsaWIkZXM2JHByb21pc2UkYXNhcCQkYnJvd3NlcldpbmRvdyA9ICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykgPyB3aW5kb3cgOiB1bmRlZmluZWQ7XG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRicm93c2VyR2xvYmFsID0gbGliJGVzNiRwcm9taXNlJGFzYXAkJGJyb3dzZXJXaW5kb3cgfHwge307XG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRCcm93c2VyTXV0YXRpb25PYnNlcnZlciA9IGxpYiRlczYkcHJvbWlzZSRhc2FwJCRicm93c2VyR2xvYmFsLk11dGF0aW9uT2JzZXJ2ZXIgfHwgbGliJGVzNiRwcm9taXNlJGFzYXAkJGJyb3dzZXJHbG9iYWwuV2ViS2l0TXV0YXRpb25PYnNlcnZlcjtcbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJGFzYXAkJGlzTm9kZSA9IHR5cGVvZiBzZWxmID09PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYge30udG9TdHJpbmcuY2FsbChwcm9jZXNzKSA9PT0gJ1tvYmplY3QgcHJvY2Vzc10nO1xuXG4gICAgLy8gdGVzdCBmb3Igd2ViIHdvcmtlciBidXQgbm90IGluIElFMTBcbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJGFzYXAkJGlzV29ya2VyID0gdHlwZW9mIFVpbnQ4Q2xhbXBlZEFycmF5ICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgdHlwZW9mIGltcG9ydFNjcmlwdHMgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICB0eXBlb2YgTWVzc2FnZUNoYW5uZWwgIT09ICd1bmRlZmluZWQnO1xuXG4gICAgLy8gbm9kZVxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSRhc2FwJCR1c2VOZXh0VGljaygpIHtcbiAgICAgIC8vIG5vZGUgdmVyc2lvbiAwLjEwLnggZGlzcGxheXMgYSBkZXByZWNhdGlvbiB3YXJuaW5nIHdoZW4gbmV4dFRpY2sgaXMgdXNlZCByZWN1cnNpdmVseVxuICAgICAgLy8gc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9jdWpvanMvd2hlbi9pc3N1ZXMvNDEwIGZvciBkZXRhaWxzXG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIHByb2Nlc3MubmV4dFRpY2sobGliJGVzNiRwcm9taXNlJGFzYXAkJGZsdXNoKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gdmVydHhcbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkYXNhcCQkdXNlVmVydHhUaW1lcigpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJHZlcnR4TmV4dChsaWIkZXM2JHByb21pc2UkYXNhcCQkZmx1c2gpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkYXNhcCQkdXNlTXV0YXRpb25PYnNlcnZlcigpIHtcbiAgICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICAgIHZhciBvYnNlcnZlciA9IG5ldyBsaWIkZXM2JHByb21pc2UkYXNhcCQkQnJvd3Nlck11dGF0aW9uT2JzZXJ2ZXIobGliJGVzNiRwcm9taXNlJGFzYXAkJGZsdXNoKTtcbiAgICAgIHZhciBub2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpO1xuICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShub2RlLCB7IGNoYXJhY3RlckRhdGE6IHRydWUgfSk7XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgbm9kZS5kYXRhID0gKGl0ZXJhdGlvbnMgPSArK2l0ZXJhdGlvbnMgJSAyKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gd2ViIHdvcmtlclxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSRhc2FwJCR1c2VNZXNzYWdlQ2hhbm5lbCgpIHtcbiAgICAgIHZhciBjaGFubmVsID0gbmV3IE1lc3NhZ2VDaGFubmVsKCk7XG4gICAgICBjaGFubmVsLnBvcnQxLm9ubWVzc2FnZSA9IGxpYiRlczYkcHJvbWlzZSRhc2FwJCRmbHVzaDtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNoYW5uZWwucG9ydDIucG9zdE1lc3NhZ2UoMCk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSRhc2FwJCR1c2VTZXRUaW1lb3V0KCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICBzZXRUaW1lb3V0KGxpYiRlczYkcHJvbWlzZSRhc2FwJCRmbHVzaCwgMSk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIHZhciBsaWIkZXM2JHByb21pc2UkYXNhcCQkcXVldWUgPSBuZXcgQXJyYXkoMTAwMCk7XG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJGFzYXAkJGZsdXNoKCkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaWIkZXM2JHByb21pc2UkYXNhcCQkbGVuOyBpKz0yKSB7XG4gICAgICAgIHZhciBjYWxsYmFjayA9IGxpYiRlczYkcHJvbWlzZSRhc2FwJCRxdWV1ZVtpXTtcbiAgICAgICAgdmFyIGFyZyA9IGxpYiRlczYkcHJvbWlzZSRhc2FwJCRxdWV1ZVtpKzFdO1xuXG4gICAgICAgIGNhbGxiYWNrKGFyZyk7XG5cbiAgICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJHF1ZXVlW2ldID0gdW5kZWZpbmVkO1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkYXNhcCQkcXVldWVbaSsxXSA9IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJGxlbiA9IDA7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJGFzYXAkJGF0dGVtcHRWZXJ0eCgpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciByID0gcmVxdWlyZTtcbiAgICAgICAgdmFyIHZlcnR4ID0gcigndmVydHgnKTtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJHZlcnR4TmV4dCA9IHZlcnR4LnJ1bk9uTG9vcCB8fCB2ZXJ0eC5ydW5PbkNvbnRleHQ7XG4gICAgICAgIHJldHVybiBsaWIkZXM2JHByb21pc2UkYXNhcCQkdXNlVmVydHhUaW1lcigpO1xuICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgIHJldHVybiBsaWIkZXM2JHByb21pc2UkYXNhcCQkdXNlU2V0VGltZW91dCgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBsaWIkZXM2JHByb21pc2UkYXNhcCQkc2NoZWR1bGVGbHVzaDtcbiAgICAvLyBEZWNpZGUgd2hhdCBhc3luYyBtZXRob2QgdG8gdXNlIHRvIHRyaWdnZXJpbmcgcHJvY2Vzc2luZyBvZiBxdWV1ZWQgY2FsbGJhY2tzOlxuICAgIGlmIChsaWIkZXM2JHByb21pc2UkYXNhcCQkaXNOb2RlKSB7XG4gICAgICBsaWIkZXM2JHByb21pc2UkYXNhcCQkc2NoZWR1bGVGbHVzaCA9IGxpYiRlczYkcHJvbWlzZSRhc2FwJCR1c2VOZXh0VGljaygpO1xuICAgIH0gZWxzZSBpZiAobGliJGVzNiRwcm9taXNlJGFzYXAkJEJyb3dzZXJNdXRhdGlvbk9ic2VydmVyKSB7XG4gICAgICBsaWIkZXM2JHByb21pc2UkYXNhcCQkc2NoZWR1bGVGbHVzaCA9IGxpYiRlczYkcHJvbWlzZSRhc2FwJCR1c2VNdXRhdGlvbk9ic2VydmVyKCk7XG4gICAgfSBlbHNlIGlmIChsaWIkZXM2JHByb21pc2UkYXNhcCQkaXNXb3JrZXIpIHtcbiAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRzY2hlZHVsZUZsdXNoID0gbGliJGVzNiRwcm9taXNlJGFzYXAkJHVzZU1lc3NhZ2VDaGFubmVsKCk7XG4gICAgfSBlbHNlIGlmIChsaWIkZXM2JHByb21pc2UkYXNhcCQkYnJvd3NlcldpbmRvdyA9PT0gdW5kZWZpbmVkICYmIHR5cGVvZiByZXF1aXJlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBsaWIkZXM2JHByb21pc2UkYXNhcCQkc2NoZWR1bGVGbHVzaCA9IGxpYiRlczYkcHJvbWlzZSRhc2FwJCRhdHRlbXB0VmVydHgoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJHNjaGVkdWxlRmx1c2ggPSBsaWIkZXM2JHByb21pc2UkYXNhcCQkdXNlU2V0VGltZW91dCgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkdGhlbiQkdGhlbihvbkZ1bGZpbGxtZW50LCBvblJlamVjdGlvbikge1xuICAgICAgdmFyIHBhcmVudCA9IHRoaXM7XG5cbiAgICAgIHZhciBjaGlsZCA9IG5ldyB0aGlzLmNvbnN0cnVjdG9yKGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJG5vb3ApO1xuXG4gICAgICBpZiAoY2hpbGRbbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkUFJPTUlTRV9JRF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRtYWtlUHJvbWlzZShjaGlsZCk7XG4gICAgICB9XG5cbiAgICAgIHZhciBzdGF0ZSA9IHBhcmVudC5fc3RhdGU7XG5cbiAgICAgIGlmIChzdGF0ZSkge1xuICAgICAgICB2YXIgY2FsbGJhY2sgPSBhcmd1bWVudHNbc3RhdGUgLSAxXTtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJGFzYXAoZnVuY3Rpb24oKXtcbiAgICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRpbnZva2VDYWxsYmFjayhzdGF0ZSwgY2hpbGQsIGNhbGxiYWNrLCBwYXJlbnQuX3Jlc3VsdCk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkc3Vic2NyaWJlKHBhcmVudCwgY2hpbGQsIG9uRnVsZmlsbG1lbnQsIG9uUmVqZWN0aW9uKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNoaWxkO1xuICAgIH1cbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJHRoZW4kJGRlZmF1bHQgPSBsaWIkZXM2JHByb21pc2UkdGhlbiQkdGhlbjtcbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSRyZXNvbHZlJCRyZXNvbHZlKG9iamVjdCkge1xuICAgICAgLypqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi9cbiAgICAgIHZhciBDb25zdHJ1Y3RvciA9IHRoaXM7XG5cbiAgICAgIGlmIChvYmplY3QgJiYgdHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCcgJiYgb2JqZWN0LmNvbnN0cnVjdG9yID09PSBDb25zdHJ1Y3Rvcikge1xuICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgfVxuXG4gICAgICB2YXIgcHJvbWlzZSA9IG5ldyBDb25zdHJ1Y3RvcihsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRub29wKTtcbiAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlc29sdmUocHJvbWlzZSwgb2JqZWN0KTtcbiAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH1cbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJHByb21pc2UkcmVzb2x2ZSQkZGVmYXVsdCA9IGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJHJlc29sdmUkJHJlc29sdmU7XG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFBST01JU0VfSUQgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMTYpO1xuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkbm9vcCgpIHt9XG5cbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkUEVORElORyAgID0gdm9pZCAwO1xuICAgIHZhciBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRGVUxGSUxMRUQgPSAxO1xuICAgIHZhciBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRSRUpFQ1RFRCAgPSAyO1xuXG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJEdFVF9USEVOX0VSUk9SID0gbmV3IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJEVycm9yT2JqZWN0KCk7XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRzZWxmRnVsZmlsbG1lbnQoKSB7XG4gICAgICByZXR1cm4gbmV3IFR5cGVFcnJvcihcIllvdSBjYW5ub3QgcmVzb2x2ZSBhIHByb21pc2Ugd2l0aCBpdHNlbGZcIik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkY2Fubm90UmV0dXJuT3duKCkge1xuICAgICAgcmV0dXJuIG5ldyBUeXBlRXJyb3IoJ0EgcHJvbWlzZXMgY2FsbGJhY2sgY2Fubm90IHJldHVybiB0aGF0IHNhbWUgcHJvbWlzZS4nKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRnZXRUaGVuKHByb21pc2UpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBwcm9taXNlLnRoZW47XG4gICAgICB9IGNhdGNoKGVycm9yKSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJEdFVF9USEVOX0VSUk9SLmVycm9yID0gZXJyb3I7XG4gICAgICAgIHJldHVybiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRHRVRfVEhFTl9FUlJPUjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCR0cnlUaGVuKHRoZW4sIHZhbHVlLCBmdWxmaWxsbWVudEhhbmRsZXIsIHJlamVjdGlvbkhhbmRsZXIpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRoZW4uY2FsbCh2YWx1ZSwgZnVsZmlsbG1lbnRIYW5kbGVyLCByZWplY3Rpb25IYW5kbGVyKTtcbiAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICByZXR1cm4gZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRoYW5kbGVGb3JlaWduVGhlbmFibGUocHJvbWlzZSwgdGhlbmFibGUsIHRoZW4pIHtcbiAgICAgICBsaWIkZXM2JHByb21pc2UkYXNhcCQkYXNhcChmdW5jdGlvbihwcm9taXNlKSB7XG4gICAgICAgIHZhciBzZWFsZWQgPSBmYWxzZTtcbiAgICAgICAgdmFyIGVycm9yID0gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkdHJ5VGhlbih0aGVuLCB0aGVuYWJsZSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICBpZiAoc2VhbGVkKSB7IHJldHVybjsgfVxuICAgICAgICAgIHNlYWxlZCA9IHRydWU7XG4gICAgICAgICAgaWYgKHRoZW5hYmxlICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGZ1bGZpbGwocHJvbWlzZSwgdmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgZnVuY3Rpb24ocmVhc29uKSB7XG4gICAgICAgICAgaWYgKHNlYWxlZCkgeyByZXR1cm47IH1cbiAgICAgICAgICBzZWFsZWQgPSB0cnVlO1xuXG4gICAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVqZWN0KHByb21pc2UsIHJlYXNvbik7XG4gICAgICAgIH0sICdTZXR0bGU6ICcgKyAocHJvbWlzZS5fbGFiZWwgfHwgJyB1bmtub3duIHByb21pc2UnKSk7XG5cbiAgICAgICAgaWYgKCFzZWFsZWQgJiYgZXJyb3IpIHtcbiAgICAgICAgICBzZWFsZWQgPSB0cnVlO1xuICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlamVjdChwcm9taXNlLCBlcnJvcik7XG4gICAgICAgIH1cbiAgICAgIH0sIHByb21pc2UpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGhhbmRsZU93blRoZW5hYmxlKHByb21pc2UsIHRoZW5hYmxlKSB7XG4gICAgICBpZiAodGhlbmFibGUuX3N0YXRlID09PSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRGVUxGSUxMRUQpIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkZnVsZmlsbChwcm9taXNlLCB0aGVuYWJsZS5fcmVzdWx0KTtcbiAgICAgIH0gZWxzZSBpZiAodGhlbmFibGUuX3N0YXRlID09PSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRSRUpFQ1RFRCkge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZWplY3QocHJvbWlzZSwgdGhlbmFibGUuX3Jlc3VsdCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRzdWJzY3JpYmUodGhlbmFibGUsIHVuZGVmaW5lZCwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZXNvbHZlKHByb21pc2UsIHZhbHVlKTtcbiAgICAgICAgfSwgZnVuY3Rpb24ocmVhc29uKSB7XG4gICAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVqZWN0KHByb21pc2UsIHJlYXNvbik7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGhhbmRsZU1heWJlVGhlbmFibGUocHJvbWlzZSwgbWF5YmVUaGVuYWJsZSwgdGhlbikge1xuICAgICAgaWYgKG1heWJlVGhlbmFibGUuY29uc3RydWN0b3IgPT09IHByb21pc2UuY29uc3RydWN0b3IgJiZcbiAgICAgICAgICB0aGVuID09PSBsaWIkZXM2JHByb21pc2UkdGhlbiQkZGVmYXVsdCAmJlxuICAgICAgICAgIGNvbnN0cnVjdG9yLnJlc29sdmUgPT09IGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJHJlc29sdmUkJGRlZmF1bHQpIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkaGFuZGxlT3duVGhlbmFibGUocHJvbWlzZSwgbWF5YmVUaGVuYWJsZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAodGhlbiA9PT0gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkR0VUX1RIRU5fRVJST1IpIHtcbiAgICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZWplY3QocHJvbWlzZSwgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkR0VUX1RIRU5fRVJST1IuZXJyb3IpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoZW4gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGZ1bGZpbGwocHJvbWlzZSwgbWF5YmVUaGVuYWJsZSk7XG4gICAgICAgIH0gZWxzZSBpZiAobGliJGVzNiRwcm9taXNlJHV0aWxzJCRpc0Z1bmN0aW9uKHRoZW4pKSB7XG4gICAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkaGFuZGxlRm9yZWlnblRoZW5hYmxlKHByb21pc2UsIG1heWJlVGhlbmFibGUsIHRoZW4pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGZ1bGZpbGwocHJvbWlzZSwgbWF5YmVUaGVuYWJsZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZXNvbHZlKHByb21pc2UsIHZhbHVlKSB7XG4gICAgICBpZiAocHJvbWlzZSA9PT0gdmFsdWUpIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVqZWN0KHByb21pc2UsIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHNlbGZGdWxmaWxsbWVudCgpKTtcbiAgICAgIH0gZWxzZSBpZiAobGliJGVzNiRwcm9taXNlJHV0aWxzJCRvYmplY3RPckZ1bmN0aW9uKHZhbHVlKSkge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRoYW5kbGVNYXliZVRoZW5hYmxlKHByb21pc2UsIHZhbHVlLCBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRnZXRUaGVuKHZhbHVlKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRmdWxmaWxsKHByb21pc2UsIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRwdWJsaXNoUmVqZWN0aW9uKHByb21pc2UpIHtcbiAgICAgIGlmIChwcm9taXNlLl9vbmVycm9yKSB7XG4gICAgICAgIHByb21pc2UuX29uZXJyb3IocHJvbWlzZS5fcmVzdWx0KTtcbiAgICAgIH1cblxuICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcHVibGlzaChwcm9taXNlKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRmdWxmaWxsKHByb21pc2UsIHZhbHVlKSB7XG4gICAgICBpZiAocHJvbWlzZS5fc3RhdGUgIT09IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFBFTkRJTkcpIHsgcmV0dXJuOyB9XG5cbiAgICAgIHByb21pc2UuX3Jlc3VsdCA9IHZhbHVlO1xuICAgICAgcHJvbWlzZS5fc3RhdGUgPSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRGVUxGSUxMRUQ7XG5cbiAgICAgIGlmIChwcm9taXNlLl9zdWJzY3JpYmVycy5sZW5ndGggIT09IDApIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJGFzYXAobGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcHVibGlzaCwgcHJvbWlzZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVqZWN0KHByb21pc2UsIHJlYXNvbikge1xuICAgICAgaWYgKHByb21pc2UuX3N0YXRlICE9PSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRQRU5ESU5HKSB7IHJldHVybjsgfVxuICAgICAgcHJvbWlzZS5fc3RhdGUgPSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRSRUpFQ1RFRDtcbiAgICAgIHByb21pc2UuX3Jlc3VsdCA9IHJlYXNvbjtcblxuICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJGFzYXAobGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcHVibGlzaFJlamVjdGlvbiwgcHJvbWlzZSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkc3Vic2NyaWJlKHBhcmVudCwgY2hpbGQsIG9uRnVsZmlsbG1lbnQsIG9uUmVqZWN0aW9uKSB7XG4gICAgICB2YXIgc3Vic2NyaWJlcnMgPSBwYXJlbnQuX3N1YnNjcmliZXJzO1xuICAgICAgdmFyIGxlbmd0aCA9IHN1YnNjcmliZXJzLmxlbmd0aDtcblxuICAgICAgcGFyZW50Ll9vbmVycm9yID0gbnVsbDtcblxuICAgICAgc3Vic2NyaWJlcnNbbGVuZ3RoXSA9IGNoaWxkO1xuICAgICAgc3Vic2NyaWJlcnNbbGVuZ3RoICsgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkRlVMRklMTEVEXSA9IG9uRnVsZmlsbG1lbnQ7XG4gICAgICBzdWJzY3JpYmVyc1tsZW5ndGggKyBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRSRUpFQ1RFRF0gID0gb25SZWplY3Rpb247XG5cbiAgICAgIGlmIChsZW5ndGggPT09IDAgJiYgcGFyZW50Ll9zdGF0ZSkge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkYXNhcCQkYXNhcChsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRwdWJsaXNoLCBwYXJlbnQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHB1Ymxpc2gocHJvbWlzZSkge1xuICAgICAgdmFyIHN1YnNjcmliZXJzID0gcHJvbWlzZS5fc3Vic2NyaWJlcnM7XG4gICAgICB2YXIgc2V0dGxlZCA9IHByb21pc2UuX3N0YXRlO1xuXG4gICAgICBpZiAoc3Vic2NyaWJlcnMubGVuZ3RoID09PSAwKSB7IHJldHVybjsgfVxuXG4gICAgICB2YXIgY2hpbGQsIGNhbGxiYWNrLCBkZXRhaWwgPSBwcm9taXNlLl9yZXN1bHQ7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3Vic2NyaWJlcnMubGVuZ3RoOyBpICs9IDMpIHtcbiAgICAgICAgY2hpbGQgPSBzdWJzY3JpYmVyc1tpXTtcbiAgICAgICAgY2FsbGJhY2sgPSBzdWJzY3JpYmVyc1tpICsgc2V0dGxlZF07XG5cbiAgICAgICAgaWYgKGNoaWxkKSB7XG4gICAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkaW52b2tlQ2FsbGJhY2soc2V0dGxlZCwgY2hpbGQsIGNhbGxiYWNrLCBkZXRhaWwpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNhbGxiYWNrKGRldGFpbCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcHJvbWlzZS5fc3Vic2NyaWJlcnMubGVuZ3RoID0gMDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRFcnJvck9iamVjdCgpIHtcbiAgICAgIHRoaXMuZXJyb3IgPSBudWxsO1xuICAgIH1cblxuICAgIHZhciBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRUUllfQ0FUQ0hfRVJST1IgPSBuZXcgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkRXJyb3JPYmplY3QoKTtcblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHRyeUNhdGNoKGNhbGxiYWNrLCBkZXRhaWwpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayhkZXRhaWwpO1xuICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFRSWV9DQVRDSF9FUlJPUi5lcnJvciA9IGU7XG4gICAgICAgIHJldHVybiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRUUllfQ0FUQ0hfRVJST1I7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkaW52b2tlQ2FsbGJhY2soc2V0dGxlZCwgcHJvbWlzZSwgY2FsbGJhY2ssIGRldGFpbCkge1xuICAgICAgdmFyIGhhc0NhbGxiYWNrID0gbGliJGVzNiRwcm9taXNlJHV0aWxzJCRpc0Z1bmN0aW9uKGNhbGxiYWNrKSxcbiAgICAgICAgICB2YWx1ZSwgZXJyb3IsIHN1Y2NlZWRlZCwgZmFpbGVkO1xuXG4gICAgICBpZiAoaGFzQ2FsbGJhY2spIHtcbiAgICAgICAgdmFsdWUgPSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCR0cnlDYXRjaChjYWxsYmFjaywgZGV0YWlsKTtcblxuICAgICAgICBpZiAodmFsdWUgPT09IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFRSWV9DQVRDSF9FUlJPUikge1xuICAgICAgICAgIGZhaWxlZCA9IHRydWU7XG4gICAgICAgICAgZXJyb3IgPSB2YWx1ZS5lcnJvcjtcbiAgICAgICAgICB2YWx1ZSA9IG51bGw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3VjY2VlZGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwcm9taXNlID09PSB2YWx1ZSkge1xuICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlamVjdChwcm9taXNlLCBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRjYW5ub3RSZXR1cm5Pd24oKSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbHVlID0gZGV0YWlsO1xuICAgICAgICBzdWNjZWVkZWQgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAocHJvbWlzZS5fc3RhdGUgIT09IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFBFTkRJTkcpIHtcbiAgICAgICAgLy8gbm9vcFxuICAgICAgfSBlbHNlIGlmIChoYXNDYWxsYmFjayAmJiBzdWNjZWVkZWQpIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSk7XG4gICAgICB9IGVsc2UgaWYgKGZhaWxlZCkge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZWplY3QocHJvbWlzZSwgZXJyb3IpO1xuICAgICAgfSBlbHNlIGlmIChzZXR0bGVkID09PSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRGVUxGSUxMRUQpIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkZnVsZmlsbChwcm9taXNlLCB2YWx1ZSk7XG4gICAgICB9IGVsc2UgaWYgKHNldHRsZWQgPT09IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFJFSkVDVEVEKSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlamVjdChwcm9taXNlLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkaW5pdGlhbGl6ZVByb21pc2UocHJvbWlzZSwgcmVzb2x2ZXIpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJlc29sdmVyKGZ1bmN0aW9uIHJlc29sdmVQcm9taXNlKHZhbHVlKXtcbiAgICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZXNvbHZlKHByb21pc2UsIHZhbHVlKTtcbiAgICAgICAgfSwgZnVuY3Rpb24gcmVqZWN0UHJvbWlzZShyZWFzb24pIHtcbiAgICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZWplY3QocHJvbWlzZSwgcmVhc29uKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVqZWN0KHByb21pc2UsIGUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRpZCA9IDA7XG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkbmV4dElkKCkge1xuICAgICAgcmV0dXJuIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGlkKys7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkbWFrZVByb21pc2UocHJvbWlzZSkge1xuICAgICAgcHJvbWlzZVtsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRQUk9NSVNFX0lEXSA9IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGlkKys7XG4gICAgICBwcm9taXNlLl9zdGF0ZSA9IHVuZGVmaW5lZDtcbiAgICAgIHByb21pc2UuX3Jlc3VsdCA9IHVuZGVmaW5lZDtcbiAgICAgIHByb21pc2UuX3N1YnNjcmliZXJzID0gW107XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJHByb21pc2UkYWxsJCRhbGwoZW50cmllcykge1xuICAgICAgcmV0dXJuIG5ldyBsaWIkZXM2JHByb21pc2UkZW51bWVyYXRvciQkZGVmYXVsdCh0aGlzLCBlbnRyaWVzKS5wcm9taXNlO1xuICAgIH1cbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJHByb21pc2UkYWxsJCRkZWZhdWx0ID0gbGliJGVzNiRwcm9taXNlJHByb21pc2UkYWxsJCRhbGw7XG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJHByb21pc2UkcmFjZSQkcmFjZShlbnRyaWVzKSB7XG4gICAgICAvKmpzaGludCB2YWxpZHRoaXM6dHJ1ZSAqL1xuICAgICAgdmFyIENvbnN0cnVjdG9yID0gdGhpcztcblxuICAgICAgaWYgKCFsaWIkZXM2JHByb21pc2UkdXRpbHMkJGlzQXJyYXkoZW50cmllcykpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDb25zdHJ1Y3RvcihmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICByZWplY3QobmV3IFR5cGVFcnJvcignWW91IG11c3QgcGFzcyBhbiBhcnJheSB0byByYWNlLicpKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbmV3IENvbnN0cnVjdG9yKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgIHZhciBsZW5ndGggPSBlbnRyaWVzLmxlbmd0aDtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBDb25zdHJ1Y3Rvci5yZXNvbHZlKGVudHJpZXNbaV0pLnRoZW4ocmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJHByb21pc2UkcmFjZSQkZGVmYXVsdCA9IGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJHJhY2UkJHJhY2U7XG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJHByb21pc2UkcmVqZWN0JCRyZWplY3QocmVhc29uKSB7XG4gICAgICAvKmpzaGludCB2YWxpZHRoaXM6dHJ1ZSAqL1xuICAgICAgdmFyIENvbnN0cnVjdG9yID0gdGhpcztcbiAgICAgIHZhciBwcm9taXNlID0gbmV3IENvbnN0cnVjdG9yKGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJG5vb3ApO1xuICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVqZWN0KHByb21pc2UsIHJlYXNvbik7XG4gICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9XG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJHJlamVjdCQkZGVmYXVsdCA9IGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJHJlamVjdCQkcmVqZWN0O1xuXG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkbmVlZHNSZXNvbHZlcigpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1lvdSBtdXN0IHBhc3MgYSByZXNvbHZlciBmdW5jdGlvbiBhcyB0aGUgZmlyc3QgYXJndW1lbnQgdG8gdGhlIHByb21pc2UgY29uc3RydWN0b3InKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkbmVlZHNOZXcoKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRmFpbGVkIHRvIGNvbnN0cnVjdCAnUHJvbWlzZSc6IFBsZWFzZSB1c2UgdGhlICduZXcnIG9wZXJhdG9yLCB0aGlzIG9iamVjdCBjb25zdHJ1Y3RvciBjYW5ub3QgYmUgY2FsbGVkIGFzIGEgZnVuY3Rpb24uXCIpO1xuICAgIH1cblxuICAgIHZhciBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkZGVmYXVsdCA9IGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRQcm9taXNlO1xuICAgIC8qKlxuICAgICAgUHJvbWlzZSBvYmplY3RzIHJlcHJlc2VudCB0aGUgZXZlbnR1YWwgcmVzdWx0IG9mIGFuIGFzeW5jaHJvbm91cyBvcGVyYXRpb24uIFRoZVxuICAgICAgcHJpbWFyeSB3YXkgb2YgaW50ZXJhY3Rpbmcgd2l0aCBhIHByb21pc2UgaXMgdGhyb3VnaCBpdHMgYHRoZW5gIG1ldGhvZCwgd2hpY2hcbiAgICAgIHJlZ2lzdGVycyBjYWxsYmFja3MgdG8gcmVjZWl2ZSBlaXRoZXIgYSBwcm9taXNlJ3MgZXZlbnR1YWwgdmFsdWUgb3IgdGhlIHJlYXNvblxuICAgICAgd2h5IHRoZSBwcm9taXNlIGNhbm5vdCBiZSBmdWxmaWxsZWQuXG5cbiAgICAgIFRlcm1pbm9sb2d5XG4gICAgICAtLS0tLS0tLS0tLVxuXG4gICAgICAtIGBwcm9taXNlYCBpcyBhbiBvYmplY3Qgb3IgZnVuY3Rpb24gd2l0aCBhIGB0aGVuYCBtZXRob2Qgd2hvc2UgYmVoYXZpb3IgY29uZm9ybXMgdG8gdGhpcyBzcGVjaWZpY2F0aW9uLlxuICAgICAgLSBgdGhlbmFibGVgIGlzIGFuIG9iamVjdCBvciBmdW5jdGlvbiB0aGF0IGRlZmluZXMgYSBgdGhlbmAgbWV0aG9kLlxuICAgICAgLSBgdmFsdWVgIGlzIGFueSBsZWdhbCBKYXZhU2NyaXB0IHZhbHVlIChpbmNsdWRpbmcgdW5kZWZpbmVkLCBhIHRoZW5hYmxlLCBvciBhIHByb21pc2UpLlxuICAgICAgLSBgZXhjZXB0aW9uYCBpcyBhIHZhbHVlIHRoYXQgaXMgdGhyb3duIHVzaW5nIHRoZSB0aHJvdyBzdGF0ZW1lbnQuXG4gICAgICAtIGByZWFzb25gIGlzIGEgdmFsdWUgdGhhdCBpbmRpY2F0ZXMgd2h5IGEgcHJvbWlzZSB3YXMgcmVqZWN0ZWQuXG4gICAgICAtIGBzZXR0bGVkYCB0aGUgZmluYWwgcmVzdGluZyBzdGF0ZSBvZiBhIHByb21pc2UsIGZ1bGZpbGxlZCBvciByZWplY3RlZC5cblxuICAgICAgQSBwcm9taXNlIGNhbiBiZSBpbiBvbmUgb2YgdGhyZWUgc3RhdGVzOiBwZW5kaW5nLCBmdWxmaWxsZWQsIG9yIHJlamVjdGVkLlxuXG4gICAgICBQcm9taXNlcyB0aGF0IGFyZSBmdWxmaWxsZWQgaGF2ZSBhIGZ1bGZpbGxtZW50IHZhbHVlIGFuZCBhcmUgaW4gdGhlIGZ1bGZpbGxlZFxuICAgICAgc3RhdGUuICBQcm9taXNlcyB0aGF0IGFyZSByZWplY3RlZCBoYXZlIGEgcmVqZWN0aW9uIHJlYXNvbiBhbmQgYXJlIGluIHRoZVxuICAgICAgcmVqZWN0ZWQgc3RhdGUuICBBIGZ1bGZpbGxtZW50IHZhbHVlIGlzIG5ldmVyIGEgdGhlbmFibGUuXG5cbiAgICAgIFByb21pc2VzIGNhbiBhbHNvIGJlIHNhaWQgdG8gKnJlc29sdmUqIGEgdmFsdWUuICBJZiB0aGlzIHZhbHVlIGlzIGFsc28gYVxuICAgICAgcHJvbWlzZSwgdGhlbiB0aGUgb3JpZ2luYWwgcHJvbWlzZSdzIHNldHRsZWQgc3RhdGUgd2lsbCBtYXRjaCB0aGUgdmFsdWUnc1xuICAgICAgc2V0dGxlZCBzdGF0ZS4gIFNvIGEgcHJvbWlzZSB0aGF0ICpyZXNvbHZlcyogYSBwcm9taXNlIHRoYXQgcmVqZWN0cyB3aWxsXG4gICAgICBpdHNlbGYgcmVqZWN0LCBhbmQgYSBwcm9taXNlIHRoYXQgKnJlc29sdmVzKiBhIHByb21pc2UgdGhhdCBmdWxmaWxscyB3aWxsXG4gICAgICBpdHNlbGYgZnVsZmlsbC5cblxuXG4gICAgICBCYXNpYyBVc2FnZTpcbiAgICAgIC0tLS0tLS0tLS0tLVxuXG4gICAgICBgYGBqc1xuICAgICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgLy8gb24gc3VjY2Vzc1xuICAgICAgICByZXNvbHZlKHZhbHVlKTtcblxuICAgICAgICAvLyBvbiBmYWlsdXJlXG4gICAgICAgIHJlamVjdChyZWFzb24pO1xuICAgICAgfSk7XG5cbiAgICAgIHByb21pc2UudGhlbihmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAvLyBvbiBmdWxmaWxsbWVudFxuICAgICAgfSwgZnVuY3Rpb24ocmVhc29uKSB7XG4gICAgICAgIC8vIG9uIHJlamVjdGlvblxuICAgICAgfSk7XG4gICAgICBgYGBcblxuICAgICAgQWR2YW5jZWQgVXNhZ2U6XG4gICAgICAtLS0tLS0tLS0tLS0tLS1cblxuICAgICAgUHJvbWlzZXMgc2hpbmUgd2hlbiBhYnN0cmFjdGluZyBhd2F5IGFzeW5jaHJvbm91cyBpbnRlcmFjdGlvbnMgc3VjaCBhc1xuICAgICAgYFhNTEh0dHBSZXF1ZXN0YHMuXG5cbiAgICAgIGBgYGpzXG4gICAgICBmdW5jdGlvbiBnZXRKU09OKHVybCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICAgICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cbiAgICAgICAgICB4aHIub3BlbignR0VUJywgdXJsKTtcbiAgICAgICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gaGFuZGxlcjtcbiAgICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gJ2pzb24nO1xuICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKCdBY2NlcHQnLCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgICAgIHhoci5zZW5kKCk7XG5cbiAgICAgICAgICBmdW5jdGlvbiBoYW5kbGVyKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PT0gdGhpcy5ET05FKSB7XG4gICAgICAgICAgICAgIGlmICh0aGlzLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh0aGlzLnJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdnZXRKU09OOiBgJyArIHVybCArICdgIGZhaWxlZCB3aXRoIHN0YXR1czogWycgKyB0aGlzLnN0YXR1cyArICddJykpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGdldEpTT04oJy9wb3N0cy5qc29uJykudGhlbihmdW5jdGlvbihqc29uKSB7XG4gICAgICAgIC8vIG9uIGZ1bGZpbGxtZW50XG4gICAgICB9LCBmdW5jdGlvbihyZWFzb24pIHtcbiAgICAgICAgLy8gb24gcmVqZWN0aW9uXG4gICAgICB9KTtcbiAgICAgIGBgYFxuXG4gICAgICBVbmxpa2UgY2FsbGJhY2tzLCBwcm9taXNlcyBhcmUgZ3JlYXQgY29tcG9zYWJsZSBwcmltaXRpdmVzLlxuXG4gICAgICBgYGBqc1xuICAgICAgUHJvbWlzZS5hbGwoW1xuICAgICAgICBnZXRKU09OKCcvcG9zdHMnKSxcbiAgICAgICAgZ2V0SlNPTignL2NvbW1lbnRzJylcbiAgICAgIF0pLnRoZW4oZnVuY3Rpb24odmFsdWVzKXtcbiAgICAgICAgdmFsdWVzWzBdIC8vID0+IHBvc3RzSlNPTlxuICAgICAgICB2YWx1ZXNbMV0gLy8gPT4gY29tbWVudHNKU09OXG5cbiAgICAgICAgcmV0dXJuIHZhbHVlcztcbiAgICAgIH0pO1xuICAgICAgYGBgXG5cbiAgICAgIEBjbGFzcyBQcm9taXNlXG4gICAgICBAcGFyYW0ge2Z1bmN0aW9ufSByZXNvbHZlclxuICAgICAgVXNlZnVsIGZvciB0b29saW5nLlxuICAgICAgQGNvbnN0cnVjdG9yXG4gICAgKi9cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkUHJvbWlzZShyZXNvbHZlcikge1xuICAgICAgdGhpc1tsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRQUk9NSVNFX0lEXSA9IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJG5leHRJZCgpO1xuICAgICAgdGhpcy5fcmVzdWx0ID0gdGhpcy5fc3RhdGUgPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLl9zdWJzY3JpYmVycyA9IFtdO1xuXG4gICAgICBpZiAobGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkbm9vcCAhPT0gcmVzb2x2ZXIpIHtcbiAgICAgICAgdHlwZW9mIHJlc29sdmVyICE9PSAnZnVuY3Rpb24nICYmIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRuZWVkc1Jlc29sdmVyKCk7XG4gICAgICAgIHRoaXMgaW5zdGFuY2VvZiBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkUHJvbWlzZSA/IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGluaXRpYWxpemVQcm9taXNlKHRoaXMsIHJlc29sdmVyKSA6IGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRuZWVkc05ldygpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRQcm9taXNlLmFsbCA9IGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJGFsbCQkZGVmYXVsdDtcbiAgICBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkUHJvbWlzZS5yYWNlID0gbGliJGVzNiRwcm9taXNlJHByb21pc2UkcmFjZSQkZGVmYXVsdDtcbiAgICBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkUHJvbWlzZS5yZXNvbHZlID0gbGliJGVzNiRwcm9taXNlJHByb21pc2UkcmVzb2x2ZSQkZGVmYXVsdDtcbiAgICBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkUHJvbWlzZS5yZWplY3QgPSBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSRyZWplY3QkJGRlZmF1bHQ7XG4gICAgbGliJGVzNiRwcm9taXNlJHByb21pc2UkJFByb21pc2UuX3NldFNjaGVkdWxlciA9IGxpYiRlczYkcHJvbWlzZSRhc2FwJCRzZXRTY2hlZHVsZXI7XG4gICAgbGliJGVzNiRwcm9taXNlJHByb21pc2UkJFByb21pc2UuX3NldEFzYXAgPSBsaWIkZXM2JHByb21pc2UkYXNhcCQkc2V0QXNhcDtcbiAgICBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkUHJvbWlzZS5fYXNhcCA9IGxpYiRlczYkcHJvbWlzZSRhc2FwJCRhc2FwO1xuXG4gICAgbGliJGVzNiRwcm9taXNlJHByb21pc2UkJFByb21pc2UucHJvdG90eXBlID0ge1xuICAgICAgY29uc3RydWN0b3I6IGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRQcm9taXNlLFxuXG4gICAgLyoqXG4gICAgICBUaGUgcHJpbWFyeSB3YXkgb2YgaW50ZXJhY3Rpbmcgd2l0aCBhIHByb21pc2UgaXMgdGhyb3VnaCBpdHMgYHRoZW5gIG1ldGhvZCxcbiAgICAgIHdoaWNoIHJlZ2lzdGVycyBjYWxsYmFja3MgdG8gcmVjZWl2ZSBlaXRoZXIgYSBwcm9taXNlJ3MgZXZlbnR1YWwgdmFsdWUgb3IgdGhlXG4gICAgICByZWFzb24gd2h5IHRoZSBwcm9taXNlIGNhbm5vdCBiZSBmdWxmaWxsZWQuXG5cbiAgICAgIGBgYGpzXG4gICAgICBmaW5kVXNlcigpLnRoZW4oZnVuY3Rpb24odXNlcil7XG4gICAgICAgIC8vIHVzZXIgaXMgYXZhaWxhYmxlXG4gICAgICB9LCBmdW5jdGlvbihyZWFzb24pe1xuICAgICAgICAvLyB1c2VyIGlzIHVuYXZhaWxhYmxlLCBhbmQgeW91IGFyZSBnaXZlbiB0aGUgcmVhc29uIHdoeVxuICAgICAgfSk7XG4gICAgICBgYGBcblxuICAgICAgQ2hhaW5pbmdcbiAgICAgIC0tLS0tLS0tXG5cbiAgICAgIFRoZSByZXR1cm4gdmFsdWUgb2YgYHRoZW5gIGlzIGl0c2VsZiBhIHByb21pc2UuICBUaGlzIHNlY29uZCwgJ2Rvd25zdHJlYW0nXG4gICAgICBwcm9taXNlIGlzIHJlc29sdmVkIHdpdGggdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgZmlyc3QgcHJvbWlzZSdzIGZ1bGZpbGxtZW50XG4gICAgICBvciByZWplY3Rpb24gaGFuZGxlciwgb3IgcmVqZWN0ZWQgaWYgdGhlIGhhbmRsZXIgdGhyb3dzIGFuIGV4Y2VwdGlvbi5cblxuICAgICAgYGBganNcbiAgICAgIGZpbmRVc2VyKCkudGhlbihmdW5jdGlvbiAodXNlcikge1xuICAgICAgICByZXR1cm4gdXNlci5uYW1lO1xuICAgICAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgICByZXR1cm4gJ2RlZmF1bHQgbmFtZSc7XG4gICAgICB9KS50aGVuKGZ1bmN0aW9uICh1c2VyTmFtZSkge1xuICAgICAgICAvLyBJZiBgZmluZFVzZXJgIGZ1bGZpbGxlZCwgYHVzZXJOYW1lYCB3aWxsIGJlIHRoZSB1c2VyJ3MgbmFtZSwgb3RoZXJ3aXNlIGl0XG4gICAgICAgIC8vIHdpbGwgYmUgYCdkZWZhdWx0IG5hbWUnYFxuICAgICAgfSk7XG5cbiAgICAgIGZpbmRVc2VyKCkudGhlbihmdW5jdGlvbiAodXNlcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZvdW5kIHVzZXIsIGJ1dCBzdGlsbCB1bmhhcHB5Jyk7XG4gICAgICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignYGZpbmRVc2VyYCByZWplY3RlZCBhbmQgd2UncmUgdW5oYXBweScpO1xuICAgICAgfSkudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgLy8gbmV2ZXIgcmVhY2hlZFxuICAgICAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgICAvLyBpZiBgZmluZFVzZXJgIGZ1bGZpbGxlZCwgYHJlYXNvbmAgd2lsbCBiZSAnRm91bmQgdXNlciwgYnV0IHN0aWxsIHVuaGFwcHknLlxuICAgICAgICAvLyBJZiBgZmluZFVzZXJgIHJlamVjdGVkLCBgcmVhc29uYCB3aWxsIGJlICdgZmluZFVzZXJgIHJlamVjdGVkIGFuZCB3ZSdyZSB1bmhhcHB5Jy5cbiAgICAgIH0pO1xuICAgICAgYGBgXG4gICAgICBJZiB0aGUgZG93bnN0cmVhbSBwcm9taXNlIGRvZXMgbm90IHNwZWNpZnkgYSByZWplY3Rpb24gaGFuZGxlciwgcmVqZWN0aW9uIHJlYXNvbnMgd2lsbCBiZSBwcm9wYWdhdGVkIGZ1cnRoZXIgZG93bnN0cmVhbS5cblxuICAgICAgYGBganNcbiAgICAgIGZpbmRVc2VyKCkudGhlbihmdW5jdGlvbiAodXNlcikge1xuICAgICAgICB0aHJvdyBuZXcgUGVkYWdvZ2ljYWxFeGNlcHRpb24oJ1Vwc3RyZWFtIGVycm9yJyk7XG4gICAgICB9KS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAvLyBuZXZlciByZWFjaGVkXG4gICAgICB9KS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAvLyBuZXZlciByZWFjaGVkXG4gICAgICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICAgIC8vIFRoZSBgUGVkZ2Fnb2NpYWxFeGNlcHRpb25gIGlzIHByb3BhZ2F0ZWQgYWxsIHRoZSB3YXkgZG93biB0byBoZXJlXG4gICAgICB9KTtcbiAgICAgIGBgYFxuXG4gICAgICBBc3NpbWlsYXRpb25cbiAgICAgIC0tLS0tLS0tLS0tLVxuXG4gICAgICBTb21ldGltZXMgdGhlIHZhbHVlIHlvdSB3YW50IHRvIHByb3BhZ2F0ZSB0byBhIGRvd25zdHJlYW0gcHJvbWlzZSBjYW4gb25seSBiZVxuICAgICAgcmV0cmlldmVkIGFzeW5jaHJvbm91c2x5LiBUaGlzIGNhbiBiZSBhY2hpZXZlZCBieSByZXR1cm5pbmcgYSBwcm9taXNlIGluIHRoZVxuICAgICAgZnVsZmlsbG1lbnQgb3IgcmVqZWN0aW9uIGhhbmRsZXIuIFRoZSBkb3duc3RyZWFtIHByb21pc2Ugd2lsbCB0aGVuIGJlIHBlbmRpbmdcbiAgICAgIHVudGlsIHRoZSByZXR1cm5lZCBwcm9taXNlIGlzIHNldHRsZWQuIFRoaXMgaXMgY2FsbGVkICphc3NpbWlsYXRpb24qLlxuXG4gICAgICBgYGBqc1xuICAgICAgZmluZFVzZXIoKS50aGVuKGZ1bmN0aW9uICh1c2VyKSB7XG4gICAgICAgIHJldHVybiBmaW5kQ29tbWVudHNCeUF1dGhvcih1c2VyKTtcbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGNvbW1lbnRzKSB7XG4gICAgICAgIC8vIFRoZSB1c2VyJ3MgY29tbWVudHMgYXJlIG5vdyBhdmFpbGFibGVcbiAgICAgIH0pO1xuICAgICAgYGBgXG5cbiAgICAgIElmIHRoZSBhc3NpbWxpYXRlZCBwcm9taXNlIHJlamVjdHMsIHRoZW4gdGhlIGRvd25zdHJlYW0gcHJvbWlzZSB3aWxsIGFsc28gcmVqZWN0LlxuXG4gICAgICBgYGBqc1xuICAgICAgZmluZFVzZXIoKS50aGVuKGZ1bmN0aW9uICh1c2VyKSB7XG4gICAgICAgIHJldHVybiBmaW5kQ29tbWVudHNCeUF1dGhvcih1c2VyKTtcbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGNvbW1lbnRzKSB7XG4gICAgICAgIC8vIElmIGBmaW5kQ29tbWVudHNCeUF1dGhvcmAgZnVsZmlsbHMsIHdlJ2xsIGhhdmUgdGhlIHZhbHVlIGhlcmVcbiAgICAgIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgICAgLy8gSWYgYGZpbmRDb21tZW50c0J5QXV0aG9yYCByZWplY3RzLCB3ZSdsbCBoYXZlIHRoZSByZWFzb24gaGVyZVxuICAgICAgfSk7XG4gICAgICBgYGBcblxuICAgICAgU2ltcGxlIEV4YW1wbGVcbiAgICAgIC0tLS0tLS0tLS0tLS0tXG5cbiAgICAgIFN5bmNocm9ub3VzIEV4YW1wbGVcblxuICAgICAgYGBgamF2YXNjcmlwdFxuICAgICAgdmFyIHJlc3VsdDtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgcmVzdWx0ID0gZmluZFJlc3VsdCgpO1xuICAgICAgICAvLyBzdWNjZXNzXG4gICAgICB9IGNhdGNoKHJlYXNvbikge1xuICAgICAgICAvLyBmYWlsdXJlXG4gICAgICB9XG4gICAgICBgYGBcblxuICAgICAgRXJyYmFjayBFeGFtcGxlXG5cbiAgICAgIGBgYGpzXG4gICAgICBmaW5kUmVzdWx0KGZ1bmN0aW9uKHJlc3VsdCwgZXJyKXtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIC8vIGZhaWx1cmVcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBzdWNjZXNzXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgYGBgXG5cbiAgICAgIFByb21pc2UgRXhhbXBsZTtcblxuICAgICAgYGBgamF2YXNjcmlwdFxuICAgICAgZmluZFJlc3VsdCgpLnRoZW4oZnVuY3Rpb24ocmVzdWx0KXtcbiAgICAgICAgLy8gc3VjY2Vzc1xuICAgICAgfSwgZnVuY3Rpb24ocmVhc29uKXtcbiAgICAgICAgLy8gZmFpbHVyZVxuICAgICAgfSk7XG4gICAgICBgYGBcblxuICAgICAgQWR2YW5jZWQgRXhhbXBsZVxuICAgICAgLS0tLS0tLS0tLS0tLS1cblxuICAgICAgU3luY2hyb25vdXMgRXhhbXBsZVxuXG4gICAgICBgYGBqYXZhc2NyaXB0XG4gICAgICB2YXIgYXV0aG9yLCBib29rcztcblxuICAgICAgdHJ5IHtcbiAgICAgICAgYXV0aG9yID0gZmluZEF1dGhvcigpO1xuICAgICAgICBib29rcyAgPSBmaW5kQm9va3NCeUF1dGhvcihhdXRob3IpO1xuICAgICAgICAvLyBzdWNjZXNzXG4gICAgICB9IGNhdGNoKHJlYXNvbikge1xuICAgICAgICAvLyBmYWlsdXJlXG4gICAgICB9XG4gICAgICBgYGBcblxuICAgICAgRXJyYmFjayBFeGFtcGxlXG5cbiAgICAgIGBgYGpzXG5cbiAgICAgIGZ1bmN0aW9uIGZvdW5kQm9va3MoYm9va3MpIHtcblxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBmYWlsdXJlKHJlYXNvbikge1xuXG4gICAgICB9XG5cbiAgICAgIGZpbmRBdXRob3IoZnVuY3Rpb24oYXV0aG9yLCBlcnIpe1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgZmFpbHVyZShlcnIpO1xuICAgICAgICAgIC8vIGZhaWx1cmVcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgZmluZEJvb29rc0J5QXV0aG9yKGF1dGhvciwgZnVuY3Rpb24oYm9va3MsIGVycikge1xuICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgZmFpbHVyZShlcnIpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICBmb3VuZEJvb2tzKGJvb2tzKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoKHJlYXNvbikge1xuICAgICAgICAgICAgICAgICAgZmFpbHVyZShyZWFzb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBjYXRjaChlcnJvcikge1xuICAgICAgICAgICAgZmFpbHVyZShlcnIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBzdWNjZXNzXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgYGBgXG5cbiAgICAgIFByb21pc2UgRXhhbXBsZTtcblxuICAgICAgYGBgamF2YXNjcmlwdFxuICAgICAgZmluZEF1dGhvcigpLlxuICAgICAgICB0aGVuKGZpbmRCb29rc0J5QXV0aG9yKS5cbiAgICAgICAgdGhlbihmdW5jdGlvbihib29rcyl7XG4gICAgICAgICAgLy8gZm91bmQgYm9va3NcbiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgICAgIC8vIHNvbWV0aGluZyB3ZW50IHdyb25nXG4gICAgICB9KTtcbiAgICAgIGBgYFxuXG4gICAgICBAbWV0aG9kIHRoZW5cbiAgICAgIEBwYXJhbSB7RnVuY3Rpb259IG9uRnVsZmlsbGVkXG4gICAgICBAcGFyYW0ge0Z1bmN0aW9ufSBvblJlamVjdGVkXG4gICAgICBVc2VmdWwgZm9yIHRvb2xpbmcuXG4gICAgICBAcmV0dXJuIHtQcm9taXNlfVxuICAgICovXG4gICAgICB0aGVuOiBsaWIkZXM2JHByb21pc2UkdGhlbiQkZGVmYXVsdCxcblxuICAgIC8qKlxuICAgICAgYGNhdGNoYCBpcyBzaW1wbHkgc3VnYXIgZm9yIGB0aGVuKHVuZGVmaW5lZCwgb25SZWplY3Rpb24pYCB3aGljaCBtYWtlcyBpdCB0aGUgc2FtZVxuICAgICAgYXMgdGhlIGNhdGNoIGJsb2NrIG9mIGEgdHJ5L2NhdGNoIHN0YXRlbWVudC5cblxuICAgICAgYGBganNcbiAgICAgIGZ1bmN0aW9uIGZpbmRBdXRob3IoKXtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjb3VsZG4ndCBmaW5kIHRoYXQgYXV0aG9yJyk7XG4gICAgICB9XG5cbiAgICAgIC8vIHN5bmNocm9ub3VzXG4gICAgICB0cnkge1xuICAgICAgICBmaW5kQXV0aG9yKCk7XG4gICAgICB9IGNhdGNoKHJlYXNvbikge1xuICAgICAgICAvLyBzb21ldGhpbmcgd2VudCB3cm9uZ1xuICAgICAgfVxuXG4gICAgICAvLyBhc3luYyB3aXRoIHByb21pc2VzXG4gICAgICBmaW5kQXV0aG9yKCkuY2F0Y2goZnVuY3Rpb24ocmVhc29uKXtcbiAgICAgICAgLy8gc29tZXRoaW5nIHdlbnQgd3JvbmdcbiAgICAgIH0pO1xuICAgICAgYGBgXG5cbiAgICAgIEBtZXRob2QgY2F0Y2hcbiAgICAgIEBwYXJhbSB7RnVuY3Rpb259IG9uUmVqZWN0aW9uXG4gICAgICBVc2VmdWwgZm9yIHRvb2xpbmcuXG4gICAgICBAcmV0dXJuIHtQcm9taXNlfVxuICAgICovXG4gICAgICAnY2F0Y2gnOiBmdW5jdGlvbihvblJlamVjdGlvbikge1xuICAgICAgICByZXR1cm4gdGhpcy50aGVuKG51bGwsIG9uUmVqZWN0aW9uKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHZhciBsaWIkZXM2JHByb21pc2UkZW51bWVyYXRvciQkZGVmYXVsdCA9IGxpYiRlczYkcHJvbWlzZSRlbnVtZXJhdG9yJCRFbnVtZXJhdG9yO1xuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSRlbnVtZXJhdG9yJCRFbnVtZXJhdG9yKENvbnN0cnVjdG9yLCBpbnB1dCkge1xuICAgICAgdGhpcy5faW5zdGFuY2VDb25zdHJ1Y3RvciA9IENvbnN0cnVjdG9yO1xuICAgICAgdGhpcy5wcm9taXNlID0gbmV3IENvbnN0cnVjdG9yKGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJG5vb3ApO1xuXG4gICAgICBpZiAoIXRoaXMucHJvbWlzZVtsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRQUk9NSVNFX0lEXSkge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRtYWtlUHJvbWlzZSh0aGlzLnByb21pc2UpO1xuICAgICAgfVxuXG4gICAgICBpZiAobGliJGVzNiRwcm9taXNlJHV0aWxzJCRpc0FycmF5KGlucHV0KSkge1xuICAgICAgICB0aGlzLl9pbnB1dCAgICAgPSBpbnB1dDtcbiAgICAgICAgdGhpcy5sZW5ndGggICAgID0gaW5wdXQubGVuZ3RoO1xuICAgICAgICB0aGlzLl9yZW1haW5pbmcgPSBpbnB1dC5sZW5ndGg7XG5cbiAgICAgICAgdGhpcy5fcmVzdWx0ID0gbmV3IEFycmF5KHRoaXMubGVuZ3RoKTtcblxuICAgICAgICBpZiAodGhpcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRmdWxmaWxsKHRoaXMucHJvbWlzZSwgdGhpcy5fcmVzdWx0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmxlbmd0aCA9IHRoaXMubGVuZ3RoIHx8IDA7XG4gICAgICAgICAgdGhpcy5fZW51bWVyYXRlKCk7XG4gICAgICAgICAgaWYgKHRoaXMuX3JlbWFpbmluZyA9PT0gMCkge1xuICAgICAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkZnVsZmlsbCh0aGlzLnByb21pc2UsIHRoaXMuX3Jlc3VsdCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZWplY3QodGhpcy5wcm9taXNlLCBsaWIkZXM2JHByb21pc2UkZW51bWVyYXRvciQkdmFsaWRhdGlvbkVycm9yKCkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSRlbnVtZXJhdG9yJCR2YWxpZGF0aW9uRXJyb3IoKSB7XG4gICAgICByZXR1cm4gbmV3IEVycm9yKCdBcnJheSBNZXRob2RzIG11c3QgYmUgcHJvdmlkZWQgYW4gQXJyYXknKTtcbiAgICB9XG5cbiAgICBsaWIkZXM2JHByb21pc2UkZW51bWVyYXRvciQkRW51bWVyYXRvci5wcm90b3R5cGUuX2VudW1lcmF0ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGxlbmd0aCAgPSB0aGlzLmxlbmd0aDtcbiAgICAgIHZhciBpbnB1dCAgID0gdGhpcy5faW5wdXQ7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyB0aGlzLl9zdGF0ZSA9PT0gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkUEVORElORyAmJiBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGhpcy5fZWFjaEVudHJ5KGlucHV0W2ldLCBpKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgbGliJGVzNiRwcm9taXNlJGVudW1lcmF0b3IkJEVudW1lcmF0b3IucHJvdG90eXBlLl9lYWNoRW50cnkgPSBmdW5jdGlvbihlbnRyeSwgaSkge1xuICAgICAgdmFyIGMgPSB0aGlzLl9pbnN0YW5jZUNvbnN0cnVjdG9yO1xuICAgICAgdmFyIHJlc29sdmUgPSBjLnJlc29sdmU7XG5cbiAgICAgIGlmIChyZXNvbHZlID09PSBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSRyZXNvbHZlJCRkZWZhdWx0KSB7XG4gICAgICAgIHZhciB0aGVuID0gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkZ2V0VGhlbihlbnRyeSk7XG5cbiAgICAgICAgaWYgKHRoZW4gPT09IGxpYiRlczYkcHJvbWlzZSR0aGVuJCRkZWZhdWx0ICYmXG4gICAgICAgICAgICBlbnRyeS5fc3RhdGUgIT09IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFBFTkRJTkcpIHtcbiAgICAgICAgICB0aGlzLl9zZXR0bGVkQXQoZW50cnkuX3N0YXRlLCBpLCBlbnRyeS5fcmVzdWx0KTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdGhlbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHRoaXMuX3JlbWFpbmluZy0tO1xuICAgICAgICAgIHRoaXMuX3Jlc3VsdFtpXSA9IGVudHJ5O1xuICAgICAgICB9IGVsc2UgaWYgKGMgPT09IGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRkZWZhdWx0KSB7XG4gICAgICAgICAgdmFyIHByb21pc2UgPSBuZXcgYyhsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRub29wKTtcbiAgICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRoYW5kbGVNYXliZVRoZW5hYmxlKHByb21pc2UsIGVudHJ5LCB0aGVuKTtcbiAgICAgICAgICB0aGlzLl93aWxsU2V0dGxlQXQocHJvbWlzZSwgaSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5fd2lsbFNldHRsZUF0KG5ldyBjKGZ1bmN0aW9uKHJlc29sdmUpIHsgcmVzb2x2ZShlbnRyeSk7IH0pLCBpKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fd2lsbFNldHRsZUF0KHJlc29sdmUoZW50cnkpLCBpKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgbGliJGVzNiRwcm9taXNlJGVudW1lcmF0b3IkJEVudW1lcmF0b3IucHJvdG90eXBlLl9zZXR0bGVkQXQgPSBmdW5jdGlvbihzdGF0ZSwgaSwgdmFsdWUpIHtcbiAgICAgIHZhciBwcm9taXNlID0gdGhpcy5wcm9taXNlO1xuXG4gICAgICBpZiAocHJvbWlzZS5fc3RhdGUgPT09IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFBFTkRJTkcpIHtcbiAgICAgICAgdGhpcy5fcmVtYWluaW5nLS07XG5cbiAgICAgICAgaWYgKHN0YXRlID09PSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRSRUpFQ1RFRCkge1xuICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlamVjdChwcm9taXNlLCB2YWx1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5fcmVzdWx0W2ldID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuX3JlbWFpbmluZyA9PT0gMCkge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRmdWxmaWxsKHByb21pc2UsIHRoaXMuX3Jlc3VsdCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGxpYiRlczYkcHJvbWlzZSRlbnVtZXJhdG9yJCRFbnVtZXJhdG9yLnByb3RvdHlwZS5fd2lsbFNldHRsZUF0ID0gZnVuY3Rpb24ocHJvbWlzZSwgaSkge1xuICAgICAgdmFyIGVudW1lcmF0b3IgPSB0aGlzO1xuXG4gICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRzdWJzY3JpYmUocHJvbWlzZSwgdW5kZWZpbmVkLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICBlbnVtZXJhdG9yLl9zZXR0bGVkQXQobGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkRlVMRklMTEVELCBpLCB2YWx1ZSk7XG4gICAgICB9LCBmdW5jdGlvbihyZWFzb24pIHtcbiAgICAgICAgZW51bWVyYXRvci5fc2V0dGxlZEF0KGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFJFSkVDVEVELCBpLCByZWFzb24pO1xuICAgICAgfSk7XG4gICAgfTtcbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkcG9seWZpbGwkJHBvbHlmaWxsKCkge1xuICAgICAgdmFyIGxvY2FsO1xuXG4gICAgICBpZiAodHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBsb2NhbCA9IGdsb2JhbDtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgbG9jYWwgPSBzZWxmO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBsb2NhbCA9IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3BvbHlmaWxsIGZhaWxlZCBiZWNhdXNlIGdsb2JhbCBvYmplY3QgaXMgdW5hdmFpbGFibGUgaW4gdGhpcyBlbnZpcm9ubWVudCcpO1xuICAgICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIFAgPSBsb2NhbC5Qcm9taXNlO1xuXG4gICAgICBpZiAoUCAmJiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoUC5yZXNvbHZlKCkpID09PSAnW29iamVjdCBQcm9taXNlXScgJiYgIVAuY2FzdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGxvY2FsLlByb21pc2UgPSBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkZGVmYXVsdDtcbiAgICB9XG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSRwb2x5ZmlsbCQkZGVmYXVsdCA9IGxpYiRlczYkcHJvbWlzZSRwb2x5ZmlsbCQkcG9seWZpbGw7XG5cbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJHVtZCQkRVM2UHJvbWlzZSA9IHtcbiAgICAgICdQcm9taXNlJzogbGliJGVzNiRwcm9taXNlJHByb21pc2UkJGRlZmF1bHQsXG4gICAgICAncG9seWZpbGwnOiBsaWIkZXM2JHByb21pc2UkcG9seWZpbGwkJGRlZmF1bHRcbiAgICB9O1xuXG4gICAgLyogZ2xvYmFsIGRlZmluZTp0cnVlIG1vZHVsZTp0cnVlIHdpbmRvdzogdHJ1ZSAqL1xuICAgIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZVsnYW1kJ10pIHtcbiAgICAgIGRlZmluZShmdW5jdGlvbigpIHsgcmV0dXJuIGxpYiRlczYkcHJvbWlzZSR1bWQkJEVTNlByb21pc2U7IH0pO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlWydleHBvcnRzJ10pIHtcbiAgICAgIG1vZHVsZVsnZXhwb3J0cyddID0gbGliJGVzNiRwcm9taXNlJHVtZCQkRVM2UHJvbWlzZTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiB0aGlzICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpc1snRVM2UHJvbWlzZSddID0gbGliJGVzNiRwcm9taXNlJHVtZCQkRVM2UHJvbWlzZTtcbiAgICB9XG5cbiAgICBsaWIkZXM2JHByb21pc2UkcG9seWZpbGwkJGRlZmF1bHQoKTtcbn0pLmNhbGwodGhpcyk7XG5cblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2VzNi1wcm9taXNlL2Rpc3QvZXM2LXByb21pc2UuanNcbiAqKiBtb2R1bGUgaWQgPSAyMVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLyoqXG4qIChDKSBDb3B5cmlnaHQgSUJNIENvcnAuIDIwMTYuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4qXG4qIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90XG4qIHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mXG4qIHRoZSBMaWNlbnNlIGF0XG4qXG4qIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuKlxuKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4qIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVFxuKiBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGVcbiogTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMgdW5kZXJcbiogdGhlIExpY2Vuc2UuXG4qL1xuXG5pZiAoIHR5cGVvZiBQcm9taXNlID09PSAndW5kZWZpbmVkJyApIHJlcXVpcmUoJ2VzNi1wcm9taXNlJykucG9seWZpbGwoKTtcblxudmFyIGFzc2lnbiA9IHJlcXVpcmUoJ2xvZGFzaC5hc3NpZ24nKTtcbnZhciBheGlvcyA9IHJlcXVpcmUoJ2F4aW9zJyk7XG52YXIgc3RvcmFnZSA9IHJlcXVpcmUoJy4vc3RvcmFnZScpO1xuXG52YXIgb3B0aW9ucyA9IHtcblx0YmFzZVVSTDogJ2h0dHBzOi8vZGV2LmFwaS5pYm0uY29tL3ZpcnR1YWxhZ2VudC9kZXZlbG9wbWVudC9hcGkvdjEvJyxcblx0dGltZW91dDogMzAgKiAxMDAwLFxuXHR1c2VySUQ6IG51bGwsXG5cdHdpdGhDcmVkZW50aWFsczogZmFsc2UsXG5cdFhJQk1DbGllbnRJRDogZmFsc2UsXG5cdFhJQk1DbGllbnRTZWNyZXQ6IGZhbHNlXG59O1xuXG52YXIgYXBpID0gYXhpb3MuY3JlYXRlKCBvcHRpb25zICk7XG5cbnZhciBwcm9maWxlRGF0YVJlID0gL1xcfCYoLio/KVxcfC9nO1xudmFyIGluc2VydFVzZXJQcm9maWxlRGF0YSA9IGZ1bmN0aW9uKG1zZykge1xuXHR2YXIgZmxhdHRlbiA9ICh0eXBlb2YgbXNnID09PSAnc3RyaW5nJykgPyBtc2cgOiBKU09OLnN0cmluZ2lmeShtc2cpO1xuXHR2YXIgbWF0Y2hlcyA9IChmbGF0dGVuLm1hdGNoKHByb2ZpbGVEYXRhUmUpIHx8IFtdKTtcblx0ZmxhdHRlbiA9IG1hdGNoZXMucmVkdWNlKGZ1bmN0aW9uKHJlc3VsdCwgcHJvZikge1xuXHRcdGNvbnN0IG5hbWUgPSBwcm9mLnNsaWNlKCAyLCAtMSApO1xuXHRcdGNvbnN0IHZhbHVlID0gc3RvcmFnZS5nZXQobmFtZSkgfHwgbmFtZTtcblx0XHRyZXR1cm4gcmVzdWx0LnJlcGxhY2UoIHByb2YsIHZhbHVlICk7XG5cdH0sIGZsYXR0ZW4pO1xuXHRyZXR1cm4gKHR5cGVvZiBtc2cgPT09ICdzdHJpbmcnKSA/IGZsYXR0ZW4gOiBKU09OLnBhcnNlKGZsYXR0ZW4pO1xufTtcblxuLyoqXG4gKiBAbmFtZXNwYWNlIFNES1xuICovXG5cbnZhciBTREsgPSBtb2R1bGUuZXhwb3J0cyA9IHtcblx0LyoqXG5cdCAqIENvbmZpZ3VyZSB0aGUgQ2xpZW50IFNES1xuXHQgKiBAZnVuY3Rpb24gY29uZmlndXJlXG5cdCAqIEBtZW1iZXJvZiBTREtcblx0ICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZ1xuXHQgKiBAcGFyYW0ge3N0cmluZ30gY29uZmlnLmJhc2VVUkw9aHR0cHM6Ly9kZXYuYXBpLmlibS5jb20vdmlydHVhbGFnZW50L2RldmVsb3BtZW50L2FwaS92MS8gLSBPcHRpb25hbDogVGhlIFVSTCB0aGUgU0RLIHNob3VsZCBwcmVwZW5kIHRvIHJlcXVlc3RzLlxuXHQgKiBAcGFyYW0ge2ludH0gY29uZmlnLnRpbWVvdXQ9MzAwMDAgLSBPcHRpb25hbDogSG93IGxvbmcgcmVxdWVzdHMgc2hvdWxkIHdhaXQgYmVmb3JlIHRoZXkgZXJyb3IuXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBjb25maWcudXNlcklEIC0gT3B0aW9uYWw6IEEgdXNlciBpZGVudGlmaWVyLCB0cmFuc2Zvcm1lZCBieSBhIG9uZS13YXkgaGFzaGluZyBhbGdvcml0aG0uIFVzZWQgYnkgeW91ciBNZXRyaWNzIERhc2hib2FyZCB0byB0cmFjayB1c2FnZS5cblx0ICogQHBhcmFtIHtzdHJpbmd9IGNvbmZpZy51c2VyTGF0TG9uIC0gT3B0aW9uYWw6IGxhdCxsb24gb3IgdXNlciAoIGVnLiAyOC4zODUyLC04MS41NjM5ICkuIFVzZWQgYnkgeW91ciBNZXRyaWNzIERhc2hib2FyZCB0byB0cmFjayB1c2FnZS5cblx0ICogQHBhcmFtIHtzdHJpbmd9IGNvbmZpZy53aXRoQ3JlZGVudGlhbHMgLSBPcHRpb25hbDogaW5kaWNhdGVzIHdoZXRoZXIgb3Igbm90IGNyb3NzLXNpdGUgQWNjZXNzLUNvbnRyb2wgcmVxdWVzdHMgc2hvdWxkIGJlIG1hZGUgdXNpbmcgY3JlZGVudGlhbHNcblx0ICogQHBhcmFtIHtzdHJpbmd9IGNvbmZpZy5YSUJNQ2xpZW50SUQgLSBPcHRpb25hbDogWW91ciBYLUlCTS1DbGllbnQtSWQuIFRoaXMgc2hvdWxkIG5vdCBiZSBtYWRlIHB1YmxpYyBpbiBhIHB1YmxpYyBlbnZpcm9ubWVudC4gSW5jbHVkaW5nIHRoaXMgd2lsbCBhZGQgWC1JQk0tQ2xpZW50LUlkIGFzIGEgaGVhZGVyIHRvIHlvdXIgcmVxdWVzdC5cblx0ICogQHBhcmFtIHtzdHJpbmd9IGNvbmZpZy5YSUJNQ2xpZW50U2VjcmV0IC0gT3B0aW9uYWw6IFlvdXIgWC1JQk0tQ2xpZW50LVNlY3JldC4gVGhpcyBzaG91bGQgbm90IGJlIG1hZGUgcHVibGljIGluIGEgcHVibGljIGVudmlyb25tZW50LiBJbmNsdWRpbmcgdGhpcyB3aWxsIGFkZCBYLUlCTS1DbGllbnQtU2VjcmV0IGFzIGEgaGVhZGVyIHRvIHlvdXIgcmVxdWVzdC5cblx0ICogQGV4YW1wbGVcblx0ICogU0RLLmNvbmZpZ3VyZSh7XG5cdCAqICAgYmFzZVVSTDogJ2h0dHBzOi8vc2VydmVyLm15c2l0ZS5jb20nLFxuXHQgKiAgIHVzZXJJRDogJ3BvaXV5dHJld3EnLFxuXHQgKiAgIHVzZXJMYXRMb246ICcyOC4zODUyLC04MS41NjM5J1xuXHQgKiB9KTtcblx0ICogQHJldHVybnMge1NES30gUmV0dXJuczogVGhlIFNESyBzaW5nbGV0b25cblx0ICovXG5cdGNvbmZpZ3VyZTogZnVuY3Rpb24oIGNvbmZpZyApIHtcblx0XHRhc3NpZ24oIG9wdGlvbnMsIGNvbmZpZyApO1xuXHRcdGFwaSA9IGF4aW9zLmNyZWF0ZSh7XG5cdFx0XHRiYXNlVVJMOiBvcHRpb25zLmJhc2VVUkwsXG5cdFx0XHR0aW1lb3V0OiBvcHRpb25zLnRpbWVvdXQsXG5cdFx0XHR3aXRoQ3JlZGVudGlhbHM6IG9wdGlvbnMud2l0aENyZWRlbnRpYWxzLFxuXHRcdFx0aGVhZGVyczogKG9wdGlvbnMuWElCTUNsaWVudElEICYmIG9wdGlvbnMuWElCTUNsaWVudFNlY3JldCkgPyB7XG5cdFx0XHRcdCdYLUlCTS1DbGllbnQtSWQnOiBvcHRpb25zLlhJQk1DbGllbnRJRCxcblx0XHRcdFx0J1gtSUJNLUNsaWVudC1TZWNyZXQnOiBvcHRpb25zLlhJQk1DbGllbnRTZWNyZXRcblx0XHRcdH0gOiB7fVxuXHRcdH0pO1xuXHRcdHJldHVybiBTREs7XG5cdH0sXG5cdC8qKlxuXHQgKiBTdGFydCBhIG5ldyBjaGF0IHNlc3Npb25cblx0ICogQGZ1bmN0aW9uIHN0YXJ0XG5cdCAqIEBtZW1iZXJvZiBTREtcblx0ICogQHBhcmFtIHtzdHJpbmd9IGJvdElEIC0gWW91ciBib3RJRC5cblx0ICogQGV4YW1wbGVcblx0ICogU0RLLnN0YXJ0KGJvdElEKVxuXHQgKiAgICAudGhlbihmdW5jdGlvbihyZXMpIHtcblx0ICogICAgICBjb25zb2xlLmxvZyhyZXMuY2hhdElELCByZXMubWVzc2FnZSk7XG5cdCAqICAgIH0pXG5cdCAqICAgIC5jYXRjaChmdW5jdGlvbihlcnIpIHtcblx0ICogICAgICBjb25zb2xlLmVycm9yKGVycik7XG5cdCAqICAgIH0pO1xuXHQgKiBAcmV0dXJucyB7UHJvbWlzZSh7IGNoYXRJRDogXCJzdHJpbmdcIiwgbWVzc2FnZTogXCJzdHJpbmdcIiB9KX0gUmV0dXJuczogQSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiB0aGUgY2hhdCBzZXNzaW9uIGlzIHN0YXJ0ZWQuXG5cdCAqL1xuXHRzdGFydDogZnVuY3Rpb24oIGJvdElEICkge1xuXHRcdHZhciByZXF1ZXN0SUQgPSB1dWlkKCk7XG5cdFx0dmFyIGRhdGEgPSB7IHVzZXJJRDogb3B0aW9ucy51c2VySUQsIHVzZXJMYXRMb246IG9wdGlvbnMudXNlckxhdExvbiB9O1xuXHRcdHZhciBlbmRwb2ludCA9ICcvYm90cy8nKyBib3RJRCArJy9kaWFsb2dzJztcblx0XHR2YXIgY29uZmlnID0geyAnaGVhZGVycyc6IHsgJ1gtUmVxdWVzdC1JRCc6IHJlcXVlc3RJRCB9IH07XG5cdFx0cmV0dXJuIGFwaVxuXHRcdFx0LnBvc3QoIGVuZHBvaW50LCBkYXRhLCBjb25maWcgKVxuXHRcdFx0LnRoZW4oIGZ1bmN0aW9uKCByZXMgKSB7XG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0Y2hhdElEOiByZXMuZGF0YS5kaWFsb2dfaWQsXG5cdFx0XHRcdFx0bWVzc2FnZTogaW5zZXJ0VXNlclByb2ZpbGVEYXRhKHJlcy5kYXRhLm1lc3NhZ2UpXG5cdFx0XHRcdH07XG5cdFx0XHR9KVsnY2F0Y2gnXSggZnVuY3Rpb24oIGVyciApIHtcblx0XHRcdFx0Y29uc29sZS5lcnJvcignUmVxdWVzdCBmYWlsZWQ6JywgcmVxdWVzdElEICk7XG5cdFx0XHRcdG9uRXJyb3IoIGVyciApO1xuXHRcdFx0fSk7XG5cdH0sXG5cdC8qKlxuXHQgKiBTZW5kIGEgbWVzc2FnZSB0byBhIGNoYXQgc2Vzc2lvblxuXHQgKiBAZnVuY3Rpb24gc2VuZFxuXHQgKiBAbWVtYmVyb2YgU0RLXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBib3RJRCAtIFlvdXIgYm90SURcblx0ICogQHBhcmFtIHtzdHJpbmd9IGNoYXRJRCAtIFlvdXIgY2hhdElEIHByb3ZpZGVkIGJ5IFNESy5zdGFydFxuXHQgKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSAtIFlvdXIgbWVzc2FnZVxuXHQgKiBAZXhhbXBsZVxuXHQgKiBTREsuc2VuZChib3RJRCwgY2hhdElELCAnSGVsbG8hJylcblx0ICogICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuXHQgKiAgICAgIGNvbnNvbGUubG9nKGRhdGEubWVzc2FnZSk7XG5cdCAqICAgIH0pXG5cdCAqICAgIC5jYXRjaChmdW5jdGlvbihlcnIpIHtcblx0ICogICAgICBjb25zb2xlLmVycm9yKGVycik7XG5cdCAqICAgIH0pO1xuXHQgKiBAcmV0dXJucyB7UHJvbWlzZSh7IG1lc3NhZ2U6IFwic3RyaW5nXCIgfSl9IFJldHVybnM6IEEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdGhlIGJvdCByZXNwb25kcy5cblx0ICovXG5cdHNlbmQ6IGZ1bmN0aW9uKCBib3RJRCwgY2hhdElELCBtZXNzYWdlICkge1xuXHRcdHZhciByZXF1ZXN0SUQgPSB1dWlkKCk7XG5cdFx0dmFyIGRhdGEgPSB7IG1lc3NhZ2U6IG1lc3NhZ2UsIHVzZXJJRDogb3B0aW9ucy51c2VySUQsIHVzZXJMYXRMb246IG9wdGlvbnMudXNlckxhdExvbiB9O1xuXHRcdHZhciBlbmRwb2ludCA9ICcvYm90cy8nKyBib3RJRCArJy9kaWFsb2dzLycrIGNoYXRJRCArJy9tZXNzYWdlcyc7XG5cdFx0dmFyIGNvbmZpZyA9IHsgJ2hlYWRlcnMnOiB7ICdYLVJlcXVlc3QtSUQnOiByZXF1ZXN0SUQgfSB9O1xuXHRcdHJldHVybiBhcGlcblx0XHRcdC5wb3N0KCBlbmRwb2ludCwgZGF0YSwgY29uZmlnIClcblx0XHRcdC50aGVuKCBmdW5jdGlvbiggcmVzICkge1xuXHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdG1lc3NhZ2U6IGluc2VydFVzZXJQcm9maWxlRGF0YShyZXMuZGF0YS5tZXNzYWdlKVxuXHRcdFx0XHR9O1xuXHRcdFx0fSlbJ2NhdGNoJ10oIGZ1bmN0aW9uKCBlcnIgKSB7XG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IoJ1JlcXVlc3QgZmFpbGVkOicsIHJlcXVlc3RJRCApO1xuXHRcdFx0XHRvbkVycm9yKCBlcnIgKTtcblx0XHRcdH0pO1xuXHR9LFxuXHQvKipcblx0KiBJdGVyYXRlIHByb2ZpbGUgZGF0YSBpbnRvIGEgZ2l2ZW4gbWVzc2FnZSBvYmplY3QuXG5cdCogQG1lbWJlcm9mIFNES1xuXHQqIEBmdW5jdGlvbiBwYXJzZVxuXHQqIEBwYXJhbSB7QW55fSBtZXNzYWdlIC0gQSBzdHJpbmcgb3IgbWVzc2FnZSBvYmplY3QgdG8gaW5zZXJ0IHByb2ZpbGUgZGF0YSBpbnRvLlxuXHQqIEByZXR1cm5zIHtBbnl9IFJldHVybnM6IFRoZSBtZXNzYWdlIGluIG9yaWdpbmFsIGZvcm1hdCB3aXRoIHZhcmlhYmxlcyByZXBsYWNlZC5cblx0KiBAZXhhbXBsZVxuXHQqIHZhciBtZXNzYWdlID0gXCJZb3Ugb3dlIHwmYmlsbF9hbW91bnR8LlwiO1xuXHQqIHZhciBwYXJzZWQgPSBTREsucGFyc2UobWVzc2FnZSk7XG5cdCovXG5cdHBhcnNlOiBpbnNlcnRVc2VyUHJvZmlsZURhdGEsXG5cdC8qKlxuXHQgKiBAbmFtZXNwYWNlIHByb2ZpbGVcblx0ICogQG1lbWJlcm9mIFNES1xuXHQgKi9cblx0cHJvZmlsZToge1xuXHRcdC8qKlxuXHRcdCogR2V0IGFuIGl0ZW0gZnJvbSB0aGUgdXNlciBwcm9maWxlIGJhc2VkIG9uIGtleS5cblx0XHQqIEBtZW1iZXJvZiBTREsucHJvZmlsZVxuXHRcdCogQGZ1bmN0aW9uIGdldFxuXHRcdCogQHBhcmFtIHtzdHJpbmd9IGtleSAtIFRoZSBuYW1lZCBrZXkgb2YgdGhlIHZhbHVlIHlvdSBhcmUgYWNjZXNzaW5nLlxuXHRcdCogQGV4YW1wbGVcblx0XHQqIFNESy5wcm9maWxlLmdldCgnZmlyc3RfbmFtZScpO1xuXHRcdCogQHJldHVybnMge0FueX0gUmV0dXJuczogdGhlIHZhbHVlIG9mIHRoZSBrZXkgaW4gdGhlIHByb2ZpbGUgbWFwLlxuXHRcdCovXG5cdFx0Z2V0OiBzdG9yYWdlLmdldCxcblx0XHQvKipcblx0XHQqIFNldCBhbiBpdGVtIGZyb20gdGhlIHVzZXIgcHJvZmlsZSBiYXNlZCBvbiBrZXkuXG5cdFx0KiBAbWVtYmVyb2YgU0RLLnByb2ZpbGVcblx0XHQqIEBmdW5jdGlvbiBzZXRcblx0XHQqIEBwYXJhbSB7c3RyaW5nfSBrZXkgLSBUaGUgbmFtZWQga2V5IG9mIHRoZSB2YWx1ZSB5b3UgYXJlIHNldHRpbmcuXG5cdFx0KiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgLSBUaGUgdmFsdWUgeW91IGFyZSBzZXR0aW5nLlxuXHRcdCogQHJldHVybnMge09iamVjdH0gUmV0dXJuczogQW4gaW5zdGFuY2Ugb2YgU0RLLnByb2ZpbGUgZm9yIGNoYWluaW5nLlxuXHRcdCogQGV4YW1wbGVcblx0XHQqIFNESy5wcm9maWxlLnNldCgnZmlyc3RfbmFtZScsICdqb2huJyk7XG5cdFx0Ki9cblx0XHRzZXQ6IHN0b3JhZ2Uuc2V0LFxuXHRcdC8qKlxuXHRcdCogU2VlIGlmIGFuIGl0ZW0gZnJvbSB0aGUgdXNlciBwcm9maWxlIGV4aXN0cyBiYXNlZCBvbiBrZXkuXG5cdFx0KiBAbWVtYmVyb2YgU0RLLnByb2ZpbGVcblx0XHQqIEBmdW5jdGlvbiBoYXNcblx0XHQqIEBwYXJhbSB7c3RyaW5nfSBrZXkgLSBUaGUgbmFtZWQga2V5IG9mIHRoZSB2YWx1ZSB5b3UgYXJlIGNoZWNraW5nIHRoZSBleGlzdGFuY2Ugb2YuXG5cdFx0KiBAZXhhbXBsZVxuXHRcdCogU0RLLnByb2ZpbGUuaGFzKCdmaXJzdF9uYW1lJyk7XG5cdFx0KiBAcmV0dXJucyB7Qm9vbGVhbn0gUmV0dXJuczogQm9vbGVhbiBpbmRpY2F0aW5nIGlmIHRoZSBrZXkgZXhpc3RzLlxuXHRcdCovXG5cdFx0aGFzOiBzdG9yYWdlLmhhcyxcblx0XHQvKipcblx0XHQqIENsZWFyIHRoZSBlbnRpcmUgdXNlciBwcm9maWxlLlxuXHRcdCogQG1lbWJlcm9mIFNESy5wcm9maWxlXG5cdFx0KiBAZnVuY3Rpb24gY2xlYXJcblx0XHQqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnM6IEFuIGluc3RhbmNlIG9mIFNESy5wcm9maWxlIGZvciBjaGFpbmluZy5cblx0XHQqIEBleGFtcGxlXG5cdFx0KiBTREsucHJvZmlsZS5jbGVhcigpO1xuXHRcdCovXG5cdFx0Y2xlYXI6IHN0b3JhZ2UuY2xlYXIsXG5cdFx0LyoqXG5cdFx0KiBEZWxldGUgYW4gaXRlbSBmcm9tIHRoZSB1c2VyIHByb2ZpbGUgYmFzZWQgb24ga2V5LlxuXHRcdCogQG1lbWJlcm9mIFNESy5wcm9maWxlXG5cdFx0KiBAZnVuY3Rpb24gZGVsZXRlXG5cdFx0KiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zOiBBbiBpbnN0YW5jZSBvZiBTREsucHJvZmlsZSBmb3IgY2hhaW5pbmcuXG5cdFx0KiBAcGFyYW0ge3N0cmluZ30ga2V5IC0gVGhlIG5hbWVkIGtleSBvZiB0aGUgdmFsdWUgeW91IGFyZSBkZWxldGluZy5cblx0XHQqIEBleGFtcGxlXG5cdFx0KiBTREsucHJvZmlsZS5kZWxldGUoJ2ZpcnN0X25hbWUnKTtcblx0XHQqL1xuXHRcdGRlbGV0ZTogc3RvcmFnZS5kZWxldGUsXG5cdFx0LyoqXG5cdFx0KiBJdGVyYXRlIG92ZXIgdGhlIHByb2ZpbGUuXG5cdFx0KiBAbWVtYmVyb2YgU0RLLnByb2ZpbGVcblx0XHQqIEBmdW5jdGlvbiBmb3JFYWNoXG5cdFx0KiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFjayAtIFRoZSBmdW5jdGlvbiB5b3UgYXJlIGNhbGxpbmcgb24gZWFjaCBpdGVtIGluIHRoZSBwcm9maWxlIG9iamVjdC4gVGhpcyBmdW5jdGlvbiBpcyBwYXNzZWQga2V5IGFzIHRoZSBmaXJzdCBhcmd1bWVudCBhbmQgdmFsdWUgYXMgdGhlIHNlY29uZCBhcmd1bWVudC5cblx0XHQqIEBwYXJhbSB7T2JqZWN0fSB0aGlzIC0gKG9wdGlvbmFsKSBUaGUgY29udGV4dCB5b3Ugd2lzaCB0byBjYWxsIHRoZSBjYWxsYmFjayBpbi5cblx0XHQqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnM6IEFuIGluc3RhbmNlIG9mIFNESy5wcm9maWxlIGZvciBjaGFpbmluZy5cblx0XHQqIEBleGFtcGxlXG5cdFx0KiBTREsucHJvZmlsZS5mb3JFYWNoKGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcblx0XHQqICAgY29uc29sZS5sb2coa2V5LCB2YWx1ZSk7XG5cdFx0KiB9KTtcblx0XHQqL1xuXHRcdGZvckVhY2g6IHN0b3JhZ2UuZm9yRWFjaFxuXHR9XG59O1xuXG52YXIgdXVpZCA9IGZ1bmN0aW9uKCApIHtcblx0cmV0dXJuICd4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHgnLnJlcGxhY2UoL1t4eV0vZywgZnVuY3Rpb24oYykge1xuXHRcdHZhciByID0gTWF0aC5yYW5kb20oKSoxNnwwLCB2ID0gYyA9PSAneCcgPyByIDogKHImMHgzfDB4OCk7XG5cdFx0cmV0dXJuIHYudG9TdHJpbmcoMTYpO1xuXHR9KTtcbn07XG5cbnZhciBvbkVycm9yID0gZnVuY3Rpb24oIGVyciApIHtcblx0aWYgKCAhZXJyLnN0YXR1cyApXG5cdFx0dGhyb3cgZXJyO1xuXHR2YXIgc3RhdHVzID0gZXJyLnN0YXR1cztcblx0dmFyIHN0YXR1c1RleHQgPSBlcnIuc3RhdHVzVGV4dDtcblx0dmFyIGVycm9yID0gbmV3IEVycm9yKCBzdGF0dXNUZXh0ICk7XG5cdGVycm9yLnN0YXR1cyA9IHN0YXR1cztcblx0dGhyb3cgZXJyb3I7XG59O1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL3NyYy9zZGsuanNcbiAqKiBtb2R1bGUgaWQgPSAyMlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLyoqXG4qIChDKSBDb3B5cmlnaHQgSUJNIENvcnAuIDIwMTYuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4qXG4qIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90XG4qIHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mXG4qIHRoZSBMaWNlbnNlIGF0XG4qXG4qIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuKlxuKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4qIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVFxuKiBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGVcbiogTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMgdW5kZXJcbiogdGhlIExpY2Vuc2UuXG4qL1xuXG52YXIgcHJvZmlsZSA9IHt9O1xudmFyIHN0b3JhZ2UgPSB7XG5cdHNldDogZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuXHRcdHByb2ZpbGVba2V5XSA9IHZhbHVlO1xuXHRcdHJldHVybiBzdG9yYWdlO1xuXHR9LFxuXHRnZXQ6IGZ1bmN0aW9uKGtleSkge1xuXHRcdHJldHVybiBwcm9maWxlW2tleV0gfHwgJyc7XG5cdH0sXG5cdGhhczogZnVuY3Rpb24oa2V5KSB7XG5cdFx0cmV0dXJuIChwcm9maWxlW2tleV0gIT09IHVuZGVmaW5lZCk7XG5cdH0sXG5cdGNsZWFyOiBmdW5jdGlvbigpIHtcblx0XHRwcm9maWxlID0ge307XG5cdFx0cmV0dXJuIHN0b3JhZ2U7XG5cdH0sXG5cdGRlbGV0ZTogZnVuY3Rpb24oa2V5KSB7XG5cdFx0ZGVsZXRlIHByb2ZpbGVba2V5XTtcblx0XHRyZXR1cm4gc3RvcmFnZTtcblx0fSxcblx0Zm9yRWFjaDogZnVuY3Rpb24oY2IsIGNvbnRleHQpIHtcblx0XHRPYmplY3Qua2V5cyhwcm9maWxlKS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuXHRcdFx0aWYgKGNvbnRleHQpXG5cdFx0XHRcdGNiKGtleSwgcHJvZmlsZVtrZXldKS5iaW5kKGNvbnRleHQpO1xuXHRcdFx0ZWxzZVxuXHRcdFx0XHRjYihrZXksIHByb2ZpbGVba2V5XSk7XG5cdFx0fSk7XG5cdFx0cmV0dXJuIHN0b3JhZ2U7XG5cdH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gc3RvcmFnZTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9zcmMvc3RvcmFnZS5qc1xuICoqIG1vZHVsZSBpZCA9IDIzXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvKipcbiAqIGxvZGFzaCAoQ3VzdG9tIEJ1aWxkKSA8aHR0cHM6Ly9sb2Rhc2guY29tLz5cbiAqIEJ1aWxkOiBgbG9kYXNoIG1vZHVsYXJpemUgZXhwb3J0cz1cIm5wbVwiIC1vIC4vYFxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnMgPGh0dHBzOi8vanF1ZXJ5Lm9yZy8+XG4gKiBSZWxlYXNlZCB1bmRlciBNSVQgbGljZW5zZSA8aHR0cHM6Ly9sb2Rhc2guY29tL2xpY2Vuc2U+XG4gKiBCYXNlZCBvbiBVbmRlcnNjb3JlLmpzIDEuOC4zIDxodHRwOi8vdW5kZXJzY29yZWpzLm9yZy9MSUNFTlNFPlxuICogQ29weXJpZ2h0IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4gKi9cblxuLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovXG52YXIgTUFYX1NBRkVfSU5URUdFUiA9IDkwMDcxOTkyNTQ3NDA5OTE7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBhcmdzVGFnID0gJ1tvYmplY3QgQXJndW1lbnRzXScsXG4gICAgZnVuY1RhZyA9ICdbb2JqZWN0IEZ1bmN0aW9uXScsXG4gICAgZ2VuVGFnID0gJ1tvYmplY3QgR2VuZXJhdG9yRnVuY3Rpb25dJyxcbiAgICBzdHJpbmdUYWcgPSAnW29iamVjdCBTdHJpbmddJztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IHVuc2lnbmVkIGludGVnZXIgdmFsdWVzLiAqL1xudmFyIHJlSXNVaW50ID0gL14oPzowfFsxLTldXFxkKikkLztcblxuLyoqXG4gKiBBIGZhc3RlciBhbHRlcm5hdGl2ZSB0byBgRnVuY3Rpb24jYXBwbHlgLCB0aGlzIGZ1bmN0aW9uIGludm9rZXMgYGZ1bmNgXG4gKiB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiBgdGhpc0FyZ2AgYW5kIHRoZSBhcmd1bWVudHMgb2YgYGFyZ3NgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBpbnZva2UuXG4gKiBAcGFyYW0geyp9IHRoaXNBcmcgVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBmdW5jYC5cbiAqIEBwYXJhbSB7QXJyYXl9IGFyZ3MgVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgYGZ1bmNgIHdpdGguXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzdWx0IG9mIGBmdW5jYC5cbiAqL1xuZnVuY3Rpb24gYXBwbHkoZnVuYywgdGhpc0FyZywgYXJncykge1xuICBzd2l0Y2ggKGFyZ3MubGVuZ3RoKSB7XG4gICAgY2FzZSAwOiByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcpO1xuICAgIGNhc2UgMTogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLCBhcmdzWzBdKTtcbiAgICBjYXNlIDI6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZywgYXJnc1swXSwgYXJnc1sxXSk7XG4gICAgY2FzZSAzOiByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsIGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICB9XG4gIHJldHVybiBmdW5jLmFwcGx5KHRoaXNBcmcsIGFyZ3MpO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnByb3BlcnR5YCB3aXRob3V0IHN1cHBvcnQgZm9yIGRlZXAgcGF0aHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWNjZXNzb3IgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGJhc2VQcm9wZXJ0eShrZXkpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IG9iamVjdFtrZXldO1xuICB9O1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnRpbWVzYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHNcbiAqIG9yIG1heCBhcnJheSBsZW5ndGggY2hlY2tzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIHRpbWVzIHRvIGludm9rZSBgaXRlcmF0ZWVgLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcmVzdWx0cy5cbiAqL1xuZnVuY3Rpb24gYmFzZVRpbWVzKG4sIGl0ZXJhdGVlKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgcmVzdWx0ID0gQXJyYXkobik7XG5cbiAgd2hpbGUgKCsraW5kZXggPCBuKSB7XG4gICAgcmVzdWx0W2luZGV4XSA9IGl0ZXJhdGVlKGluZGV4KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggaXRzIGZpcnN0IGFyZ3VtZW50IHRyYW5zZm9ybWVkLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gdHJhbnNmb3JtIFRoZSBhcmd1bWVudCB0cmFuc2Zvcm0uXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gb3ZlckFyZyhmdW5jLCB0cmFuc2Zvcm0pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiBmdW5jKHRyYW5zZm9ybShhcmcpKTtcbiAgfTtcbn1cblxuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG52YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqXG4gKiBVc2VkIHRvIHJlc29sdmUgdGhlXG4gKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNi4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcbiAqIG9mIHZhbHVlcy5cbiAqL1xudmFyIG9iamVjdFRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIHByb3BlcnR5SXNFbnVtZXJhYmxlID0gb2JqZWN0UHJvdG8ucHJvcGVydHlJc0VudW1lcmFibGU7XG5cbi8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIGZvciB0aG9zZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgb3RoZXIgYGxvZGFzaGAgbWV0aG9kcy4gKi9cbnZhciBuYXRpdmVHZXRQcm90b3R5cGUgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YsXG4gICAgbmF0aXZlS2V5cyA9IE9iamVjdC5rZXlzLFxuICAgIG5hdGl2ZU1heCA9IE1hdGgubWF4O1xuXG4vKiogRGV0ZWN0IGlmIHByb3BlcnRpZXMgc2hhZG93aW5nIHRob3NlIG9uIGBPYmplY3QucHJvdG90eXBlYCBhcmUgbm9uLWVudW1lcmFibGUuICovXG52YXIgbm9uRW51bVNoYWRvd3MgPSAhcHJvcGVydHlJc0VudW1lcmFibGUuY2FsbCh7ICd2YWx1ZU9mJzogMSB9LCAndmFsdWVPZicpO1xuXG4vKipcbiAqIEFzc2lnbnMgYHZhbHVlYCB0byBga2V5YCBvZiBgb2JqZWN0YCBpZiB0aGUgZXhpc3RpbmcgdmFsdWUgaXMgbm90IGVxdWl2YWxlbnRcbiAqIHVzaW5nIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzYuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGFzc2lnbi5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGFzc2lnbi5cbiAqL1xuZnVuY3Rpb24gYXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gIHZhciBvYmpWYWx1ZSA9IG9iamVjdFtrZXldO1xuICBpZiAoIShoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSAmJiBlcShvYmpWYWx1ZSwgdmFsdWUpKSB8fFxuICAgICAgKHZhbHVlID09PSB1bmRlZmluZWQgJiYgIShrZXkgaW4gb2JqZWN0KSkpIHtcbiAgICBvYmplY3Rba2V5XSA9IHZhbHVlO1xuICB9XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaGFzYCB3aXRob3V0IHN1cHBvcnQgZm9yIGRlZXAgcGF0aHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IGtleSBUaGUga2V5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBiYXNlSGFzKG9iamVjdCwga2V5KSB7XG4gIC8vIEF2b2lkIGEgYnVnIGluIElFIDEwLTExIHdoZXJlIG9iamVjdHMgd2l0aCBhIFtbUHJvdG90eXBlXV0gb2YgYG51bGxgLFxuICAvLyB0aGF0IGFyZSBjb21wb3NlZCBlbnRpcmVseSBvZiBpbmRleCBwcm9wZXJ0aWVzLCByZXR1cm4gYGZhbHNlYCBmb3JcbiAgLy8gYGhhc093blByb3BlcnR5YCBjaGVja3Mgb2YgdGhlbS5cbiAgcmV0dXJuIG9iamVjdCAhPSBudWxsICYmXG4gICAgKGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpIHx8XG4gICAgICAodHlwZW9mIG9iamVjdCA9PSAnb2JqZWN0JyAmJiBrZXkgaW4gb2JqZWN0ICYmIGdldFByb3RvdHlwZShvYmplY3QpID09PSBudWxsKSk7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ua2V5c2Agd2hpY2ggZG9lc24ndCBza2lwIHRoZSBjb25zdHJ1Y3RvclxuICogcHJvcGVydHkgb2YgcHJvdG90eXBlcyBvciB0cmVhdCBzcGFyc2UgYXJyYXlzIGFzIGRlbnNlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICovXG52YXIgYmFzZUtleXMgPSBvdmVyQXJnKG5hdGl2ZUtleXMsIE9iamVjdCk7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucmVzdGAgd2hpY2ggZG9lc24ndCB2YWxpZGF0ZSBvciBjb2VyY2UgYXJndW1lbnRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhcHBseSBhIHJlc3QgcGFyYW1ldGVyIHRvLlxuICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD1mdW5jLmxlbmd0aC0xXSBUaGUgc3RhcnQgcG9zaXRpb24gb2YgdGhlIHJlc3QgcGFyYW1ldGVyLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGJhc2VSZXN0KGZ1bmMsIHN0YXJ0KSB7XG4gIHN0YXJ0ID0gbmF0aXZlTWF4KHN0YXJ0ID09PSB1bmRlZmluZWQgPyAoZnVuYy5sZW5ndGggLSAxKSA6IHN0YXJ0LCAwKTtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBhcmdzID0gYXJndW1lbnRzLFxuICAgICAgICBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBuYXRpdmVNYXgoYXJncy5sZW5ndGggLSBzdGFydCwgMCksXG4gICAgICAgIGFycmF5ID0gQXJyYXkobGVuZ3RoKTtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBhcnJheVtpbmRleF0gPSBhcmdzW3N0YXJ0ICsgaW5kZXhdO1xuICAgIH1cbiAgICBpbmRleCA9IC0xO1xuICAgIHZhciBvdGhlckFyZ3MgPSBBcnJheShzdGFydCArIDEpO1xuICAgIHdoaWxlICgrK2luZGV4IDwgc3RhcnQpIHtcbiAgICAgIG90aGVyQXJnc1tpbmRleF0gPSBhcmdzW2luZGV4XTtcbiAgICB9XG4gICAgb3RoZXJBcmdzW3N0YXJ0XSA9IGFycmF5O1xuICAgIHJldHVybiBhcHBseShmdW5jLCB0aGlzLCBvdGhlckFyZ3MpO1xuICB9O1xufVxuXG4vKipcbiAqIENvcGllcyBwcm9wZXJ0aWVzIG9mIGBzb3VyY2VgIHRvIGBvYmplY3RgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3QgdG8gY29weSBwcm9wZXJ0aWVzIGZyb20uXG4gKiBAcGFyYW0ge0FycmF5fSBwcm9wcyBUaGUgcHJvcGVydHkgaWRlbnRpZmllcnMgdG8gY29weS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0PXt9XSBUaGUgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyB0by5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvcGllZCB2YWx1ZXMuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICovXG5mdW5jdGlvbiBjb3B5T2JqZWN0KHNvdXJjZSwgcHJvcHMsIG9iamVjdCwgY3VzdG9taXplcikge1xuICBvYmplY3QgfHwgKG9iamVjdCA9IHt9KTtcblxuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IHByb3BzLmxlbmd0aDtcblxuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciBrZXkgPSBwcm9wc1tpbmRleF07XG5cbiAgICB2YXIgbmV3VmFsdWUgPSBjdXN0b21pemVyXG4gICAgICA/IGN1c3RvbWl6ZXIob2JqZWN0W2tleV0sIHNvdXJjZVtrZXldLCBrZXksIG9iamVjdCwgc291cmNlKVxuICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICBhc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgbmV3VmFsdWUgPT09IHVuZGVmaW5lZCA/IHNvdXJjZVtrZXldIDogbmV3VmFsdWUpO1xuICB9XG4gIHJldHVybiBvYmplY3Q7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGxpa2UgYF8uYXNzaWduYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gYXNzaWduZXIgVGhlIGZ1bmN0aW9uIHRvIGFzc2lnbiB2YWx1ZXMuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhc3NpZ25lciBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlQXNzaWduZXIoYXNzaWduZXIpIHtcbiAgcmV0dXJuIGJhc2VSZXN0KGZ1bmN0aW9uKG9iamVjdCwgc291cmNlcykge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBzb3VyY2VzLmxlbmd0aCxcbiAgICAgICAgY3VzdG9taXplciA9IGxlbmd0aCA+IDEgPyBzb3VyY2VzW2xlbmd0aCAtIDFdIDogdW5kZWZpbmVkLFxuICAgICAgICBndWFyZCA9IGxlbmd0aCA+IDIgPyBzb3VyY2VzWzJdIDogdW5kZWZpbmVkO1xuXG4gICAgY3VzdG9taXplciA9IChhc3NpZ25lci5sZW5ndGggPiAzICYmIHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicpXG4gICAgICA/IChsZW5ndGgtLSwgY3VzdG9taXplcilcbiAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgaWYgKGd1YXJkICYmIGlzSXRlcmF0ZWVDYWxsKHNvdXJjZXNbMF0sIHNvdXJjZXNbMV0sIGd1YXJkKSkge1xuICAgICAgY3VzdG9taXplciA9IGxlbmd0aCA8IDMgPyB1bmRlZmluZWQgOiBjdXN0b21pemVyO1xuICAgICAgbGVuZ3RoID0gMTtcbiAgICB9XG4gICAgb2JqZWN0ID0gT2JqZWN0KG9iamVjdCk7XG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIHZhciBzb3VyY2UgPSBzb3VyY2VzW2luZGV4XTtcbiAgICAgIGlmIChzb3VyY2UpIHtcbiAgICAgICAgYXNzaWduZXIob2JqZWN0LCBzb3VyY2UsIGluZGV4LCBjdXN0b21pemVyKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG9iamVjdDtcbiAgfSk7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgXCJsZW5ndGhcIiBwcm9wZXJ0eSB2YWx1ZSBvZiBgb2JqZWN0YC5cbiAqXG4gKiAqKk5vdGU6KiogVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIGF2b2lkIGFcbiAqIFtKSVQgYnVnXShodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTQyNzkyKSB0aGF0IGFmZmVjdHNcbiAqIFNhZmFyaSBvbiBhdCBsZWFzdCBpT1MgOC4xLTguMyBBUk02NC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIFwibGVuZ3RoXCIgdmFsdWUuXG4gKi9cbnZhciBnZXRMZW5ndGggPSBiYXNlUHJvcGVydHkoJ2xlbmd0aCcpO1xuXG4vKipcbiAqIEdldHMgdGhlIGBbW1Byb3RvdHlwZV1dYCBvZiBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtudWxsfE9iamVjdH0gUmV0dXJucyB0aGUgYFtbUHJvdG90eXBlXV1gLlxuICovXG52YXIgZ2V0UHJvdG90eXBlID0gb3ZlckFyZyhuYXRpdmVHZXRQcm90b3R5cGUsIE9iamVjdCk7XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBhcnJheSBvZiBpbmRleCBrZXlzIGZvciBgb2JqZWN0YCB2YWx1ZXMgb2YgYXJyYXlzLFxuICogYGFyZ3VtZW50c2Agb2JqZWN0cywgYW5kIHN0cmluZ3MsIG90aGVyd2lzZSBgbnVsbGAgaXMgcmV0dXJuZWQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheXxudWxsfSBSZXR1cm5zIGluZGV4IGtleXMsIGVsc2UgYG51bGxgLlxuICovXG5mdW5jdGlvbiBpbmRleEtleXMob2JqZWN0KSB7XG4gIHZhciBsZW5ndGggPSBvYmplY3QgPyBvYmplY3QubGVuZ3RoIDogdW5kZWZpbmVkO1xuICBpZiAoaXNMZW5ndGgobGVuZ3RoKSAmJlxuICAgICAgKGlzQXJyYXkob2JqZWN0KSB8fCBpc1N0cmluZyhvYmplY3QpIHx8IGlzQXJndW1lbnRzKG9iamVjdCkpKSB7XG4gICAgcmV0dXJuIGJhc2VUaW1lcyhsZW5ndGgsIFN0cmluZyk7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBhcnJheS1saWtlIGluZGV4LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoPU1BWF9TQUZFX0lOVEVHRVJdIFRoZSB1cHBlciBib3VuZHMgb2YgYSB2YWxpZCBpbmRleC5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgaW5kZXgsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNJbmRleCh2YWx1ZSwgbGVuZ3RoKSB7XG4gIGxlbmd0aCA9IGxlbmd0aCA9PSBudWxsID8gTUFYX1NBRkVfSU5URUdFUiA6IGxlbmd0aDtcbiAgcmV0dXJuICEhbGVuZ3RoICYmXG4gICAgKHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyB8fCByZUlzVWludC50ZXN0KHZhbHVlKSkgJiZcbiAgICAodmFsdWUgPiAtMSAmJiB2YWx1ZSAlIDEgPT0gMCAmJiB2YWx1ZSA8IGxlbmd0aCk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIHRoZSBnaXZlbiBhcmd1bWVudHMgYXJlIGZyb20gYW4gaXRlcmF0ZWUgY2FsbC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgcG90ZW50aWFsIGl0ZXJhdGVlIHZhbHVlIGFyZ3VtZW50LlxuICogQHBhcmFtIHsqfSBpbmRleCBUaGUgcG90ZW50aWFsIGl0ZXJhdGVlIGluZGV4IG9yIGtleSBhcmd1bWVudC5cbiAqIEBwYXJhbSB7Kn0gb2JqZWN0IFRoZSBwb3RlbnRpYWwgaXRlcmF0ZWUgb2JqZWN0IGFyZ3VtZW50LlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBhcmd1bWVudHMgYXJlIGZyb20gYW4gaXRlcmF0ZWUgY2FsbCxcbiAqICBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzSXRlcmF0ZWVDYWxsKHZhbHVlLCBpbmRleCwgb2JqZWN0KSB7XG4gIGlmICghaXNPYmplY3Qob2JqZWN0KSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgdHlwZSA9IHR5cGVvZiBpbmRleDtcbiAgaWYgKHR5cGUgPT0gJ251bWJlcidcbiAgICAgICAgPyAoaXNBcnJheUxpa2Uob2JqZWN0KSAmJiBpc0luZGV4KGluZGV4LCBvYmplY3QubGVuZ3RoKSlcbiAgICAgICAgOiAodHlwZSA9PSAnc3RyaW5nJyAmJiBpbmRleCBpbiBvYmplY3QpXG4gICAgICApIHtcbiAgICByZXR1cm4gZXEob2JqZWN0W2luZGV4XSwgdmFsdWUpO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsaWtlbHkgYSBwcm90b3R5cGUgb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcHJvdG90eXBlLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzUHJvdG90eXBlKHZhbHVlKSB7XG4gIHZhciBDdG9yID0gdmFsdWUgJiYgdmFsdWUuY29uc3RydWN0b3IsXG4gICAgICBwcm90byA9ICh0eXBlb2YgQ3RvciA9PSAnZnVuY3Rpb24nICYmIEN0b3IucHJvdG90eXBlKSB8fCBvYmplY3RQcm90bztcblxuICByZXR1cm4gdmFsdWUgPT09IHByb3RvO1xufVxuXG4vKipcbiAqIFBlcmZvcm1zIGFcbiAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzYuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gKiBjb21wYXJpc29uIGJldHdlZW4gdHdvIHZhbHVlcyB0byBkZXRlcm1pbmUgaWYgdGhleSBhcmUgZXF1aXZhbGVudC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEgfTtcbiAqIHZhciBvdGhlciA9IHsgJ2EnOiAxIH07XG4gKlxuICogXy5lcShvYmplY3QsIG9iamVjdCk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5lcShvYmplY3QsIG90aGVyKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5lcSgnYScsICdhJyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5lcSgnYScsIE9iamVjdCgnYScpKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5lcShOYU4sIE5hTik7XG4gKiAvLyA9PiB0cnVlXG4gKi9cbmZ1bmN0aW9uIGVxKHZhbHVlLCBvdGhlcikge1xuICByZXR1cm4gdmFsdWUgPT09IG90aGVyIHx8ICh2YWx1ZSAhPT0gdmFsdWUgJiYgb3RoZXIgIT09IG90aGVyKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsaWtlbHkgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGBhcmd1bWVudHNgIG9iamVjdCxcbiAqICBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNBcmd1bWVudHMoZnVuY3Rpb24oKSB7IHJldHVybiBhcmd1bWVudHM7IH0oKSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FyZ3VtZW50cyhbMSwgMiwgM10pO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNBcmd1bWVudHModmFsdWUpIHtcbiAgLy8gU2FmYXJpIDguMSBpbmNvcnJlY3RseSBtYWtlcyBgYXJndW1lbnRzLmNhbGxlZWAgZW51bWVyYWJsZSBpbiBzdHJpY3QgbW9kZS5cbiAgcmV0dXJuIGlzQXJyYXlMaWtlT2JqZWN0KHZhbHVlKSAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCAnY2FsbGVlJykgJiZcbiAgICAoIXByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwodmFsdWUsICdjYWxsZWUnKSB8fCBvYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKSA9PSBhcmdzVGFnKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGFuIGBBcnJheWAgb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNBcnJheShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheShkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0FycmF5KCdhYmMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0FycmF5KF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYXJyYXktbGlrZS4gQSB2YWx1ZSBpcyBjb25zaWRlcmVkIGFycmF5LWxpa2UgaWYgaXQnc1xuICogbm90IGEgZnVuY3Rpb24gYW5kIGhhcyBhIGB2YWx1ZS5sZW5ndGhgIHRoYXQncyBhbiBpbnRlZ2VyIGdyZWF0ZXIgdGhhbiBvclxuICogZXF1YWwgdG8gYDBgIGFuZCBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gYE51bWJlci5NQVhfU0FGRV9JTlRFR0VSYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhcnJheS1saWtlLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlKGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoJ2FiYycpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXlMaWtlKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPSBudWxsICYmIGlzTGVuZ3RoKGdldExlbmd0aCh2YWx1ZSkpICYmICFpc0Z1bmN0aW9uKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmlzQXJyYXlMaWtlYCBleGNlcHQgdGhhdCBpdCBhbHNvIGNoZWNrcyBpZiBgdmFsdWVgXG4gKiBpcyBhbiBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXktbGlrZSBvYmplY3QsXG4gKiAgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlT2JqZWN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZU9iamVjdChkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlT2JqZWN0KCdhYmMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0FycmF5TGlrZU9iamVjdChfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNBcnJheUxpa2VPYmplY3QodmFsdWUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgaXNBcnJheUxpa2UodmFsdWUpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgRnVuY3Rpb25gIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGZ1bmN0aW9uLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNGdW5jdGlvbihfKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzRnVuY3Rpb24oL2FiYy8pO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNGdW5jdGlvbih2YWx1ZSkge1xuICAvLyBUaGUgdXNlIG9mIGBPYmplY3QjdG9TdHJpbmdgIGF2b2lkcyBpc3N1ZXMgd2l0aCB0aGUgYHR5cGVvZmAgb3BlcmF0b3JcbiAgLy8gaW4gU2FmYXJpIDggd2hpY2ggcmV0dXJucyAnb2JqZWN0JyBmb3IgdHlwZWQgYXJyYXkgYW5kIHdlYWsgbWFwIGNvbnN0cnVjdG9ycyxcbiAgLy8gYW5kIFBoYW50b21KUyAxLjkgd2hpY2ggcmV0dXJucyAnZnVuY3Rpb24nIGZvciBgTm9kZUxpc3RgIGluc3RhbmNlcy5cbiAgdmFyIHRhZyA9IGlzT2JqZWN0KHZhbHVlKSA/IG9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpIDogJyc7XG4gIHJldHVybiB0YWcgPT0gZnVuY1RhZyB8fCB0YWcgPT0gZ2VuVGFnO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBsZW5ndGguXG4gKlxuICogKipOb3RlOioqIFRoaXMgZnVuY3Rpb24gaXMgbG9vc2VseSBiYXNlZCBvblxuICogW2BUb0xlbmd0aGBdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzYuMC8jc2VjLXRvbGVuZ3RoKS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGxlbmd0aCxcbiAqICBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNMZW5ndGgoMyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0xlbmd0aChOdW1iZXIuTUlOX1ZBTFVFKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0xlbmd0aChJbmZpbml0eSk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNMZW5ndGgoJzMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzTGVuZ3RoKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgJiZcbiAgICB2YWx1ZSA+IC0xICYmIHZhbHVlICUgMSA9PSAwICYmIHZhbHVlIDw9IE1BWF9TQUZFX0lOVEVHRVI7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgdGhlXG4gKiBbbGFuZ3VhZ2UgdHlwZV0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzYuMC8jc2VjLWVjbWFzY3JpcHQtbGFuZ3VhZ2UtdHlwZXMpXG4gKiBvZiBgT2JqZWN0YC4gKGUuZy4gYXJyYXlzLCBmdW5jdGlvbnMsIG9iamVjdHMsIHJlZ2V4ZXMsIGBuZXcgTnVtYmVyKDApYCwgYW5kIGBuZXcgU3RyaW5nKCcnKWApXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3Qoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KF8ubm9vcCk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICByZXR1cm4gISF2YWx1ZSAmJiAodHlwZSA9PSAnb2JqZWN0JyB8fCB0eXBlID09ICdmdW5jdGlvbicpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLiBBIHZhbHVlIGlzIG9iamVjdC1saWtlIGlmIGl0J3Mgbm90IGBudWxsYFxuICogYW5kIGhhcyBhIGB0eXBlb2ZgIHJlc3VsdCBvZiBcIm9iamVjdFwiLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3RMaWtlKHZhbHVlKSB7XG4gIHJldHVybiAhIXZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0Jztcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFN0cmluZ2AgcHJpbWl0aXZlIG9yIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBtZW1iZXJPZiBfXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHN0cmluZywgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzU3RyaW5nKCdhYmMnKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzU3RyaW5nKDEpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNTdHJpbmcodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJyB8fFxuICAgICghaXNBcnJheSh2YWx1ZSkgJiYgaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBvYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKSA9PSBzdHJpbmdUYWcpO1xufVxuXG4vKipcbiAqIEFzc2lnbnMgb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgb2Ygc291cmNlIG9iamVjdHMgdG8gdGhlXG4gKiBkZXN0aW5hdGlvbiBvYmplY3QuIFNvdXJjZSBvYmplY3RzIGFyZSBhcHBsaWVkIGZyb20gbGVmdCB0byByaWdodC5cbiAqIFN1YnNlcXVlbnQgc291cmNlcyBvdmVyd3JpdGUgcHJvcGVydHkgYXNzaWdubWVudHMgb2YgcHJldmlvdXMgc291cmNlcy5cbiAqXG4gKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YCBhbmQgaXMgbG9vc2VseSBiYXNlZCBvblxuICogW2BPYmplY3QuYXNzaWduYF0oaHR0cHM6Ly9tZG4uaW8vT2JqZWN0L2Fzc2lnbikuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEwLjBcbiAqIEBjYXRlZ29yeSBPYmplY3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAqIEBwYXJhbSB7Li4uT2JqZWN0fSBbc291cmNlc10gVGhlIHNvdXJjZSBvYmplY3RzLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAqIEBzZWUgXy5hc3NpZ25JblxuICogQGV4YW1wbGVcbiAqXG4gKiBmdW5jdGlvbiBGb28oKSB7XG4gKiAgIHRoaXMuYSA9IDE7XG4gKiB9XG4gKlxuICogZnVuY3Rpb24gQmFyKCkge1xuICogICB0aGlzLmMgPSAzO1xuICogfVxuICpcbiAqIEZvby5wcm90b3R5cGUuYiA9IDI7XG4gKiBCYXIucHJvdG90eXBlLmQgPSA0O1xuICpcbiAqIF8uYXNzaWduKHsgJ2EnOiAwIH0sIG5ldyBGb28sIG5ldyBCYXIpO1xuICogLy8gPT4geyAnYSc6IDEsICdjJzogMyB9XG4gKi9cbnZhciBhc3NpZ24gPSBjcmVhdGVBc3NpZ25lcihmdW5jdGlvbihvYmplY3QsIHNvdXJjZSkge1xuICBpZiAobm9uRW51bVNoYWRvd3MgfHwgaXNQcm90b3R5cGUoc291cmNlKSB8fCBpc0FycmF5TGlrZShzb3VyY2UpKSB7XG4gICAgY29weU9iamVjdChzb3VyY2UsIGtleXMoc291cmNlKSwgb2JqZWN0KTtcbiAgICByZXR1cm47XG4gIH1cbiAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgYXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHNvdXJjZVtrZXldKTtcbiAgICB9XG4gIH1cbn0pO1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIG9mIGBvYmplY3RgLlxuICpcbiAqICoqTm90ZToqKiBOb24tb2JqZWN0IHZhbHVlcyBhcmUgY29lcmNlZCB0byBvYmplY3RzLiBTZWUgdGhlXG4gKiBbRVMgc3BlY10oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNi4wLyNzZWMtb2JqZWN0LmtleXMpXG4gKiBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBzaW5jZSAwLjEuMFxuICogQG1lbWJlck9mIF9cbiAqIEBjYXRlZ29yeSBPYmplY3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gKiBAZXhhbXBsZVxuICpcbiAqIGZ1bmN0aW9uIEZvbygpIHtcbiAqICAgdGhpcy5hID0gMTtcbiAqICAgdGhpcy5iID0gMjtcbiAqIH1cbiAqXG4gKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICpcbiAqIF8ua2V5cyhuZXcgRm9vKTtcbiAqIC8vID0+IFsnYScsICdiJ10gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAqXG4gKiBfLmtleXMoJ2hpJyk7XG4gKiAvLyA9PiBbJzAnLCAnMSddXG4gKi9cbmZ1bmN0aW9uIGtleXMob2JqZWN0KSB7XG4gIHZhciBpc1Byb3RvID0gaXNQcm90b3R5cGUob2JqZWN0KTtcbiAgaWYgKCEoaXNQcm90byB8fCBpc0FycmF5TGlrZShvYmplY3QpKSkge1xuICAgIHJldHVybiBiYXNlS2V5cyhvYmplY3QpO1xuICB9XG4gIHZhciBpbmRleGVzID0gaW5kZXhLZXlzKG9iamVjdCksXG4gICAgICBza2lwSW5kZXhlcyA9ICEhaW5kZXhlcyxcbiAgICAgIHJlc3VsdCA9IGluZGV4ZXMgfHwgW10sXG4gICAgICBsZW5ndGggPSByZXN1bHQubGVuZ3RoO1xuXG4gIGZvciAodmFyIGtleSBpbiBvYmplY3QpIHtcbiAgICBpZiAoYmFzZUhhcyhvYmplY3QsIGtleSkgJiZcbiAgICAgICAgIShza2lwSW5kZXhlcyAmJiAoa2V5ID09ICdsZW5ndGgnIHx8IGlzSW5kZXgoa2V5LCBsZW5ndGgpKSkgJiZcbiAgICAgICAgIShpc1Byb3RvICYmIGtleSA9PSAnY29uc3RydWN0b3InKSkge1xuICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBhc3NpZ247XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9sb2Rhc2guYXNzaWduL2luZGV4LmpzXG4gKiogbW9kdWxlIGlkID0gMjRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7IHRocm93IG5ldyBFcnJvcihcImRlZmluZSBjYW5ub3QgYmUgdXNlZCBpbmRpcmVjdFwiKTsgfTtcclxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAod2VicGFjaykvYnVpbGRpbi9hbWQtZGVmaW5lLmpzXG4gKiogbW9kdWxlIGlkID0gMjVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obW9kdWxlKSB7XHJcblx0aWYoIW1vZHVsZS53ZWJwYWNrUG9seWZpbGwpIHtcclxuXHRcdG1vZHVsZS5kZXByZWNhdGUgPSBmdW5jdGlvbigpIHt9O1xyXG5cdFx0bW9kdWxlLnBhdGhzID0gW107XHJcblx0XHQvLyBtb2R1bGUucGFyZW50ID0gdW5kZWZpbmVkIGJ5IGRlZmF1bHRcclxuXHRcdG1vZHVsZS5jaGlsZHJlbiA9IFtdO1xyXG5cdFx0bW9kdWxlLndlYnBhY2tQb2x5ZmlsbCA9IDE7XHJcblx0fVxyXG5cdHJldHVybiBtb2R1bGU7XHJcbn1cclxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAod2VicGFjaykvYnVpbGRpbi9tb2R1bGUuanNcbiAqKiBtb2R1bGUgaWQgPSAyNlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLyogKGlnbm9yZWQpICovXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiB2ZXJ0eCAoaWdub3JlZClcbiAqKiBtb2R1bGUgaWQgPSAyN1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==\n\n/***/ },\n/* 7 */\n/*!******************************!*\\\n  !*** ./src/profile/index.js ***!\n  \\******************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n\t*\n\t* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n\t* in compliance with the License. You may obtain a copy of the License at\n\t*\n\t* http://www.apache.org/licenses/LICENSE-2.0\n\t*\n\t* Unless required by applicable law or agreed to in writing, software distributed under the License\n\t* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n\t* or implied. See the License for the specific language governing permissions and limitations under\n\t* the License.\n\t*/\n\t\n\tvar BotSDK = __webpack_require__(/*! @watson-virtual-agent/client-sdk/lib/web */ 6);\n\tvar profile = BotSDK.profile;\n\t\n\tmodule.exports = profile;\n\n\n/***/ },\n/* 8 */\n/*!***********************!*\\\n  !*** ./src/styles.js ***!\n  \\***********************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\n\t* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n\t*\n\t* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n\t* in compliance with the License. You may obtain a copy of the License at\n\t*\n\t* http://www.apache.org/licenses/LICENSE-2.0\n\t*\n\t* Unless required by applicable law or agreed to in writing, software distributed under the License\n\t* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n\t* or implied. See the License for the specific language governing permissions and limitations under\n\t* the License.\n\t*/\n\t\n\tvar state = __webpack_require__(/*! ./state */ 2);\n\tvar css = __webpack_require__(/*! ./styles.css */ 41);\n\t\n\tvar defaultStyles = {\n\t  background: 'rgba(61, 61, 61, 1)',\n\t  accentBackground: '#BA8FF7',\n\t  accentText: '#ffffff',\n\t  text: '#ffffff',\n\t  link: '#AF6EE8',\n\t  secondaryBackground: 'rgba(90, 90, 90, 1)',\n\t  secondaryText: 'rgba(247, 247, 247, 1)',\n\t  inputBackground: 'rgba(90, 90, 90, 1)',\n\t  inputText: 'rgba(247, 247, 247, 1)',\n\t  errorBackground: '#e86e6e',\n\t  errorText: '#ffffff',\n\t  fontSize: '15px',\n\t  fontFamily: '\"Helvetica Neue\",HelveticaNeue,Helvetica,sans-serif'\n\t};\n\t\n\tfunction _attachStylesToDOM(styles, current) {\n\t  var css = document.createElement('style');\n\t  css.type = \"text/css\";\n\t  css.classList.add('styles-' + current.chatStyleID);\n\t  if (css.styleSheet)\n\t    css.styleSheet.cssText = styles;\n\t  else\n\t    css.appendChild(document.createTextNode(styles));\n\t  document.getElementsByTagName(\"head\")[0].appendChild(css);\n\t}\n\t\n\tfunction _getStyles(current) {\n\t  var containerClass = \".\" + current.chatStyleID;\n\t  var noOpacityBackgroundArray = _hexToRGBArray(normalizeToHex(current.styles.background));\n\t  var noOpacityBackground = \"rgba(\" + noOpacityBackgroundArray[0] + \",\" + noOpacityBackgroundArray[1] + \",\" + noOpacityBackgroundArray[2] + \",0.8)\";\n\t  var opacityBackground = \"rgba(\" + noOpacityBackgroundArray[0] + \",\" + noOpacityBackgroundArray[1] + \",\" + noOpacityBackgroundArray[2] + \",0)\";\n\t  var styles = '';\n\t  styles += containerClass + \"{ overflow:hidden;}\";\n\t  styles += containerClass + \" .IBMChat-outer-container {font-size: \" + current.styles.fontSize + \"; line-height: \" + current.styles.fontSize + \"; font-family: \" + current.styles.fontFamily + \";}\";\n\t  styles += containerClass + \" .IBMChat-outer-container textarea {font-size: \" + current.styles.fontSize + \"; font-family: \" + current.styles.fontFamily + \";}\";\n\t  styles += containerClass + \" .IBMChat-default-colors {background-color: \" + current.styles.background + \"; color: \" + current.styles.text + \";}\";\n\t  styles += containerClass + \" .IBMChat-secondary-colors {background-color: \" + current.styles.secondaryBackground + \"; color: \" + current.styles.secondaryText + \";}\";\n\t  styles += containerClass + \" .IBMChat-secondary-colors-button {background-color: transparent; border: 1px solid \" + current.styles.secondaryBackground + \"; color: \" + current.styles.secondaryBackground + \";}\";\n\t  styles += containerClass + \" .IBMChat-accent-colors {background-color: \" + current.styles.accentBackground + \"; border: 1px solid \" + current.styles.accentBackground + \"; color: \" + current.styles.accentText + \";}\";\n\t  styles += containerClass + \" .IBMChat-accent-colors-button {background-color: transparent; border: 1px solid \" + current.styles.accentBackground + \"; color: \" + current.styles.accentBackground + \";}\";\n\t  styles += containerClass + \" .IBMChat-accent-colors-button:hover {background-color: \" + current.styles.accentBackground + \"; border: 1px solid \" + current.styles.accentBackground + \"; color: \" + current.styles.accentText + \";}\";\n\t  styles += containerClass + \" .IBMChat-accent-colors-button[disabled]:hover {background-color: transparent; border: 1px solid \" + current.styles.accentBackground + \"; color: \" + current.styles.accentBackground + \";}\";\n\t  styles += containerClass + \" .IBMChat-error-colors {background-color: \" + current.styles.errorBackground + \"; color: \" + current.styles.errorText + \";}\";\n\t  styles += containerClass + \" .IBMChat-input-colors {background-color: \" + current.styles.inputBackground + \"; color: \" + current.styles.inputText + \"; border-bottom: 1px solid \" + current.styles.inputText + \";}\";\n\t  styles += containerClass + \" .IBMChat-watson-message-line {border-left: 3px solid \" + current.styles.accentBackground + \";}\";\n\t  styles += containerClass + \" a {border: 0; color: \" + current.styles.link + \"; font-weight: normal; text-decoration: none; font-size:1em;}\";\n\t  styles += containerClass + \" a:hover, \";\n\t  styles += containerClass + \" a:visited, \";\n\t  styles += containerClass + \" a:active {color: \" + current.styles.link + \"; font-weight: normal; text-decoration: underline; font-size:1em;}\";\n\t  styles += containerClass + \" .IBMChat-chat-textbox {border-bottom: solid 1px \" + current.styles.text + \";}\";\n\t  styles += containerClass + \" .IBMChat-chat-textbox:focus {border-bottom: solid 2px \" + current.styles.accentBackground + \";}\";\n\t  styles += containerClass + \" ::-webkit-input-placeholder {color: \" + _placeHolderColor(current.styles.inputText, current.styles.inputBackground) + \";}\";\n\t  styles += containerClass + \" ::-moz-placeholder {color: \" + _placeHolderColor(current.styles.inputText, current.styles.inputBackground) + \"; opacity: 1;}\";\n\t  styles += containerClass + \" :-ms-input-placeholder {color: \" + _placeHolderColor(current.styles.inputText, current.styles.inputBackground) + \"; opacity: 1;}\";\n\t  styles += containerClass + \" .IBMChat-ball {fill: \" + normalizeToHex(current.styles.accentBackground) + \";}\";\n\t  styles += containerClass + \" .IBMChat-fade {left: 0; height: 10%; max-height: 32px; position: absolute; top: 0; width: 100%; z-index: 2; background: linear-gradient(to bottom, \" + noOpacityBackground + \" 0%, \" + opacityBackground + \" 100%);}\";\n\t  styles += containerClass + \" .IBMChat-loading-message {color: \" + _placeHolderColor(current.styles.inputText, current.styles.inputBackground) + \";}\";\n\t  return styles;\n\t}\n\t\n\tfunction _placeHolderColor(text, background) {\n\t  var rgb_beginning = _hexToRGBArray(normalizeToHex(text)),\n\t    rgb_end = _hexToRGBArray(normalizeToHex(background)),\n\t    p = 0.6,\n\t    w = p * 2 - 1,\n\t    w1 = (w + 1) / 2.0,\n\t    w2 = 1 - w1,\n\t    rgb = [\n\t      parseInt(rgb_beginning[0] * w1 + rgb_end[0] * w2),\n\t      parseInt(rgb_beginning[1] * w1 + rgb_end[1] * w2),\n\t      parseInt(rgb_beginning[2] * w1 + rgb_end[2] * w2)\n\t    ];\n\t  var rgba = 'rgb(' + rgb[0] + ',' + rgb[1] + ',' + rgb[2] + ')';\n\t  return normalizeToHex(rgba);\n\t}\n\t\n\tfunction normalizeToHex(color) {\n\t  function rgb2hex(rgb) {\n\t    rgb = rgb.match(/^rgba?[\\s+]?\\([\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?/i);\n\t    return (rgb && rgb.length === 4) ?\n\t      (\"0\" + parseInt(rgb[1], 10).toString(16)).slice(-2) +\n\t      (\"0\" + parseInt(rgb[2], 10).toString(16)).slice(-2) +\n\t      (\"0\" + parseInt(rgb[3], 10).toString(16)).slice(-2) : '';\n\t  }\n\t  if (color.indexOf('#') > -1)\n\t    return color;\n\t  else\n\t    return '#' + rgb2hex(color);\n\t}\n\t\n\tfunction _hexToRGBArray(hex) {\n\t  var rgb = [];\n\t  hex = hex.replace('#', '');\n\t  rgb.push(parseInt(hex.substring(0, 2), 16));\n\t  rgb.push(parseInt(hex.substring(2, 4), 16));\n\t  rgb.push(parseInt(hex.substring(4, 6), 16));\n\t  return rgb;\n\t}\n\t\n\tfunction convertHexToRGBA(hex, opacity) {\n\t  var rgb = _hexToRGBArray(hex),\n\t    r = rgb[0],\n\t    g = rgb[1],\n\t    b = rgb[2];\n\t  return 'rgba(' + r + ',' + g + ',' + b + ',' + opacity / 100 + ')';\n\t}\n\t\n\t\n\tfunction attachPlaybackStyles(chatID) {\n\t  var current = state.get()[chatID];\n\t  var styles = _getStyles(current);\n\t  _attachStylesToDOM(styles);\n\t}\n\t\n\tfunction attachStyles() {\n\t  var current = state.get();\n\t  var styles = _getStyles(current);\n\t  _attachStylesToDOM(css, current);\n\t  _attachStylesToDOM(styles, current);\n\t}\n\t\n\tfunction removeStyles() {\n\t  var current = state.get();\n\t  var elements = document.querySelectorAll('.styles-' + current.chatStyleID);\n\t  elements.forEach(function(element) {\n\t    element.parentNode.removeChild(element);\n\t  });\n\t  current.root.classList.remove('IBMChat-isLarge', 'IBMChat-relative', current.chatStyleID, 'chatID-' + current.chatID);\n\t}\n\t\n\tmodule.exports = {\n\t  defaultStyles: defaultStyles,\n\t  attachStyles: attachStyles,\n\t  removeStyles: removeStyles,\n\t  attachPlaybackStyles: attachPlaybackStyles,\n\t  convertHexToRGBA: convertHexToRGBA,\n\t  normalizeToHex: normalizeToHex\n\t};\n\n\n/***/ },\n/* 9 */\n/*!**********************************!*\\\n  !*** ./~/lodash/_assignValue.js ***!\n  \\**********************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar eq = __webpack_require__(/*! ./eq */ 17);\n\t\n\t/** Used for built-in method references. */\n\tvar objectProto = Object.prototype;\n\t\n\t/** Used to check objects for own properties. */\n\tvar hasOwnProperty = objectProto.hasOwnProperty;\n\t\n\t/**\n\t * Assigns `value` to `key` of `object` if the existing value is not equivalent\n\t * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n\t * for equality comparisons.\n\t *\n\t * @private\n\t * @param {Object} object The object to modify.\n\t * @param {string} key The key of the property to assign.\n\t * @param {*} value The value to assign.\n\t */\n\tfunction assignValue(object, key, value) {\n\t  var objValue = object[key];\n\t  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n\t      (value === undefined && !(key in object))) {\n\t    object[key] = value;\n\t  }\n\t}\n\t\n\tmodule.exports = assignValue;\n\n\n/***/ },\n/* 10 */\n/*!****************************!*\\\n  !*** ./~/lodash/_apply.js ***!\n  \\****************************/\n/***/ function(module, exports) {\n\n\t/**\n\t * A faster alternative to `Function#apply`, this function invokes `func`\n\t * with the `this` binding of `thisArg` and the arguments of `args`.\n\t *\n\t * @private\n\t * @param {Function} func The function to invoke.\n\t * @param {*} thisArg The `this` binding of `func`.\n\t * @param {Array} args The arguments to invoke `func` with.\n\t * @returns {*} Returns the result of `func`.\n\t */\n\tfunction apply(func, thisArg, args) {\n\t  switch (args.length) {\n\t    case 0: return func.call(thisArg);\n\t    case 1: return func.call(thisArg, args[0]);\n\t    case 2: return func.call(thisArg, args[0], args[1]);\n\t    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n\t  }\n\t  return func.apply(thisArg, args);\n\t}\n\t\n\tmodule.exports = apply;\n\n\n/***/ },\n/* 11 */\n/*!*******************************!*\\\n  !*** ./~/lodash/_baseRest.js ***!\n  \\*******************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar apply = __webpack_require__(/*! ./_apply */ 10);\n\t\n\t/* Built-in method references for those with the same name as other `lodash` methods. */\n\tvar nativeMax = Math.max;\n\t\n\t/**\n\t * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n\t *\n\t * @private\n\t * @param {Function} func The function to apply a rest parameter to.\n\t * @param {number} [start=func.length-1] The start position of the rest parameter.\n\t * @returns {Function} Returns the new function.\n\t */\n\tfunction baseRest(func, start) {\n\t  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n\t  return function() {\n\t    var args = arguments,\n\t        index = -1,\n\t        length = nativeMax(args.length - start, 0),\n\t        array = Array(length);\n\t\n\t    while (++index < length) {\n\t      array[index] = args[start + index];\n\t    }\n\t    index = -1;\n\t    var otherArgs = Array(start + 1);\n\t    while (++index < start) {\n\t      otherArgs[index] = args[index];\n\t    }\n\t    otherArgs[start] = array;\n\t    return apply(func, this, otherArgs);\n\t  };\n\t}\n\t\n\tmodule.exports = baseRest;\n\n\n/***/ },\n/* 12 */\n/*!*********************************!*\\\n  !*** ./~/lodash/_copyObject.js ***!\n  \\*********************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar assignValue = __webpack_require__(/*! ./_assignValue */ 9);\n\t\n\t/**\n\t * Copies properties of `source` to `object`.\n\t *\n\t * @private\n\t * @param {Object} source The object to copy properties from.\n\t * @param {Array} props The property identifiers to copy.\n\t * @param {Object} [object={}] The object to copy properties to.\n\t * @param {Function} [customizer] The function to customize copied values.\n\t * @returns {Object} Returns `object`.\n\t */\n\tfunction copyObject(source, props, object, customizer) {\n\t  object || (object = {});\n\t\n\t  var index = -1,\n\t      length = props.length;\n\t\n\t  while (++index < length) {\n\t    var key = props[index];\n\t\n\t    var newValue = customizer\n\t      ? customizer(object[key], source[key], key, object, source)\n\t      : undefined;\n\t\n\t    assignValue(object, key, newValue === undefined ? source[key] : newValue);\n\t  }\n\t  return object;\n\t}\n\t\n\tmodule.exports = copyObject;\n\n\n/***/ },\n/* 13 */\n/*!*************************************!*\\\n  !*** ./~/lodash/_createAssigner.js ***!\n  \\*************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar baseRest = __webpack_require__(/*! ./_baseRest */ 11),\n\t    isIterateeCall = __webpack_require__(/*! ./_isIterateeCall */ 14);\n\t\n\t/**\n\t * Creates a function like `_.assign`.\n\t *\n\t * @private\n\t * @param {Function} assigner The function to assign values.\n\t * @returns {Function} Returns the new assigner function.\n\t */\n\tfunction createAssigner(assigner) {\n\t  return baseRest(function(object, sources) {\n\t    var index = -1,\n\t        length = sources.length,\n\t        customizer = length > 1 ? sources[length - 1] : undefined,\n\t        guard = length > 2 ? sources[2] : undefined;\n\t\n\t    customizer = (assigner.length > 3 && typeof customizer == 'function')\n\t      ? (length--, customizer)\n\t      : undefined;\n\t\n\t    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n\t      customizer = length < 3 ? undefined : customizer;\n\t      length = 1;\n\t    }\n\t    object = Object(object);\n\t    while (++index < length) {\n\t      var source = sources[index];\n\t      if (source) {\n\t        assigner(object, source, index, customizer);\n\t      }\n\t    }\n\t    return object;\n\t  });\n\t}\n\t\n\tmodule.exports = createAssigner;\n\n\n/***/ },\n/* 14 */\n/*!*************************************!*\\\n  !*** ./~/lodash/_isIterateeCall.js ***!\n  \\*************************************/\n/***/ function(module, exports) {\n\n\t/**\n\t * This method returns `false`.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 4.13.0\n\t * @category Util\n\t * @returns {boolean} Returns `false`.\n\t * @example\n\t *\n\t * _.times(2, _.stubFalse);\n\t * // => [false, false]\n\t */\n\tfunction stubFalse() {\n\t  return false;\n\t}\n\t\n\tmodule.exports = stubFalse;\n\n\n/***/ },\n/* 15 */\n/*!**********************************!*\\\n  !*** ./~/lodash/_isPrototype.js ***!\n  \\**********************************/\n14,\n/* 16 */\n/*!******************************!*\\\n  !*** ./~/lodash/_overArg.js ***!\n  \\******************************/\n/***/ function(module, exports) {\n\n\t/**\n\t * Creates a unary function that invokes `func` with its argument transformed.\n\t *\n\t * @private\n\t * @param {Function} func The function to wrap.\n\t * @param {Function} transform The argument transform.\n\t * @returns {Function} Returns the new function.\n\t */\n\tfunction overArg(func, transform) {\n\t  return function(arg) {\n\t    return func(transform(arg));\n\t  };\n\t}\n\t\n\tmodule.exports = overArg;\n\n\n/***/ },\n/* 17 */\n/*!************************!*\\\n  !*** ./~/lodash/eq.js ***!\n  \\************************/\n/***/ function(module, exports) {\n\n\t/**\n\t * Performs a\n\t * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n\t * comparison between two values to determine if they are equivalent.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 4.0.0\n\t * @category Lang\n\t * @param {*} value The value to compare.\n\t * @param {*} other The other value to compare.\n\t * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n\t * @example\n\t *\n\t * var object = { 'a': 1 };\n\t * var other = { 'a': 1 };\n\t *\n\t * _.eq(object, object);\n\t * // => true\n\t *\n\t * _.eq(object, other);\n\t * // => false\n\t *\n\t * _.eq('a', 'a');\n\t * // => true\n\t *\n\t * _.eq('a', Object('a'));\n\t * // => false\n\t *\n\t * _.eq(NaN, NaN);\n\t * // => true\n\t */\n\tfunction eq(value, other) {\n\t  return value === other || (value !== value && other !== other);\n\t}\n\t\n\tmodule.exports = eq;\n\n\n/***/ },\n/* 18 */\n/*!*********************************!*\\\n  !*** ./~/lodash/isArrayLike.js ***!\n  \\*********************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar isFunction = __webpack_require__(/*! ./isFunction */ 19),\n\t    isLength = __webpack_require__(/*! ./isLength */ 20);\n\t\n\t/**\n\t * Checks if `value` is array-like. A value is considered array-like if it's\n\t * not a function and has a `value.length` that's an integer greater than or\n\t * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 4.0.0\n\t * @category Lang\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n\t * @example\n\t *\n\t * _.isArrayLike([1, 2, 3]);\n\t * // => true\n\t *\n\t * _.isArrayLike(document.body.children);\n\t * // => true\n\t *\n\t * _.isArrayLike('abc');\n\t * // => true\n\t *\n\t * _.isArrayLike(_.noop);\n\t * // => false\n\t */\n\tfunction isArrayLike(value) {\n\t  return value != null && isLength(value.length) && !isFunction(value);\n\t}\n\t\n\tmodule.exports = isArrayLike;\n\n\n/***/ },\n/* 19 */\n/*!********************************!*\\\n  !*** ./~/lodash/isFunction.js ***!\n  \\********************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar isObject = __webpack_require__(/*! ./isObject */ 21);\n\t\n\t/** `Object#toString` result references. */\n\tvar funcTag = '[object Function]',\n\t    genTag = '[object GeneratorFunction]';\n\t\n\t/** Used for built-in method references. */\n\tvar objectProto = Object.prototype;\n\t\n\t/**\n\t * Used to resolve the\n\t * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n\t * of values.\n\t */\n\tvar objectToString = objectProto.toString;\n\t\n\t/**\n\t * Checks if `value` is classified as a `Function` object.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 0.1.0\n\t * @category Lang\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n\t * @example\n\t *\n\t * _.isFunction(_);\n\t * // => true\n\t *\n\t * _.isFunction(/abc/);\n\t * // => false\n\t */\n\tfunction isFunction(value) {\n\t  // The use of `Object#toString` avoids issues with the `typeof` operator\n\t  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n\t  var tag = isObject(value) ? objectToString.call(value) : '';\n\t  return tag == funcTag || tag == genTag;\n\t}\n\t\n\tmodule.exports = isFunction;\n\n\n/***/ },\n/* 20 */\n/*!******************************!*\\\n  !*** ./~/lodash/isLength.js ***!\n  \\******************************/\n/***/ function(module, exports) {\n\n\t/** Used as references for various `Number` constants. */\n\tvar MAX_SAFE_INTEGER = 9007199254740991;\n\t\n\t/**\n\t * Checks if `value` is a valid array-like length.\n\t *\n\t * **Note:** This method is loosely based on\n\t * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 4.0.0\n\t * @category Lang\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n\t * @example\n\t *\n\t * _.isLength(3);\n\t * // => true\n\t *\n\t * _.isLength(Number.MIN_VALUE);\n\t * // => false\n\t *\n\t * _.isLength(Infinity);\n\t * // => false\n\t *\n\t * _.isLength('3');\n\t * // => false\n\t */\n\tfunction isLength(value) {\n\t  return typeof value == 'number' &&\n\t    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n\t}\n\t\n\tmodule.exports = isLength;\n\n\n/***/ },\n/* 21 */\n/*!******************************!*\\\n  !*** ./~/lodash/isObject.js ***!\n  \\******************************/\n/***/ function(module, exports) {\n\n\t/**\n\t * Checks if `value` is the\n\t * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n\t * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 0.1.0\n\t * @category Lang\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n\t * @example\n\t *\n\t * _.isObject({});\n\t * // => true\n\t *\n\t * _.isObject([1, 2, 3]);\n\t * // => true\n\t *\n\t * _.isObject(_.noop);\n\t * // => true\n\t *\n\t * _.isObject(null);\n\t * // => false\n\t */\n\tfunction isObject(value) {\n\t  var type = typeof value;\n\t  return !!value && (type == 'object' || type == 'function');\n\t}\n\t\n\tmodule.exports = isObject;\n\n\n/***/ },\n/* 22 */\n/*!**************************!*\\\n  !*** ./~/lodash/keys.js ***!\n  \\**************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar overArg = __webpack_require__(/*! ./_overArg */ 16);\n\t\n\t/* Built-in method references for those with the same name as other `lodash` methods. */\n\tvar nativeKeys = overArg(Object.keys, Object);\n\t\n\tmodule.exports = nativeKeys;\n\n\n/***/ },\n/* 23 */\n/*!******************************************************!*\\\n  !*** ./src/layouts/cc-validator/templates/base.html ***!\n  \\******************************************************/\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"${ns}-container IBMChat-secondary-colors\\\"> <div class=\\\"${ns}-row\\\"> <fieldset aria-describedby=\\\"cc_full_name_${uuid}_error\\\"> <label class=\\\"IBMChat-screen-reader-text\\\" for=\\\"cc_full_name_${uuid}\\\">Name on Card</label> <input type=\\\"text\\\" class=\\\"IBMChat-input-colors\\\" id=\\\"cc_full_name_${uuid}\\\" name=\\\"cc_full_name\\\" placeholder=\\\"Name on Card\\\"/> <div id=\\\"cc_full_name_${uuid}_error\\\" class=\\\"IBMChat-validation-error IBMChat-error-colors\\\" data-validation-for=\\\"cc_full_name\\\" data-valid=\\\"true\\\" style=\\\"display:none;\\\"></div> </fieldset> </div> <div class=\\\"${ns}-row\\\"> <fieldset aria-describedby=\\\"cc_number_${uuid}_error\\\"> <label class=\\\"IBMChat-screen-reader-text\\\" for=\\\"cc_number_${uuid}\\\">Credit Card Number</label> <input type=\\\"text\\\" class=\\\"IBMChat-input-colors\\\" id=\\\"cc_number_${uuid}\\\" name=\\\"cc_number\\\" placeholder=\\\"Credit Card Number\\\"/> <div id=\\\"cc_number_${uuid}_error\\\" class=\\\"IBMChat-validation-error IBMChat-error-colors\\\" data-validation-for=\\\"cc_number\\\" data-valid=\\\"true\\\" style=\\\"display:none;\\\"></div> </fieldset> </div> <div class=\\\"${ns}-row\\\"> <div class=\\\"${ns}-col\\\"> <fieldset aria-describedby=\\\"cc_exp_date_${uuid}_error\\\"> <label class=\\\"IBMChat-screen-reader-text\\\" for=\\\"cc_exp_date_month_${uuid}\\\">Expiration Date Month</label> <input class=\\\"${ns}-date IBMChat-input-colors\\\" type=\\\"text\\\" id=\\\"cc_exp_date_month_${uuid}\\\" name=\\\"cc_exp_date_month\\\" placeholder=\\\"MM\\\" size=\\\"3\\\" /> <label class=\\\"IBMChat-screen-reader-text\\\" for=\\\"cc_exp_date_year_${uuid}\\\">Expiration Date Year</label> <input class=\\\"${ns}-date IBMChat-input-colors\\\" type=\\\"text\\\" id=\\\"cc_exp_date_year_${uuid}\\\" name=\\\"cc_exp_date_year\\\" placeholder=\\\"YYYY\\\" size=\\\"5\\\" /> </fieldset> </div> <div class=\\\"${ns}-col\\\"> <fieldset aria-describedby=\\\"cc_code_${uuid}_error\\\"> <label class=\\\"IBMChat-screen-reader-text\\\" for=\\\"cc_code_${uuid}\\\">CVV</label> <input class=\\\"${ns}-cvv IBMChat-input-colors\\\" type=\\\"text\\\" id=\\\"cc_code_${uuid}\\\" name=\\\"cc_code\\\" placeholder=\\\"CVV\\\" size=\\\"5\\\"/> </fieldset> </div> <div id=\\\"cc_exp_date_${uuid}_error\\\" class=\\\"IBMChat-validation-error IBMChat-error-colors\\\" data-validation-for=\\\"cc_exp_date\\\" data-valid=\\\"true\\\" style=\\\"display:none;\\\"></div> <div id=\\\"cc_code_${uuid}_error\\\" class=\\\"IBMChat-validation-error IBMChat-error-colors\\\" data-validation-for=\\\"cc_code\\\" data-valid=\\\"true\\\" style=\\\"display:none;\\\"></div> </div> <div class=\\\"${ns}-buttons\\\"> <button class=\\\"${ns}-cancel\\\">Cancel</button> <button class=\\\"${ns}-submit\\\">Submit</button> </div></div>\"\n\n/***/ },\n/* 24 */\n/*!**************************************************************!*\\\n  !*** ./src/layouts/choose-location-type/templates/base.html ***!\n  \\**************************************************************/\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"${ns}-container\\\"> <div><button class=\\\"IBMChat-accent-colors-button\\\" data-input=\\\"${values.geolocation}\\\">Current Location</button></div> <div><button class=\\\"IBMChat-accent-colors-button\\\" data-input=\\\"${values.postalcode}\\\">Zip Code</button></div></div>\"\n\n/***/ },\n/* 25 */\n/*!**************************************************!*\\\n  !*** ./src/layouts/choose/templates/button.html ***!\n  \\**************************************************/\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<button class=\\\"IBMChat-accent-colors-button\\\" data-input=\\\"${text}\\\">${text}</button>\"\n\n/***/ },\n/* 26 */\n/*!**************************************************!*\\\n  !*** ./src/layouts/choose/templates/submit.html ***!\n  \\**************************************************/\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<button>${text}</button>\"\n\n/***/ },\n/* 27 */\n/*!***********************************************!*\\\n  !*** ./src/layouts/error/templates/base.html ***!\n  \\***********************************************/\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"IBMChat-error IBMChat-error-colors\\\"></div>\"\n\n/***/ },\n/* 28 */\n/*!**********************************************!*\\\n  !*** ./src/layouts/form/templates/base.html ***!\n  \\**********************************************/\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"IBMChat-form-container IBMChat-secondary-colors\\\"> <div class=\\\"IBMChat-form-fields\\\"></div> <div class=\\\"IBMChat-form-buttons\\\"> <button class=\\\"IBMChat-form-cancel\\\">${cancel}</button> <button class=\\\"IBMChat-form-submit\\\">${submit}</button> </div></div>\"\n\n/***/ },\n/* 29 */\n/*!***********************************************!*\\\n  !*** ./src/layouts/form/templates/field.html ***!\n  \\***********************************************/\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<fieldset aria-describedby=\\\"${name}_${uuid}_error\\\"> <label for=\\\"${name}_${uuid}\\\">${label}</label> <input type=\\\"${type}\\\" class=\\\"IBMChat-input-colors\\\" id=\\\"${name}_${uuid}\\\" name=\\\"${name}\\\" value=\\\"${value}\\\" data-index=\\\"${index}\\\"/> <div id=\\\"${name}_${uuid}_error\\\" class=\\\"IBMChat-validation-error IBMChat-error-colors\\\" style=\\\"display:none;\\\" data-validation-for=\\\"${name}\\\" data-valid=\\\"true\\\"></div></fieldset>\"\n\n/***/ },\n/* 30 */\n/*!*********************************************************************!*\\\n  !*** ./src/layouts/show-locations/templates/add-location-item.html ***!\n  \\*********************************************************************/\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"${ns}-locations-item ${ns}-data-section\\\"> <div class=\\\"${ns}-locations-item-data-title\\\"></div> <div class=\\\"${ns}-data-float-holder\\\"> <div class=\\\"${ns}-locations-item-data\\\"> <div class=\\\"${ns}-locations-item-data-items\\\"> <div class=\\\"${ns}-locations-item-data-section\\\"> <a class=\\\"${ns}-locations-item-data-address-link\\\"> <div class=\\\"${ns}-locations-item-data-address\\\"></div> </a> </div> <div class=\\\"IBMChat-small-hide\\\"> <div class=\\\"${ns}-locations-item-data-hours\\\"></div> <div class=\\\"${ns}-locations-item-data-timezone\\\"></div> <div class=\\\"${ns}-locations-item-data-more-hours\\\"></div> </div> </div> </div> <div class=\\\"${ns}-locations-item-data\\\"> <div class=\\\"${ns}-locations-item-data-items\\\"> <div class=\\\"${ns}-locations-item-data-phone\\\"></div> <div class=\\\"${ns}-locations-item-data-email\\\"></div> </div> </div> <div class=\\\"${ns}-locations-item-distance\\\"></div> </div> <div> <div class=\\\"${ns}-locations-item-data-items\\\"> <div class=\\\"IBMChat-small-show\\\"> <div class=\\\"${ns}-locations-item-data-hours\\\"></div> <div class=\\\"${ns}-locations-item-data-timezone\\\"></div> <div class=\\\"${ns}-locations-item-data-more-hours\\\"></div> </div> </div> <div class=\\\"${ns}-locations-all-holder\\\"> <button class=\\\"${ns}-locations-all IBMChat-accent-colors-button\\\">All Locations</button> </div> </div></div>\"\n\n/***/ },\n/* 31 */\n/*!**********************************************************************!*\\\n  !*** ./src/layouts/show-locations/templates/add-locations-item.html ***!\n  \\**********************************************************************/\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<button aria-label=\\\"${address}\\\" class=\\\"${ns}-locations-item ${ns}-multiple-locations ${ns}-data-section\\\"> <div class=\\\"${ns}-locations-row\\\"> <div class=\\\"${ns}-locations-item-icon-holder ${ns}-locations-cell\\\"> <div class=\\\"${ns}-locations-item-icon\\\" style=\\\"color: ${accentText}; background: ${accentBackground};\\\">${iconText}</div> </div> <div class=\\\"${ns}-locations-cell\\\"> <div class=\\\"${ns}-locations-item-data-title\\\">${title}</div> <div class=\\\"${ns}-locations-item-data-items\\\"> <div class=\\\"${ns}-locations-item-data-address\\\">${address}</div> <div class=\\\"${ns}-locations-item-distance\\\">${distance}</div> </div> </div> </div></button>\"\n\n/***/ },\n/* 32 */\n/*!********************************************************!*\\\n  !*** ./src/layouts/show-locations/templates/base.html ***!\n  \\********************************************************/\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"${ns}\\\"> <div class=\\\"${ns}-img\\\"></div> <div class=\\\"${ns}-data\\\"></div></div>\"\n\n/***/ },\n/* 33 */\n/*!********************************************************************!*\\\n  !*** ./src/layouts/show-locations/templates/create-dom-array.html ***!\n  \\********************************************************************/\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"${ns}-contact-type\\\"></div><div class=\\\"${ns}-contact-data\\\"></div>\"\n\n/***/ },\n/* 34 */\n/*!****************************************************************!*\\\n  !*** ./src/layouts/show-locations/templates/hours-closed.html ***!\n  \\****************************************************************/\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<span class=\\\"${ns}-days-hours-day\\\">${day}:</span>&nbsp;<span class=\\\"${ns}-days-hours-hours\\\">Closed</span>\"\n\n/***/ },\n/* 35 */\n/*!**************************************************************!*\\\n  !*** ./src/layouts/show-locations/templates/hours-open.html ***!\n  \\**************************************************************/\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<span class=\\\"${ns}-days-hours-day\\\">${day}:</span>&nbsp;<span class=\\\"${ns}-days-hours-hours\\\">${open} &ndash; ${close}</span>\"\n\n/***/ },\n/* 36 */\n/*!******************************************************************!*\\\n  !*** ./src/layouts/show-locations/templates/hours-timezone.html ***!\n  \\******************************************************************/\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"${ns}-hours-timezone\\\">( ${timezone} )</div>\"\n\n/***/ },\n/* 37 */\n/*!**********************************************************************!*\\\n  !*** ./src/layouts/show-locations/templates/hours-today-closed.html ***!\n  \\**********************************************************************/\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<span class=\\\"${ns}-hours-open\\\">Closed today.</span>\"\n\n/***/ },\n/* 38 */\n/*!********************************************************************!*\\\n  !*** ./src/layouts/show-locations/templates/hours-today-open.html ***!\n  \\********************************************************************/\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<span class=\\\"${ns}-hours-open\\\">Open today:</span><span class=\\\"${ns}-hours-today\\\"> ${open} &ndash; ${close}</span>\"\n\n/***/ },\n/* 39 */\n/*!***********************************************************************!*\\\n  !*** ./src/layouts/show-locations/templates/hours-today-unknown.html ***!\n  \\***********************************************************************/\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<span class=\\\"${ns}-hours-open\\\">Open today</span>\"\n\n/***/ },\n/* 40 */\n/*!*****************************************************************!*\\\n  !*** ./src/layouts/show-locations/templates/hours-unknown.html ***!\n  \\*****************************************************************/\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<span class=\\\"${ns}-days-hours-day\\\">${day}:</span>&nbsp;<span class=\\\"${ns}-days-hours-hours\\\">Hours unknown</span>\"\n\n/***/ },\n/* 41 */\n/*!************************!*\\\n  !*** ./src/styles.css ***!\n  \\************************/\n/***/ function(module, exports) {\n\n\tmodule.exports = \".IBMChat { height: 100%; width: 100%;}/* utils */.IBMChat-hidden { display: none;}.IBMChat-relative { position: relative;}.IBMChat-outer-container { border: none; box-sizing: border-box; display: table; table-layout: fixed; font-weight: normal; line-height: 1em; height: 100%; margin: 0 auto 0 auto; max-width: 768px; min-height: 300px; min-width: 288px; padding: 0; position: relative; text-align: left; width: 100%;}/* Agent Component */.IBMChat-inner-container { display: table-cell; height: 100%; margin: 0; padding: 0 1em 0 1em; vertical-align: bottom;}/* Chat Component */.IBMChat-chat-container { display: table-row; margin: 0; padding: 0;}/* Messages Component */.IBMChat-messages { height: auto; overflow-x: hidden; overflow-y: auto; padding: 0 1em 0 1em;}.IBMChat-messages label { display: block; font-weight: bold; text-transform: capitalize;}.IBMChat-messages input { border: 0; border-radius: 0; font-size: 1em; margin: 0; padding: 0 0 0.25em 0;}.IBMChat-messages button { background: none; border: 0; border-radius: 1em; color: inherit; cursor: pointer; font: inherit; line-height: 1.5em; margin: 0; overflow: hidden; padding: 0.25em 1em 0.25em 1em; text-overflow: ellipsis; white-space: nowrap; -webkit-appearance: button; /* for input */ -webkit-user-select: none; /* for button */ -moz-user-select: none; -ms-user-select: none;}.IBMChat-messages button[disabled=\\\"true\\\"] { cursor: default; opacity: .7;}.IBMChat-messages button[disabled=\\\"true\\\"]:focus { outline: none;}.IBMChat-messages button::-moz-focus-inner { border: 0; padding: 0;}.IBMChat-watson-intent a { display: inline-block; margin: 1em 0 1em 0;}/* WatsonMessage Component */.IBMChat-watson-message-container { margin: 1em 0 1em 0; position: relative;}.IBMChat-watson-message { line-height: 1.5em; min-height: 1.5em; padding: 0 0 0 1em; word-wrap: break-word;}.IBMChat-watson-message a { display: inline-block; word-break: break-all;}.IBMChat-watson-message-line { left: 0; height: 1.5em; position: absolute; top: 0;}.IBMChat-disabled-layout { opacity: 0.7;}/* UserMessage Component */.IBMChat-user-message-container {\\tmargin: 1em 0 1em 2em;\\ttext-align: right;}.IBMChat-user-message { border-radius: 4px; display: inline-block; line-height: 1.5em; padding: 0.5em 0.75em 0.5em 0.75em; text-align: left; max-width: 100%; overflow: hidden; word-wrap: break-word;}/* Input Component */.IBMChat-input-container { display: table-row; margin: 0; padding: 0;}.IBMChat-input-form { display: table-cell; position: relative; min-height: 30px;}.IBMChat-chat-textbox-container { min-height: 30px; padding: 1em 2em 2em 2em;}.IBMChat-chat-textbox-clone-holder { height: 0; overflow: hidden;}.IBMChat-chat-textbox-clone { border-bottom: 1px solid transparent; font-weight: normal; line-height: 1.5em; margin: 0; min-height: 26px; padding: 0; position: relative; white-space: pre-wrap; white-space: pre-line; word-wrap: break-word; visibility: hidden;}.IBMChat-chat-textbox { background: transparent; border: none; border-radius: 0; border-image-width: 0; color: inherit; font-weight: normal; height: 1.5em; line-height: 1.5em; margin: 0; min-height: 26px; overflow: hidden; padding: 0 0 3px 0; resize: none; text-wrap: unrestricted; vertical-align: bottom; width: 100%; white-space: pre-wrap; white-space: pre-line; word-wrap: break-word;}.IBMChat-chat-textbox[disabled='disabled'] { opacity: 0.5;}.IBMChat-input-form::-webkit-input-placeholder { opacity: 1;}.IBMChat-chat-textbox:focus {\\toutline: none;\\tpadding: 0 0 2px 0;}/* Layout Component */.IBMChat-watson-layout { padding: 4px;}/* validation error message */.IBMChat-validation-error { padding: 0.5em; font-size: 0.9em;}/* class to hide an element from everyone but screen readers for visually impared */.IBMChat-screen-reader-text {\\tclip: rect(1px, 1px, 1px, 1px);\\theight: 1px;\\twidth: 1px;\\toverflow: hidden;\\tposition: absolute !important;}/* Loading */.IBMChat-loading-container { margin-bottom: 1em;}.IBMChat-loading { min-height: 30px; position: relative;}.IBMChat-loading-icon { height: 30px; position: absolute; top: 0; left: -4px; width: 10px;}.IBMChat-loading-icon svg { height: 30px; width: 10px;}.IBMChat-loading-message { display: inline-block; min-height: 30px; line-height: 1.2em; padding: 5px 1em 0 1em;}.IBMChat-bouncing { animation: bounceBack 420ms infinite; animation-direction: alternate; animation-timing-function: ease-in-out; animation-timing-function: cubic-bezier(.42,0,1,1);}.IBMChat-bouncing:nth-child(2) { animation: bounce 420ms infinite; animation-direction: alternate; animation-timing-function: ease-in-out; animation-timing-function: cubic-bezier(.42,0,1,1);}@keyframes bounce { 0% { transform: translateY(5px); } 72% { transform: translateY(-5px); } 72%,100%{ transform: translateY(-5px); }}@keyframes bounceBack { 0% { transform: translateY(-5px); } 72% { transform: translateY(5px); } 72%,100%{ transform: translateY(5px); }}/* responsive */.IBMChat-small-show { display: unset;}.IBMChat-small-hide { display: none;}.IBMChat-isLarge .IBMChat-small-show { display: none;}.IBMChat-isLarge .IBMChat-small-hide { display: unset;}/* cc-validator */.IBMChat-creditcard-container { margin-top: 1em; padding: 1em 1.5em 1em 1.5em; width: 240px;}.IBMChat-creditcard-container fieldset { border:none; margin:0; padding:0;}.IBMChat-creditcard-row { padding-bottom: 1em;}.IBMChat-creditcard-row input[name=\\\"cc_full_name\\\"], .IBMChat-creditcard-row input[name=\\\"cc_number\\\"] { width: 100%;}.IBMChat-creditcard-row input[name=\\\"cc_exp_date_month\\\"] { max-width: 32px;}.IBMChat-creditcard-row input[name=\\\"cc_exp_date_year\\\"], .IBMChat-creditcard-row input[name=\\\"cc_code\\\"] { max-width: 64px;}.IBMChat-creditcard-col { display: inline-block;}.IBMChat-creditcard-col:nth-child(2) { padding-left:1.5em;}.IBMChat-creditcard-buttons:after { visibility: hidden; display: block; font-size: 0; content: \\\" \\\"; clear: both; height: 0;}.IBMChat-creditcard-buttons button { width: 95px; float: left; text-overflow: clip;}.IBMChat-creditcard-buttons button:last-child { float: right; text-overflow: clip;}/* choose */.IBMChat-choose-container > div {\\tmargin-top: 1em;}/* choose location type */.IBMChat-islocationapi-container > div {\\tmargin-top: 1em;}/* error */.IBMChat-error { padding: 0.5em 1em 0.5em 1em;}/* form */.IBMChat-form-container { margin-top: 1em; padding: 1em 1.5em 1em 1.5em; width: 240px;}.IBMChat-form-container fieldset { border:none; margin:0; padding:0;}.IBMChat-form-fields { width:100%;}.IBMChat-form-fields-row { padding-bottom:1.5em;}.IBMChat-form-fields-row input { width: 100%;}.IBMChat-form-buttons { text-align:center; width: 100%;}.IBMChat-form-buttons:after { visibility: hidden; display: block; font-size: 0; content: \\\" \\\"; clear: both; height: 0;}.IBMChat-form-cancel { float:left; max-width: 50%;}.IBMChat-form-submit { float:right; max-width: 50%;}/* locations */.IBMChat-map { margin-top: 1em;}.IBMChat-map-data { font-size:0.85em;}.IBMChat-map-img { overflow: hidden;}.IBMChat-map-img img { margin: 0 0 0.5em 0; height: 120px;}.IBMChat-map-multiple-locations { cursor: default; display: table; width: 100%;}.IBMChat-map-multiple-locations .IBMChat-map-locations-row { display:table-row; width: 100%;}.IBMChat-map-multiple-locations .IBMChat-map-locations-cell { display: table-cell; overflow: hidden; word-wrap: break-word;}.IBMChat-map-location-active .IBMChat-map-multiple-locations { opacity: 1;}.IBMChat-map-locations-item.IBMChat-map-multiple-locations { padding: 0.5em 0 0.5em 0; white-space: normal;}.IBMChat-disabled-layout .IBMChat-map-locations-item.IBMChat-map-multiple-locations { cursor: default;}.IBMChat-map-data-section { margin-top:0.5em;}.IBMChat-map-data-float-holder:after { visibility: hidden; display: block; font-size: 0; content: \\\" \\\"; clear: both; height: 0;}.IBMChat-map-locations-item { border-bottom:1px solid #505050; text-align:left; padding: 1em;}.IBMChat-map-locations-item-icon-holder { text-align:center; width: 40px;}.IBMChat-map-locations-item-icon { border-radius: 24px; height:24px; line-height: 24px; margin-right:8px; width:24px;}.IBMChat-map-locations-item-data {}.IBMChat-map-locations-item-data-title { font-size:1.3em; font-weight:300; line-height:1.2em;}.IBMChat-map-locations-item-data-section { padding-bottom:0.5em;}.IBMChat-map-locations-item-data-email { padding-bottom:0;}.IBMChat-map-locations-item-data-phone { display: table; max-width:400px; width: 100%;}.IBMChat-map-contact-row { padding-bottom:0.5em;}.IBMChat-map-contact-type { font-size:0.9em;}.IBMChat-map-locations-item-distance { font-size:0.9em; width:64px;}button.IBMChat-map-locations-all { font-size:0.9em; line-height:1.5em; margin: 1em 0 0 0; padding: 0 0.5em 0 0.5em;}.IBMChat-map-hours-open { font-weight: bold;}.IBMChat-map-days-hours-day, .IBMChat-map-days-hours-hours, .IBMChat-map-days-hours-closed { overflow: hidden; word-wrap: break-word;}.IBMChat-map-days-hours-day { font-weight: bold;}.IBMChat-map-hours-timezone { font-size: 0.8em; padding-bottom: 0.5em;}.IBMChat-map-locations-item-data-hours { margin-top:0.5em;}.IBMChat-isLarge .IBMChat-map-locations-item-data { float:left; padding-right:5%; width:45%;}.IBMChat-isLarge .IBMChat-map-locations-item-data-hours { margin-top:0;}.IBMChat-isLarge .IBMChat-map-locations-item-data-more-hours { margin-top:0.5em;}\"\n\n/***/ },\n/* 42 */\n/*!**********************************!*\\\n  !*** ./src/templates/input.html ***!\n  \\**********************************/\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<form class=\\\"IBMChat-input-form\\\"> <div class=\\\"IBMChat-chat-text-container\\\"> <div class=\\\"IBMChat-chat-textbox-container\\\"> <textarea aria-labelledby=\\\"Enter a Message\\\" class=\\\"IBMChat-chat-textbox\\\" placeholder=\\\"${placeholder}\\\"></textarea> <div class=\\\"IBMChat-chat-textbox-clone-holder\\\"> <div class=\\\"IBMChat-chat-textbox-clone\\\" aria-hidden=\\\"true\\\">${placeholder}</div> </div> </div> </div></form>\"\n\n/***/ },\n/* 43 */\n/*!************************************!*\\\n  !*** ./src/templates/loading.html ***!\n  \\************************************/\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<section class=\\\"IBMChat-loading-container\\\"> <div class=\\\"IBMChat-loading IBMChat-hidden\\\"> <div class=\\\"IBMChat-loading-icon\\\" aria-hidden=\\\"true\\\"> <svg xmlns=\\\"http://www.w3.org/2000/svg\\\"> <circle class=\\\"IBMChat-ball IBMChat-bouncing\\\" cx=\\\"5px\\\" cy=\\\"10px\\\" r=\\\"2.5\\\"/> <circle class=\\\"IBMChat-ball IBMChat-bouncing\\\" cx=\\\"5px\\\" cy=\\\"20px\\\" r=\\\"2.5\\\"/> <circle class=\\\"IBMChat-ball\\\" cx=\\\"5px\\\" cy=\\\"15px\\\" r=\\\"2.5\\\"/> </svg> </div> <div class=\\\"IBMChat-loading-message\\\"> <span class=\\\"IBMChat-loading-message-text\\\"></span> <span class=\\\"IBMChat-loading-message-retry\\\"> <span class=\\\"IBMChat-loading-retry-message IBMChat-hidden\\\">${retryAttempt}</span> </span> </div> </div> <div class=\\\"IBMChat-loading-failure-message IBMChat-watson-message-container IBMChat-hidden\\\"> <div class=\\\"IBMChat-watson-message-line\\\"></div> <div class=\\\"IBMChat-watson-message\\\"> <span class=\\\"IBMChat-loading-failure-message-text\\\"></span> <a class=\\\"IBMChat-loading-retry-link\\\" data-retry=\\\"true\\\" href=\\\"javascript:void(false);\\\">${retry}</a> </div> </div></section>\"\n\n/***/ },\n/* 44 */\n/*!************************************!*\\\n  !*** ./src/templates/receive.html ***!\n  \\************************************/\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"IBMChat-watson-message-container\\\"> <div class=\\\"IBMChat-watson-message-line\\\"></div></div>\"\n\n/***/ },\n/* 45 */\n/*!*********************************!*\\\n  !*** ./src/templates/send.html ***!\n  \\*********************************/\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div id=\\\"${data.uuid}\\\" class=\\\"IBMChat-user-message-container\\\"> <div class=\\\"IBMChat-user-message IBMChat-secondary-colors\\\"></div></div>\"\n\n/***/ },\n/* 46 */\n/*!**********************************!*\\\n  !*** ./src/templates/start.html ***!\n  \\**********************************/\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"IBMChat\\\"> <div class=\\\"IBMChat-outer-container IBMChat-default-colors\\\"> <div class=\\\"IBMChat-fade\\\"></div> <div class=\\\"IBMChat-chat-container\\\"> <div class=\\\"IBMChat-inner-container\\\"> <div class=\\\"IBMChat-messages\\\"></div> </div> </div> </div></div>\"\n\n/***/ },\n/* 47 */\n/*!**************************!*\\\n  !*** ./src/bootstrap.js ***!\n  \\**************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\n\t* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n\t*\n\t* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n\t* in compliance with the License. You may obtain a copy of the License at\n\t*\n\t* http://www.apache.org/licenses/LICENSE-2.0\n\t*\n\t* Unless required by applicable law or agreed to in writing, software distributed under the License\n\t* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n\t* or implied. See the License for the specific language governing permissions and limitations under\n\t* the License.\n\t*/\n\t\n\tvar layouts = __webpack_require__(/*! ./layouts */ 69);\n\tvar events = __webpack_require__(/*! ./events */ 1);\n\tvar eventHandlers = __webpack_require__(/*! ./events/handlers */ 52);\n\tvar BotSDK = __webpack_require__(/*! @watson-virtual-agent/client-sdk/lib/web */ 6);\n\tvar state = __webpack_require__(/*! ./state */ 2);\n\tvar context = __webpack_require__(/*! ./context */ 48);\n\tvar utils = __webpack_require__(/*! ./utils */ 3);\n\tvar profile = __webpack_require__(/*! ./profile */ 7);\n\tvar assign = __webpack_require__(/*! lodash/assign */ 4);\n\tvar styles = __webpack_require__(/*! ./styles */ 8);\n\tvar defaultStyles = styles.defaultStyles;\n\t\n\t\n\tvar layoutInit = {};\n\tvar registeredLayouts = [];\n\t\n\tfunction registerEvents(tryIt, playback) {\n\t  events.subscribe('start', eventHandlers.start);\n\t  events.subscribe('chatID', eventHandlers.chatID);\n\t  events.subscribe('resize', eventHandlers.resize);\n\t  events.subscribe('disable-input', eventHandlers.input.disableInput);\n\t  events.subscribe('enable-loading', eventHandlers.input.enableLoadingInput);\n\t  events.subscribe('disable-loading', eventHandlers.input.disableLoadingInput);\n\t  events.subscribe('scroll-to-bottom', eventHandlers.scrollToBottom);\n\t  events.subscribe('receive', eventHandlers.receive);\n\t  if (playback === true) { //TODO: remove if playback when Dashboard code is updated\n\t    events.subscribe('send', eventHandlers.sendMock);\n\t  } else {\n\t    events.subscribe('clear', eventHandlers.clear);\n\t    events.subscribe('send', eventHandlers.send.send);\n\t    events.subscribe('retry', eventHandlers.send.retry);\n\t    events.subscribe('send-input-message', eventHandlers.sendInputMessage);\n\t    events.subscribe('enable-retry', eventHandlers.error.retry);\n\t    events.subscribe('enable-input', eventHandlers.input.enableInput);\n\t    events.subscribe('focus-input', eventHandlers.input.focusInput);\n\t    events.subscribe('send-mock', eventHandlers.sendMock);\n\t    events.subscribe('error-clear', eventHandlers.error.clearError);\n\t    events.subscribe('reset', eventHandlers.reset);\n\t  }\n\t  if (tryIt === true) {\n\t    events.subscribe('try-it-error', eventHandlers.error.tryIt);\n\t    events.subscribe('try-it-layout-subscription', eventHandlers.tryIt.layoutError);\n\t    events.subscribe('try-it-action-subscription', eventHandlers.tryIt.actionError);\n\t    events.subscribe('try-it-receive-intent-data', eventHandlers.tryIt.intent);\n\t  }\n\t}\n\t\n\tfunction registerLayouts() {\n\t  registerLayout('show-locations', layouts.showLocations.init, true);\n\t  registerLayout('choose-location-type', layouts.chooseLocationType.init, true);\n\t  registerLayout('request-geolocation-latlong', layouts.requestGeolocationLatlong.init, true);\n\t  registerLayout('request-geolocation-zipcode', layouts.requestGeolocationZipcode.init, true);\n\t  registerLayout('choose', layouts.choose.init, true);\n\t  registerLayout('form', layouts.form.init, true);\n\t  registerLayout('cc-validator', layouts.creditCard.init, true);\n\t  registerLayout('error', layouts.error.init, true);\n\t  for (var i = 0; i < registeredLayouts.length; i++)\n\t    layoutInit[registeredLayouts[i]]();\n\t}\n\t\n\tfunction init(config) {\n\t  var current = state.get();\n\t  if (current.active === true) {\n\t    return destroy()\n\t      .then(function() {\n\t        init(config);\n\t      });\n\t  }\n\t\n\t  var root = (typeof config.el === 'string') ? document.getElementById(config.el) : config.el;\n\t  var SDKconfig = utils.getSDKConfig(config);\n\t\n\t  return new window.Promise(function(resolve, reject) {\n\t    var defaultState = {\n\t      active: true,\n\t      root: root,\n\t      mapsServer: (\"https://dp1-i-serve-maps.mybluemix.net\") || 'https://dp1-i-serve-maps.mybluemix.net/',\n\t      botID: config.botID,\n\t      styles: assign({}, defaultStyles, config.styles),\n\t      baseURL: SDKconfig.baseURL,\n\t      originalContent: root.innerHTML,\n\t      handleInput: {\n\t        default: true\n\t      },\n\t      minSeconds: (!config.minSeconds && config.minSeconds !== 0) ? 0.75 : config.minSeconds,\n\t      chatStyleID: 'chatStyleID-' + utils.getUUID(),\n\t      tryIt: config.tryIt || false,\n\t      playback: config.playback || false //TODO: remove playback when Dashboard code is updated\n\t    };\n\t    if (utils.checkRoot(root)) {\n\t      if (config.errorHandler)\n\t        events.subscribe('httpError', config.errorHandler, config.errorHandlerContext);\n\t      else\n\t        events.subscribe('httpError', eventHandlers.error.httpError);\n\t      registerEvents(config.tryIt, config.playback);\n\t      registerLayouts();\n\t      //TODO: remove if playback when Dashboard code is updated\n\t      if (config.playback === true) {\n\t        events.publish('start', defaultState);\n\t        setTimeout(function() {\n\t          events.publish('chatID', 'playback');\n\t        }, 0);\n\t        setTimeout(function() {\n\t          resolve();\n\t        }, 0);\n\t      } else if (config.botID) {\n\t        events.publish('start', defaultState);\n\t        events.publish('enable-loading');\n\t        events.publish('disable-input');\n\t        BotSDK\n\t          .configure( SDKconfig )\n\t          .start( config.botID )\n\t          .then( function(res) {\n\t            events.publish('chatID', res.chatID);\n\t            events.publish('receive', res);\n\t          })['catch']( function(err) {\n\t            events.publish('httpError', err);\n\t          }).then(function() {\n\t            setTimeout(function() {\n\t              events.publish('enable-input');\n\t              resolve();\n\t            }, 0);\n\t          });\n\t      } else {\n\t        console.error('BotID is required!');\n\t        destroy();\n\t        reject({\n\t          error: 'BotID is required!'\n\t        });\n\t      }\n\t    } else {\n\t      console.error('Element for chat does not exist!');\n\t      destroy();\n\t      reject({\n\t        error: 'Element for chat does not exist!'\n\t      });\n\t    }\n\t  });\n\t}\n\t\n\tfunction registerLayout(layout, init, defaultSetup) {\n\t  if (layout && init && typeof init === 'function') {\n\t    if (registeredLayouts.indexOf(layout) === -1 || !defaultSetup) {\n\t      registeredLayouts.push(layout);\n\t      layoutInit[layout] = init;\n\t    }\n\t  } else {\n\t    console.error('registerLayout was configured incorrectly.');\n\t  }\n\t}\n\t\n\tfunction send(message) {\n\t  if (message) {\n\t    var current = state.get();\n\t    if (current.active) {\n\t      events.publish('send', {\n\t        text: message\n\t      });\n\t    }\n\t  } else {\n\t    console.error('The message was empty.');\n\t  }\n\t}\n\t\n\tfunction receive(message) {\n\t  if (message) {\n\t    var current = state.get();\n\t    if (current.active)\n\t      events.publish('receive', message);\n\t  } else {\n\t    console.error('The message was empty.');\n\t  }\n\t}\n\t\n\tfunction sendMock(message) {\n\t  if (message) {\n\t    var current = state.get();\n\t    if (current.active) {\n\t      events.publish('send-mock', {\n\t        text: message\n\t      });\n\t    }\n\t  } else {\n\t    console.error('The message was empty.');\n\t  }\n\t}\n\t\n\tfunction sendSilently(message) {\n\t  if (message) {\n\t    var current = state.get();\n\t    if (current.active) {\n\t      events.publish('send', {\n\t        text: message,\n\t        silent: true\n\t      });\n\t    }\n\t  } else {\n\t    console.error('The message was empty.');\n\t  }\n\t}\n\t\n\tfunction enableCustomInputHandler(config) {\n\t  if (config && config.callback && typeof config.callback === 'function') {\n\t    state.set({\n\t      handleInput: {\n\t        default: false,\n\t        callback: config.callback,\n\t        context: config.context\n\t      }\n\t    });\n\t  } else {\n\t    console.error('Invalid configuration of enableCustomInputHandler');\n\t  }\n\t}\n\t\n\tfunction disableCustomInputHandler() {\n\t  state.set({\n\t    handleInput: {\n\t      default: true\n\t    }\n\t  });\n\t}\n\t\n\tfunction focusInput() {\n\t  var current = state.get();\n\t  if (current.active)\n\t    events.publish('focus-input');\n\t}\n\t\n\tfunction disableInput() {\n\t  var current = state.get();\n\t  if (current.active)\n\t    events.publish('disable-input');\n\t}\n\t\n\tfunction enableInput() {\n\t  var current = state.get();\n\t  if (current.active)\n\t    events.publish('enable-input');\n\t}\n\t\n\tfunction debug() {\n\t  state.set({\n\t    DEBUG: true\n\t  });\n\t}\n\t\n\tfunction destroy() {\n\t  return new window.Promise(function(resolve) {\n\t    var current = state.get();\n\t    if (current.active) {\n\t      if (current.root && current.onResize)\n\t        utils.removeResizeListener(current.root, current.onResize);\n\t      utils.endVisibilityCheck();\n\t      styles.removeStyles();\n\t      events.publish('destroy');\n\t      events.destroy();\n\t      if (typeof current.originalContent !== 'undefined' && current.root)\n\t        current.root.innerHTML = current.originalContent;\n\t      state.destroy();\n\t    }\n\t    resolve();\n\t  });\n\t}\n\t\n\tfunction restart() {\n\t  console.warn('The IBMChat.restart method is deprecated. Use IBMChat.clear() instead.');\n\t  return new window.Promise(function(resolve, reject) {\n\t    var current = state.get();\n\t    destroy().then(function() {\n\t      setTimeout(function() {\n\t        init({ el: current.root, botID: current.botID, baseURL: current.baseURL }).then(function() {\n\t          resolve();\n\t        })['catch'](function(e) {\n\t          reject(e);\n\t        });\n\t      }, 10);\n\t    })['catch'](function(e) {\n\t      reject(e);\n\t    });\n\t  });\n\t}\n\t\n\tmodule.exports = {\n\t  profile: profile,\n\t  init: init,\n\t  registerLayout: registerLayout,\n\t  send: send,\n\t  receive: receive,\n\t  sendMock: sendMock,\n\t  sendSilently: sendSilently,\n\t  enableCustomInputHandler: enableCustomInputHandler,\n\t  disableCustomInputHandler: disableCustomInputHandler,\n\t  focusInput: focusInput,\n\t  disableInput: disableInput,\n\t  enableInput: enableInput,\n\t  subscribe: events.subscribe,\n\t  subscribeOnce: events.subscribeOnce,\n\t  publish: events.publish,\n\t  debug: debug,\n\t  destroy: destroy,\n\t  restart: restart,\n\t  currentSubscriptions: events.currentSubscriptions,\n\t  hasSubscription: events.hasSubscription,\n\t  completeEvent: events.completeEvent,\n\t  state: state,\n\t  context: context,\n\t  clear: function() {\n\t    events.publish('restart');\n\t  }\n\t};\n\n\n/***/ },\n/* 48 */\n/*!******************************!*\\\n  !*** ./src/context/index.js ***!\n  \\******************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\n\t* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n\t*\n\t* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n\t* in compliance with the License. You may obtain a copy of the License at\n\t*\n\t* http://www.apache.org/licenses/LICENSE-2.0\n\t*\n\t* Unless required by applicable law or agreed to in writing, software distributed under the License\n\t* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n\t* or implied. See the License for the specific language governing permissions and limitations under\n\t* the License.\n\t*/\n\t\n\tvar state = __webpack_require__(/*! ../state */ 2);\n\t\n\tfunction set(context) {\n\t  state.set({\n\t    context: context\n\t  });\n\t}\n\t\n\tfunction get() {\n\t  var current = state.get();\n\t  return current.context;\n\t}\n\t\n\tmodule.exports = {\n\t  set: set,\n\t  get: get\n\t};\n\n\n/***/ },\n/* 49 */\n/*!***************************************!*\\\n  !*** ./src/events/handlers/chatid.js ***!\n  \\***************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar state = __webpack_require__(/*! ../../state */ 2);\n\t\n\tfunction chatID(chatID) {\n\t  var current = state.get();\n\t  var prefix = 'chatID-';\n\t  var classes = current.root.className.split(' ').filter(function(c) {\n\t    return c.lastIndexOf(prefix, 0) !== 0;\n\t  });\n\t  state.set({\n\t    chatID: chatID\n\t  });\n\t  current.root.className = classes.join(' ').trim();\n\t  current.root.classList.add(prefix + chatID);\n\t}\n\t\n\tmodule.exports = chatID;\n\n\n/***/ },\n/* 50 */\n/*!**************************************!*\\\n  !*** ./src/events/handlers/clear.js ***!\n  \\**************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\n\t* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n\t*\n\t* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n\t* in compliance with the License. You may obtain a copy of the License at\n\t*\n\t* http://www.apache.org/licenses/LICENSE-2.0\n\t*\n\t* Unless required by applicable law or agreed to in writing, software distributed under the License\n\t* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n\t* or implied. See the License for the specific language governing permissions and limitations under\n\t* the License.\n\t*/\n\t\n\tvar state = __webpack_require__(/*! ../../state */ 2);\n\tvar events = __webpack_require__(/*! ../../events */ 1);\n\t\n\tfunction clear() {\n\t  var current = state.get();\n\t  state.set({\n\t    messages: []\n\t  });\n\t  current.root.classList.add(\"chatID-\" + current.chatID);\n\t  current.input.value = '';\n\t  current.inputClone.innerHTML = 'Enter message...';\n\t  current.chatHolder.innerHTML = '';\n\t  events.publish('resize-input');\n\t  events.publish('resize');\n\t}\n\t\n\tmodule.exports = clear;\n\n\n/***/ },\n/* 51 */\n/*!**************************************!*\\\n  !*** ./src/events/handlers/error.js ***!\n  \\**************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\n\t* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n\t*\n\t* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n\t* in compliance with the License. You may obtain a copy of the License at\n\t*\n\t* http://www.apache.org/licenses/LICENSE-2.0\n\t*\n\t* Unless required by applicable law or agreed to in writing, software distributed under the License\n\t* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n\t* or implied. See the License for the specific language governing permissions and limitations under\n\t* the License.\n\t*/\n\t\n\tvar events = __webpack_require__(/*! ../../events */ 1);\n\tvar state = __webpack_require__(/*! ../../state */ 2);\n\t\n\tvar errorMessageMap = {\n\t  basic: 'I am sorry, I am having difficulties.'\n\t};\n\t\n\tfunction clearError() {\n\t  setTimeout(function() {\n\t    var current = state.get();\n\t    var loader = current.root.querySelector('.IBMChat-loading-container');\n\t    if (loader)\n\t      current.chatHolder.removeChild(loader);\n\t    state.set({\n\t      errorCount: 0\n\t    });\n\t  }, 0);\n\t}\n\t\n\tfunction httpError(err) {\n\t  setTimeout(function() {\n\t    console.error(err);\n\t    var current = state.get();\n\t    var text = errorMessageMap.basic;\n\t    var errorCount = current.errorCount || 0;\n\t    if (err.status && errorMessageMap[err.status])\n\t      text = errorMessageMap[err.status];\n\t    events.publish('enable-loading', text);\n\t    state.set({\n\t      errorCount: errorCount + 1\n\t    });\n\t    events.publish('enable-retry');\n\t  }, 0);\n\t}\n\t\n\tfunction retry() {\n\t  setTimeout(function() {\n\t    var current = state.get();\n\t    var errorCount = current.errorCount;\n\t    var loaderRetryMessage = current.root.querySelector('.IBMChat-loading-retry-message');\n\t    var loader = current.root.querySelector('.IBMChat-loading');\n\t    var loaderFailure = current.root.querySelector('.IBMChat-loading-failure-message');\n\t    var loaderFailureMessage = current.root.querySelector('.IBMChat-loading-failure-message-text');\n\t    if (errorCount > 4) {\n\t      var loaderFailureMessageText = 'I cannot complete your request. You can try a new request or ';\n\t      if (!current.chatID) {\n\t        loaderFailureMessageText = 'I cannot complete your request. Please ';\n\t        events.publish('disable-input');\n\t      } else {\n\t        events.publish('enable-input');\n\t      }\n\t      loader.classList.add('IBMChat-hidden');\n\t      loaderFailureMessage.innerText = loaderFailureMessageText;\n\t      loaderFailure.classList.remove('IBMChat-hidden');\n\t      events.publish('scroll-to-bottom');\n\t      state.set({\n\t        sendQueue: [],\n\t        inProgress: false\n\t      });\n\t    } else if (errorCount !== 0) {\n\t      loaderFailure.classList.add('IBMChat-hidden');\n\t      loaderRetryMessage.classList.remove('IBMChat-hidden');\n\t      setTimeout(function() {\n\t        events.publish('retry');\n\t      }, 5000);\n\t    }\n\t  }, 0);\n\t}\n\t\n\tfunction tryIt(data) {\n\t  events.publish('layout:error', data);\n\t}\n\t\n\tmodule.exports = {\n\t  httpError: httpError,\n\t  retry: retry,\n\t  clearError: clearError,\n\t  tryIt: tryIt\n\t};\n\n\n/***/ },\n/* 52 */\n/*!**************************************!*\\\n  !*** ./src/events/handlers/index.js ***!\n  \\**************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\n\t* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n\t*\n\t* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n\t* in compliance with the License. You may obtain a copy of the License at\n\t*\n\t* http://www.apache.org/licenses/LICENSE-2.0\n\t*\n\t* Unless required by applicable law or agreed to in writing, software distributed under the License\n\t* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n\t* or implied. See the License for the specific language governing permissions and limitations under\n\t* the License.\n\t*/\n\t\n\tvar start = __webpack_require__(/*! ./start */ 61);\n\tvar resize = __webpack_require__(/*! ./resize */ 56);\n\tvar receive = __webpack_require__(/*! ./receive */ 54);\n\tvar send = __webpack_require__(/*! ./send */ 60);\n\tvar sendMock = __webpack_require__(/*! ./send-mock */ 59);\n\tvar sendInputMessage = __webpack_require__(/*! ./send-input-message */ 58);\n\tvar input = __webpack_require__(/*! ./input */ 53);\n\tvar error = __webpack_require__(/*! ./error */ 51);\n\tvar scrollToBottom = __webpack_require__(/*! ./scroll-to-bottom */ 57);\n\tvar tryIt = __webpack_require__(/*! ./try-it */ 62);\n\tvar clear = __webpack_require__(/*! ./clear */ 50);\n\tvar reset = __webpack_require__(/*! ./reset */ 55);\n\tvar chatID = __webpack_require__(/*! ./chatid */ 49);\n\t\n\tmodule.exports = {\n\t  /**\n\t  * Resize event. Forces a resize of the Chat UI elements to fix current parent element.\n\t  *\n\t  * @event resize\n\t  * @example\n\t  * IBMChat.publish('resize');\n\t  * IBMChat.subscribe('resize', function(){\n\t  *\n\t  * });\n\t  */\n\t  resize: resize,\n\t  /**\n\t  * @ignore\n\t  */\n\t  start: start,\n\t  /**\n\t  * @ignore\n\t  */\n\t  clear: clear,\n\t  /**\n\t  * Send event. Sends a message.\n\t  *\n\t  * @event send\n\t  * @property {Object} data\n\t  * @property {string} data.text - Text to send to Watson Virtual Agent\n\t  * @property {boolean} data.sendSilently - whether or not to show in UI, defaults to true\n\t  * @example\n\t  * IBMChat.publish('send', data);\n\t  * IBMChat.subscribe('send', function(data){\n\t  *\n\t  * });\n\t  */\n\t  send: send,\n\t  /**\n\t  * sendMock event. Displays a message in the UI, but does not send it to the Watson Virtual Agent.\n\t  *\n\t  * @event sendMock\n\t  * @property {Object} data\n\t  * @property {string} data.text - Text to send to Watson Virtual Agent\n\t  * @property {boolean} data.sendSilently - whether or not to show in UI, defaults to true\n\t  * @example\n\t  * IBMChat.publish('sendMock', data);\n\t  * IBMChat.subscribe('sendMock', function(data){\n\t  *\n\t  * });\n\t  */\n\t  sendMock: sendMock,\n\t  /**\n\t  * Receive event.\n\t  *\n\t  * @event receive\n\t  * @property {Object} message - A message object.\n\t  * @example\n\t  * IBMChat.publish('receive', message);\n\t  * IBMChat.subscribe('receive', function(message){\n\t  *\n\t  * });\n\t  */\n\t  receive: receive,\n\t  /**\n\t  * Enable Input event. Allows submitting from input field when it has been disabled.\n\t  *\n\t  * @event enable-input\n\t  * @example\n\t  * IBMChat.publish('enable-input');\n\t  * IBMChat.subscribe('enable-input', function(){\n\t  *\n\t  * });\n\t  */\n\t  /**\n\t  * Disable Input event. Disallows submitting from input field.\n\t  *\n\t  * @event disable-input\n\t  * @example\n\t  * IBMChat.publish('disable-input');\n\t  * IBMChat.subscribe('disable-input', function(){\n\t  *\n\t  * });\n\t  */\n\t  /**\n\t  * Enable Loading event. Shows loading state.\n\t  *\n\t  * @event enable-loading\n\t  * @example\n\t  * IBMChat.publish('enable-loading', 'string to display');\n\t  * IBMChat.subscribe('enable-loading', function(){\n\t  *\n\t  * });\n\t  */\n\t  /**\n\t  * Disable loading event. Hides loading state.\n\t  *\n\t  * @event disable-loading\n\t  * @example\n\t  * IBMChat.publish('disable-loading');\n\t  * IBMChat.subscribe('disable-loading', function(){\n\t  *\n\t  * });\n\t  */\n\t  input: input,\n\t  /**\n\t  * Error event.\n\t  *\n\t  * @event error\n\t  * @property {Object} error - Error object.\n\t  * @example\n\t  * IBMChat.publish('error', error);\n\t  * IBMChat.subscribe('error', function(error){\n\t  *\n\t  * });\n\t  */\n\t  error: error,\n\t  /**\n\t  * Scroll to bottom event. Scrolls chat content into correct positioning.\n\t  *\n\t  * @event scroll-to-bottom\n\t  * @example\n\t  * IBMChat.publish('scroll-to-bottom');\n\t  * IBMChat.subscribe('scroll-to-bottom', function(){\n\t  *\n\t  * });\n\t  */\n\t  scrollToBottom: scrollToBottom,\n\t  /**\n\t  * @ignore\n\t  */\n\t  sendInputMessage: sendInputMessage,\n\t  /**\n\t  * @ignore\n\t  */\n\t  tryIt: tryIt,\n\t  /**\n\t  * @ignore\n\t  */\n\t  chatID: chatID,\n\t  /**\n\t  * @ignore\n\t  */\n\t  reset: reset\n\t};\n\n\n/***/ },\n/* 53 */\n/*!**************************************!*\\\n  !*** ./src/events/handlers/input.js ***!\n  \\**************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\n\t* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n\t*\n\t* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n\t* in compliance with the License. You may obtain a copy of the License at\n\t*\n\t* http://www.apache.org/licenses/LICENSE-2.0\n\t*\n\t* Unless required by applicable law or agreed to in writing, software distributed under the License\n\t* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n\t* or implied. See the License for the specific language governing permissions and limitations under\n\t* the License.\n\t*/\n\t\n\tvar state = __webpack_require__(/*! ../../state */ 2);\n\tvar events = __webpack_require__(/*! ../../events */ 1);\n\tvar utils = __webpack_require__(/*! ../../utils */ 3);\n\tvar templates = __webpack_require__(/*! ../../templates */ 5);\n\t\n\tfunction enableInput() {\n\t  var current = state.get();\n\t  state.set({ disableInput: false });\n\t  current.input.removeAttribute('disabled');\n\t}\n\t\n\tfunction disableInput() {\n\t  var current = state.get();\n\t  state.set({ disableInput: true });\n\t  current.input.setAttribute('disabled', 'disabled');\n\t}\n\t\n\tfunction enableLoadingInput(text) {\n\t  var current, loader;\n\t  setTimeout(function() {\n\t    current = state.get();\n\t    text = text || 'Agent is thinking...';\n\t    loader = current.root.querySelector('.IBMChat-loading-container');\n\t    if (loader)\n\t      current.chatHolder.removeChild(loader);\n\t  }, 0);\n\t\n\t  setTimeout(function() {\n\t    current.chatHolder.innerHTML += utils.compile(templates.loading, {\n\t      retryAttempt: 'Attempting to reconnect...',\n\t      retry: 'restart the conversation.'\n\t    });\n\t  }, 0);\n\t\n\t  setTimeout(function() {\n\t    loader = current.root.querySelector('.IBMChat-loading');\n\t    var loaderText = current.root.querySelector('.IBMChat-loading-message-text');\n\t    loader.classList.remove('IBMChat-hidden');\n\t    loaderText.textContent = text;\n\t    events.publish('resize');\n\t  }, 0);\n\t}\n\t\n\tfunction disableLoadingInput() {\n\t  setTimeout(function() {\n\t    var current = state.get();\n\t    var loader = current.root.querySelector('.IBMChat-loading-container');\n\t\n\t    if (loader)\n\t      current.chatHolder.removeChild(loader);\n\t    events.publish('resize');\n\t  }, 0);\n\t}\n\t\n\tfunction focusInput() {\n\t  var current = state.get();\n\t  current.input.focus();\n\t}\n\t\n\tmodule.exports = {\n\t  enableInput: enableInput,\n\t  disableInput: disableInput,\n\t  enableLoadingInput: enableLoadingInput,\n\t  disableLoadingInput: disableLoadingInput,\n\t  focusInput: focusInput\n\t};\n\n\n/***/ },\n/* 54 */\n/*!****************************************!*\\\n  !*** ./src/events/handlers/receive.js ***!\n  \\****************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\n\t* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n\t*\n\t* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n\t* in compliance with the License. You may obtain a copy of the License at\n\t*\n\t* http://www.apache.org/licenses/LICENSE-2.0\n\t*\n\t* Unless required by applicable law or agreed to in writing, software distributed under the License\n\t* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n\t* or implied. See the License for the specific language governing permissions and limitations under\n\t* the License.\n\t*/\n\t\n\tvar BotSDK = __webpack_require__(/*! @watson-virtual-agent/client-sdk/lib/web */ 6);\n\tvar state = __webpack_require__(/*! ../../state */ 2);\n\tvar events = __webpack_require__(/*! ../../events */ 1);\n\tvar utils = __webpack_require__(/*! ../../utils */ 3);\n\tvar assign = __webpack_require__(/*! lodash/assign */ 4);\n\tvar templates = __webpack_require__(/*! ../../templates */ 5);\n\t\n\tfunction _actions(data, tryIt, debug) {\n\t  var msg = data.message;\n\t  if (msg && msg.action && msg.action.name) {\n\t    var action = 'action:' + msg.action.name;\n\t    if (events.hasSubscription(action)) {\n\t      events.publish(action, data, events.completeEvent);\n\t      if (debug)\n\t        console.log('Call to ' + action);\n\t    } else {\n\t      if (debug)\n\t        console.warn('Nothing is subscribed to ' + action);\n\t      if (tryIt)\n\t        events.publish('try-it-action-subscription', action);\n\t    }\n\t  }\n\t  events.publish('enable-input');\n\t  events.publish('disable-loading');\n\t  events.publish('scroll-to-bottom');\n\t  if (utils.isVisible())\n\t    events.publish('focus-input');\n\t}\n\t\n\tfunction _layouts(data, tryIt, debug) {\n\t  var msg = data.message;\n\t  if (msg && msg.layout && msg.layout.name) {\n\t    var layout = 'layout:' + msg.layout.name;\n\t    if (events.hasSubscription(layout)) {\n\t      setTimeout(function() {\n\t        events.publish(layout, data);\n\t        if (debug)\n\t          console.log('Call to ' + layout);\n\t      }, 10);\n\t    } else {\n\t      if (debug)\n\t        console.warn('Nothing is subscribed to ' + layout);\n\t      if (tryIt)\n\t        events.publish('try-it-layout-subscription', layout);\n\t    }\n\t  }\n\t}\n\t\n\tfunction _intents(data) {\n\t  var msg = data.message;\n\t  var getIntentField = function(msg) {\n\t    if (!msg || !msg.log_data)\n\t      return false;\n\t    if (msg.log_data.wva_top_intent && typeof msg.log_data.wva_top_intent === 'object' && msg.log_data.wva_top_intent.intent)\n\t      return msg.log_data.wva_top_intent.intent;\n\t    else if (msg.log_data.intents && msg.log_data.intents.length > 0 && msg.log_data.intents[0].intent)\n\t      return msg.log_data.intents[0].intent;\n\t    else\n\t      return false;\n\t  };\n\t  var intent = getIntentField(msg);\n\t  if (msg && msg.log_data && msg.log_data.show_intent_link === true && intent) {\n\t    events.publish('try-it-get-intent-data', {\n\t      element: data.intentElement,\n\t      intent: intent\n\t    });\n\t  }\n\t}\n\t\n\tfunction receive(data) {\n\t  setTimeout(function() {\n\t    _receive(data);\n\t  }, 0);\n\t}\n\t\n\tfunction _receive(data) {\n\t  var parsed = (typeof data === 'string') ? { message: { text: data } } : data;\n\t  parsed = BotSDK.parse(parsed);\n\t  var current = state.get();\n\t  state.set({\n\t    messages: [].concat(current.messages || [], parsed),\n\t    errorCount: 0\n\t  });\n\t  var msg = parsed.message;\n\t  var msgText = (msg && msg.text) ? ((Array.isArray(msg.text) && msg.text.length > 0) ? msg.text : [msg.text]) : [''];\n\t  var containers = [];\n\t  var messages = [];\n\t  var layouts = [];\n\t  var intents = [];\n\t  var datas = [];\n\t  var turnElm = document.createElement('div');\n\t  turnElm.classList.add('IBMChat-watson-turn');\n\t  current.chatHolder.appendChild(turnElm);\n\t  for (var i = 0; i < msgText.length; i++) {\n\t    var holder = document.createElement('div');\n\t    var msgData = assign({}, parsed, { uuid: utils.getUUID() });\n\t    holder.classList.add(msgData.uuid);\n\t    holder.innerHTML = templates.receive;\n\t    containers.push(holder.querySelector('.IBMChat-watson-message-container'));\n\t    messages.push(document.createElement('div'));\n\t    layouts.push(document.createElement('div'));\n\t    layouts[i].classList.add('IBMChat-watson-layout');\n\t    if (current.tryIt) {\n\t      intents.push(document.createElement('div'));\n\t      intents[i].classList.add('IBMChat-watson-intent');\n\t    }\n\t    if ((msgText[i] && msgText[i].length > 0) || (msg && msg.layout && msg.layout.name && i === (msgText.length - 1))) {\n\t      messages[i].classList.add('IBMChat-watson-message');\n\t      utils.writeMessage(messages[i], msgText[i]);\n\t      turnElm.appendChild(holder);\n\t    }\n\t    containers[i].appendChild(messages[i]);\n\t    if (current.tryIt)\n\t      containers[i].appendChild(intents[i]);\n\t    containers[i].appendChild(layouts[i]);\n\t    msgData.element = containers[i];\n\t    msgData.layoutElement = layouts[i];\n\t    msgData.msgElement = messages[i];\n\t    if (current.tryIt)\n\t      msgData.intentElement = intents[i];\n\t    datas.push(msgData);\n\t    if (i === 0 && current.tryIt)\n\t      _intents(datas[i]);\n\t    if (msg && msg.layout && ((msg.layout.index !== undefined && msg.layout.index == i) ||(msg.layout.index === undefined && i == (msgText.length - 1))))\n\t      _layouts(datas[i], current.tryIt, current.DEBUG);\n\t    if (i === (msgText.length - 1))\n\t      _actions(datas[i], current.tryIt, current.DEBUG);\n\t\n\t  }\n\t\n\t}\n\t\n\tmodule.exports = receive;\n\n\n/***/ },\n/* 55 */\n/*!**************************************!*\\\n  !*** ./src/events/handlers/reset.js ***!\n  \\**************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar state = __webpack_require__(/*! ../../state */ 2);\n\tvar events = __webpack_require__(/*! ../../events */ 1);\n\tvar BotSDK = __webpack_require__(/*! @watson-virtual-agent/client-sdk/lib/web */ 6);\n\tvar utils = __webpack_require__(/*! ../../utils */ 3);\n\t\n\tfunction reset() {\n\t  events.publish('clear-error');\n\t  events.publish('scroll-to-bottom');\n\t  return new window.Promise(function(resolve, reject) {\n\t    var current = state.get();\n\t    var SDKconfig = utils.getSDKConfig(current);\n\t    if (!utils.checkRoot(current.root)) {\n\t      reject({\n\t        error: 'Element for chat does not exist!'\n\t      });\n\t    }\n\t    if (!current.botID) {\n\t      reject({\n\t        error: 'BotID is required!'\n\t      });\n\t    }\n\t    BotSDK\n\t      .configure( SDKconfig )\n\t      .start( current.botID )\n\t      .then( function(res) {\n\t        events.publish('clear');\n\t        events.publish('chatID', res.chatID);\n\t        events.publish('receive', res);\n\t      })['catch']( function(err) {\n\t        events.publish('httpError', err);\n\t      }).then(function() {\n\t        setTimeout(function() {\n\t          resolve();\n\t        },0);\n\t      });\n\t  });\n\t}\n\t\n\tmodule.exports = reset;\n\n\n/***/ },\n/* 56 */\n/*!***************************************!*\\\n  !*** ./src/events/handlers/resize.js ***!\n  \\***************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\n\t* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n\t*\n\t* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n\t* in compliance with the License. You may obtain a copy of the License at\n\t*\n\t* http://www.apache.org/licenses/LICENSE-2.0\n\t*\n\t* Unless required by applicable law or agreed to in writing, software distributed under the License\n\t* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n\t* or implied. See the License for the specific language governing permissions and limitations under\n\t* the License.\n\t*/\n\t\n\tvar state = __webpack_require__(/*! ../../state */ 2);\n\tvar events = __webpack_require__(/*! ../../events */ 1);\n\t\n\tvar debugResize = false;\n\tvar timeout;\n\t\n\tfunction _getHeight(element) {\n\t  return Math.floor(window.getComputedStyle(element).getPropertyValue('height').replace('px', ''));\n\t}\n\t\n\tfunction resize() {\n\t  clearTimeout(timeout);\n\t  timeout = setTimeout(function() {\n\t    timeout = null;\n\t    _resize();\n\t  }, 150);\n\t}\n\t\n\tfunction _resize() {\n\t\n\t  var current = state.get();\n\t  if (current.isVisible && current.active) {\n\t    var maxInputPercentage = 35,\n\t      newState = {},\n\t      containerHeight = 0,\n\t      chatHolderHeight = 0,\n\t      chatHolderMaxHeight = 0,\n\t      inputHolderHeight = 0,\n\t      rootHeight = current.root.clientHeight,\n\t      rootWidth = current.root.clientWidth,\n\t      maxInputHeight = rootHeight * (maxInputPercentage / 100),\n\t      calculatedMaxInputHeight = (maxInputHeight > 96) ? maxInputHeight : 96,\n\t      cloneHeight = (current.input) ? _getHeight(current.inputClone) : null,\n\t      inputHeight = (current.input) ? (_getHeight(current.input)) : 0,\n\t      newInputClone = (current.input && current.input.value && current.input.value.length > 0) ? current.input.value.replace(/\\n/g, '<br />') : 'Enter message...',\n\t      currentInputClone = (current.input) ? current.inputClone.innerHTML : null;\n\t\n\t    var chatChanged = function() {\n\t      if (newState.chatHolderHeight !== undefined || newState.containerHeight !== undefined)\n\t        events.publish('scroll-to-bottom');\n\t      return (newState.rootWidth !== undefined || newState.chatHolderHeight !== undefined || newState.rootHeight !== undefined || newState.isLarge !== undefined || newState.containerHeight !== undefined || newState.inputHeight !== undefined);\n\t    };\n\t\n\t    setTimeout(function() {\n\t      if (current.rootHeight !== rootHeight) {\n\t        if (debugResize)\n\t          console.log('New Root Height:', rootHeight);\n\t        newState.rootHeight = rootHeight;\n\t      }\n\t      if (current.rootWidth !== rootWidth) {\n\t        if (debugResize)\n\t          console.log('New Root Width:', rootWidth);\n\t        newState.rootWidth = rootWidth;\n\t        current.chat.style.width = rootWidth + 'px';\n\t        newState.rootWidth = rootWidth;\n\t      }\n\t    }, 0);\n\t\n\t    setTimeout(function() {\n\t      if (current.input) {\n\t        if (currentInputClone !== newInputClone) {\n\t          current.inputClone.textContent = newInputClone;\n\t          cloneHeight = _getHeight(current.inputClone);\n\t          /*if (debugResize)\n\t            console.log('Clone does not match input:', 'current:', currentInputClone, 'new:', newInputClone, 'height:', cloneHeight);*/\n\t        }\n\t\n\t        if (current.inputHeight !== cloneHeight) {\n\t          if (debugResize)\n\t            console.log('Input height does not match:', current.inputHeight, inputHeight);\n\t          inputHeight = (calculatedMaxInputHeight > cloneHeight) ? cloneHeight : calculatedMaxInputHeight;\n\t        }\n\t\n\t        if (current.inputHeight !== inputHeight) {\n\t          if (debugResize)\n\t            console.log('New Input Height:', current.inputHeight, inputHeight);\n\t          current.input.style.height = inputHeight + \"px\";\n\t          newState.inputHeight = inputHeight;\n\t        }\n\t      }\n\t    }, 0);\n\t\n\t    setTimeout(function() {\n\t\n\t      if (current.input)\n\t        inputHolderHeight = _getHeight(current.inputContainer);\n\t      chatHolderHeight = _getHeight(current.chatHolder);\n\t      chatHolderMaxHeight = chatHolderHeight;\n\t      if (debugResize)\n\t        console.log('chatHolderHeight', chatHolderHeight, 'rootHeight', rootHeight, 'inputHolderHeight', inputHolderHeight);\n\t      containerHeight = Math.floor(rootHeight - inputHolderHeight);\n\t\n\t      if (chatHolderHeight < containerHeight) {\n\t        chatHolderHeight = 'auto';\n\t        chatHolderMaxHeight = containerHeight + 'px';\n\t      } else {\n\t        chatHolderHeight = containerHeight + 'px';\n\t        chatHolderMaxHeight = chatHolderHeight;\n\t      }\n\t      if (current.containerHeight !== containerHeight) {\n\t        if (debugResize)\n\t          console.log('New Container Height:', containerHeight);\n\t        current.innerContainer.style.height = containerHeight + \"px\";\n\t        newState.containerHeight = containerHeight;\n\t      }\n\t\n\t      if (current.chatHolderHeight !== chatHolderHeight || current.chatHolderMaxHeight !== chatHolderMaxHeight) {\n\t        if (debugResize) {\n\t          console.log('New Chat Holder Height: ' + chatHolderHeight);\n\t          console.log('New Chat Holder Max Height: ' + chatHolderMaxHeight);\n\t        }\n\t        newState.chatHolderHeight = chatHolderHeight;\n\t        newState.chatHolderMaxHeight = chatHolderMaxHeight;\n\t        current.chatHolder.style.height = chatHolderHeight;\n\t        current.chatHolder.style.maxHeight = chatHolderMaxHeight;\n\t      }\n\t\n\t      if (rootWidth >= 480) {\n\t        current.root.classList.add('IBMChat-isLarge');\n\t        if (!current.isLarge)\n\t          newState.isLarge = true;\n\t      } else {\n\t        current.root.classList.remove('IBMChat-isLarge');\n\t        if (current.isLarge)\n\t          newState.isLarge = false;\n\t      }\n\t\n\t      if (chatChanged())\n\t        state.set(newState);\n\t\n\t    }, 0);\n\t  }\n\t}\n\t\n\tmodule.exports = resize;\n\n\n/***/ },\n/* 57 */\n/*!*************************************************!*\\\n  !*** ./src/events/handlers/scroll-to-bottom.js ***!\n  \\*************************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\n\t* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n\t*\n\t* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n\t* in compliance with the License. You may obtain a copy of the License at\n\t*\n\t* http://www.apache.org/licenses/LICENSE-2.0\n\t*\n\t* Unless required by applicable law or agreed to in writing, software distributed under the License\n\t* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n\t* or implied. See the License for the specific language governing permissions and limitations under\n\t* the License.\n\t*/\n\t\n\tvar state = __webpack_require__(/*! ../../state */ 2);\n\t\n\tvar smoothStep = function(start, end, point) {\n\t  if (point <= start) return 0;\n\t  if (point >= end) return 1;\n\t  var x = (point - start) / (end - start);\n\t  return x*x*(3 - 2*x);\n\t};\n\t\n\tfunction scrollToBottom() {\n\t  setTimeout(function() {\n\t    var duration = 300;\n\t    var startTime = Date.now();\n\t    var endTime = startTime + duration;\n\t    var current = state.get();\n\t    var startTop = current.chatHolder.scrollTop;\n\t    var previousTop = startTop;\n\t    var distance = current.chatHolder.scrollHeight - startTop;\n\t    var scrolling = setInterval(function() {\n\t      var now = Date.now();\n\t      if (current.chatHolder.scrollTop != previousTop) {\n\t        clearInterval(scrolling);\n\t        return;\n\t      } else if (now >= endTime) {\n\t        clearInterval(scrolling);\n\t        current.chatHolder.scrollTop = current.chatHolder.scrollHeight;\n\t        return;\n\t      } else if (current.chatHolder.scrollTop == current.chatHolder.scrollHeight) {\n\t        clearInterval(scrolling);\n\t        return;\n\t      }\n\t      var point = smoothStep(startTime, endTime, now);\n\t      var frameTop = Math.round(startTop + (distance * point));\n\t      current.chatHolder.scrollTop = frameTop;\n\t      previousTop = current.chatHolder.scrollTop;\n\t    }, 0);\n\t  }, 100);\n\t}\n\t\n\tmodule.exports = scrollToBottom;\n\n\n/***/ },\n/* 58 */\n/*!***************************************************!*\\\n  !*** ./src/events/handlers/send-input-message.js ***!\n  \\***************************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\n\t* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n\t*\n\t* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n\t* in compliance with the License. You may obtain a copy of the License at\n\t*\n\t* http://www.apache.org/licenses/LICENSE-2.0\n\t*\n\t* Unless required by applicable law or agreed to in writing, software distributed under the License\n\t* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n\t* or implied. See the License for the specific language governing permissions and limitations under\n\t* the License.\n\t*/\n\t\n\tvar state = __webpack_require__(/*! ../../state */ 2);\n\tvar events = __webpack_require__(/*! ../../events */ 1);\n\t\n\tfunction sendInputMessage() {\n\t  var current = state.get();\n\t  if (!current.inProgress && !current.disableInput) {\n\t    var text = current.root.querySelector('.IBMChat-chat-textbox').value.trim().replace(/(\\r\\n|\\n|\\r)/gm,\"\");\n\t    events.publish('send', {\n\t      text: text\n\t    });\n\t    text = '';\n\t  }\n\t}\n\t\n\tmodule.exports = sendInputMessage;\n\n\n/***/ },\n/* 59 */\n/*!******************************************!*\\\n  !*** ./src/events/handlers/send-mock.js ***!\n  \\******************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\n\t* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n\t*\n\t* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n\t* in compliance with the License. You may obtain a copy of the License at\n\t*\n\t* http://www.apache.org/licenses/LICENSE-2.0\n\t*\n\t* Unless required by applicable law or agreed to in writing, software distributed under the License\n\t* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n\t* or implied. See the License for the specific language governing permissions and limitations under\n\t* the License.\n\t*/\n\t\n\tvar state = __webpack_require__(/*! ../../state */ 2);\n\tvar events = __webpack_require__(/*! ../../events */ 1);\n\tvar utils = __webpack_require__(/*! ../../utils */ 3);\n\tvar assign = __webpack_require__(/*! lodash/assign */ 4);\n\tvar templates = __webpack_require__(/*! ../../templates */ 5);\n\t\n\tfunction sendMock(data) {\n\t  setTimeout(function() {\n\t    _sendMock(data);\n\t  }, 0);\n\t}\n\t\n\tfunction _sendMock(data) {\n\t  if (data.text && data.text.length > 0) {\n\t    var current = state.get();\n\t    var newData = assign({}, data, { uuid: utils.getUUID() });\n\t    current.chatHolder.innerHTML += utils.compile(templates.send, { 'data.uuid': newData.uuid });\n\t    current.chatHolder.querySelector('#' + newData.uuid + ' .IBMChat-user-message').textContent = data.text;\n\t    events.publish('resize');\n\t    events.publish('scroll-to-bottom');\n\t  }\n\t}\n\t\n\tmodule.exports = sendMock;\n\n\n/***/ },\n/* 60 */\n/*!*************************************!*\\\n  !*** ./src/events/handlers/send.js ***!\n  \\*************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\n\t* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n\t*\n\t* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n\t* in compliance with the License. You may obtain a copy of the License at\n\t*\n\t* http://www.apache.org/licenses/LICENSE-2.0\n\t*\n\t* Unless required by applicable law or agreed to in writing, software distributed under the License\n\t* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n\t* or implied. See the License for the specific language governing permissions and limitations under\n\t* the License.\n\t*/\n\t\n\tvar state = __webpack_require__(/*! ../../state */ 2);\n\tvar events = __webpack_require__(/*! ../../events */ 1);\n\tvar BotSDK = __webpack_require__(/*! @watson-virtual-agent/client-sdk/lib/web */ 6);\n\tvar utils = __webpack_require__(/*! ../../utils */ 3);\n\tvar assign = __webpack_require__(/*! lodash/assign */ 4);\n\tvar templates = __webpack_require__(/*! ../../templates */ 5);\n\t\n\tfunction send(data) {\n\t  setTimeout(function() {\n\t    _send(data);\n\t  }, 0);\n\t}\n\t\n\tfunction _send(data) {\n\t  if (data && data.text && data.text.length > 0) {\n\t    var current = state.get();\n\t    addToSendQueue(data);\n\t    if (!current.inProgress)\n\t      agentSend();\n\t  }\n\t}\n\t\n\tfunction addToSendQueue(data) {\n\t  var current = state.get();\n\t  var queue = current.sendQueue || [];\n\t  var newQueue = queue.slice(0);\n\t  newQueue.push(data);\n\t  state.set({\n\t    sendQueue: newQueue\n\t  });\n\t}\n\t\n\tfunction resolve(sent, received) {\n\t  var current = state.get();\n\t  state.set({\n\t    errorCount: 0,\n\t    sendQueue: current.sendQueue.slice(1, current.sendQueue.length),\n\t    messages: [].concat(current.messages || [], sent),\n\t    inProgress: false\n\t  });\n\t  events.publish('receive', received);\n\t  events.publish('error-clear');\n\t  events.publish('disable-loading');\n\t  events.publish('scroll-to-bottom');\n\t  if (state.get().sendQueue.length > 0)\n\t    agentSend();\n\t}\n\t\n\tfunction reject() {\n\t  events.publish('httpError', arguments);\n\t}\n\t\n\tfunction sendToBot(data, retry) {\n\t\n\t  function delay(cb) {\n\t    var newTime = Date.now();\n\t    var diff = newTime - starttime;\n\t    var minWaitTime = minSeconds * 1000;\n\t    var timeout = minWaitTime - diff;\n\t    if (timeout > 0) {\n\t      setTimeout(function() {\n\t        cb();\n\t      }, timeout);\n\t    } else {\n\t      cb();\n\t    }\n\t  }\n\t\n\t  var current = state.get();\n\t  var starttime = Date.now();\n\t  var minSeconds = current.minSeconds;\n\t\n\t  if (!retry)\n\t    events.publish('enable-loading');\n\t  events.publish('focus-input');\n\t\n\t  BotSDK\n\t    .send( current.botID, current.chatID, data.text, current.context )\n\t    .then( function(res) {\n\t      delay(function() {\n\t        resolve(data, res);\n\t      });\n\t    })\n\t    .catch(function(e) {\n\t      delay(function() {\n\t        reject(e);\n\t      });\n\t    });\n\t}\n\t\n\tfunction agentSend(retry) {\n\t  var current = state.get();\n\t  var newData = assign({}, current.sendQueue[0], { uuid: utils.getUUID() });\n\t  var msg = newData.text || '';\n\t  state.set({\n\t    inProgress: true\n\t  });\n\t  current.root.querySelector('.IBMChat-chat-textbox').value = '';\n\t  if (!newData.silent && !retry) {\n\t    current.chatHolder.innerHTML += utils.compile(templates.send, { 'data.uuid': newData.uuid });\n\t    current.chatHolder.querySelector('#' + newData.uuid + ' .IBMChat-user-message').textContent = msg;\n\t    events.publish('scroll-to-bottom');\n\t  }\n\t  if (current.handleInput.default)\n\t    sendToBot(newData, retry);\n\t  else if (current.handleInput.context)\n\t    current.handleInput.callback.bind(current.handleInput.context, newData.text, resolve, reject);\n\t  else\n\t    current.handleInput.callback(newData.text, resolve, reject);\n\t}\n\t\n\tfunction retry() {\n\t  var current = state.get();\n\t  if (current.sendQueue && current.sendQueue.length > 0)\n\t    agentSend(true);\n\t  else\n\t    events.publish('reset');\n\t}\n\t\n\tmodule.exports = {\n\t  send: send,\n\t  retry: retry\n\t};\n\n\n/***/ },\n/* 61 */\n/*!**************************************!*\\\n  !*** ./src/events/handlers/start.js ***!\n  \\**************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\n\t* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n\t*\n\t* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n\t* in compliance with the License. You may obtain a copy of the License at\n\t*\n\t* http://www.apache.org/licenses/LICENSE-2.0\n\t*\n\t* Unless required by applicable law or agreed to in writing, software distributed under the License\n\t* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n\t* or implied. See the License for the specific language governing permissions and limitations under\n\t* the License.\n\t*/\n\t\n\tvar state = __webpack_require__(/*! ../../state */ 2);\n\tvar utils = __webpack_require__(/*! ../../utils */ 3);\n\tvar styles = __webpack_require__(/*! ../../styles */ 8);\n\tvar events = __webpack_require__(/*! ../../events */ 1);\n\tvar templates = __webpack_require__(/*! ../../templates */ 5);\n\t\n\tfunction start(data) {\n\t  var current;\n\t  state.set(data);\n\t  current = state.get();\n\t  styles.attachStyles();\n\t  current.root.classList.add(current.chatStyleID);\n\t  current.root.innerHTML = templates.start;\n\t  var addState = {\n\t    chat: current.root.querySelector('.IBMChat'),\n\t    outerContainer: current.root.querySelector('.IBMChat-outer-container'),\n\t    container: current.root.querySelector('.IBMChat-chat-container'),\n\t    chatHolder: current.root.querySelector('.IBMChat-messages'),\n\t    innerContainer: current.root.querySelector('.IBMChat-inner-container'),\n\t  };\n\t  //TODO: remove if conditional after Dashboard implements new playback\n\t  if (current.playback !== true) {\n\t    var chatBox = document.createElement('div');\n\t    chatBox.classList.add('IBMChat-input-container');\n\t    chatBox.classList.add('IBMChat-input-container-theme');\n\t    chatBox.innerHTML = utils.compile(templates.input, {\n\t      placeholder: 'Enter message...'\n\t    });\n\t    addState.outerContainer.appendChild(chatBox);\n\t    addState.inputHolder = current.root.querySelector('.IBMChat-input-container form');\n\t    addState.inputContainer = current.root.querySelector('.IBMChat-chat-text-container');\n\t    addState.input = current.root.querySelector('.IBMChat-chat-textbox');\n\t    addState.inputClone = current.root.querySelector('.IBMChat-chat-textbox-clone');\n\t    addState.form = current.root.querySelector('.IBMChat-input-form');\n\t    addState.form.addEventListener('submit', function(e) {\n\t      e.preventDefault();\n\t    });\n\t    addState.onResize = function() {\n\t      events.publish('resize');\n\t    };\n\t    if (current.tryIt) {\n\t      addState.chatHolder.addEventListener('click', function(e) {\n\t        if (e.target.dataset && e.target.dataset.intent) {\n\t          var index = e.target.dataset.intent;\n\t          var current = state.get();\n\t          e.preventDefault();\n\t          if (current.intents && current.intents[index])\n\t            events.publish('try-it-show-intent', current.intents[index]);\n\t          else\n\t            console.error('Intent index is undefined', current.intents, index);\n\t        }\n\t      });\n\t    }\n\t\n\t    addState.chatHolder.addEventListener('click', function(e) {\n\t      if (e.target.dataset && e.target.dataset.retry) {\n\t        events.publish('error-clear');\n\t        setTimeout(function() {\n\t          events.publish('enable-loading');\n\t          events.publish('reset');\n\t        }, 0);\n\t      }\n\t    });\n\t\n\t    addState.input.addEventListener('keydown', function(e) {\n\t      var current = state.get();\n\t      if (e.keyCode === 13) {\n\t        e.preventDefault();\n\t        if (!current.inProgress) {\n\t          events.publish('send-input-message');\n\t          addState.inputClone.innerHTML = '';\n\t          addState.input.style.overflow = 'hidden';\n\t          addState.input.style.height = addState.originalInputHeight + \"px\";\n\t          state.set({\n\t            inputHeight: addState.originalInputHeight\n\t          });\n\t        }\n\t      }\n\t      events.publish('resize');\n\t    });\n\t\n\t    addState.input.addEventListener('focus', function() {\n\t      events.publish('resize');\n\t    });\n\t\n\t    addState.input.addEventListener('blur', function() {\n\t      events.publish('resize');\n\t    });\n\t  }\n\t\n\t  window.addEventListener('resize', function() {\n\t    events.publish('resize');\n\t  });\n\t\n\t  window.addEventListener('orientationchange', function() {\n\t    events.publish('resize');\n\t  });\n\t\n\t  state.setState(addState);\n\t  utils.checkVisibility();\n\t  utils.addResizeListener(current.root, addState.onResize);\n\t  events.publish('resize');\n\t}\n\t\n\tmodule.exports = start;\n\n\n/***/ },\n/* 62 */\n/*!***************************************!*\\\n  !*** ./src/events/handlers/try-it.js ***!\n  \\***************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\n\t* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n\t*\n\t* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n\t* in compliance with the License. You may obtain a copy of the License at\n\t*\n\t* http://www.apache.org/licenses/LICENSE-2.0\n\t*\n\t* Unless required by applicable law or agreed to in writing, software distributed under the License\n\t* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n\t* or implied. See the License for the specific language governing permissions and limitations under\n\t* the License.\n\t*/\n\t\n\tvar events = __webpack_require__(/*! ../../events */ 1);\n\tvar state = __webpack_require__(/*! ../../state */ 2);\n\t\n\tfunction _addDataSet(data) {\n\t  var current = state.get();\n\t  var queue = current.intents || [];\n\t  var newQueue = queue.slice(0);\n\t  var count = newQueue.push(data);\n\t  state.set({\n\t    intents: newQueue\n\t  });\n\t  return count - 1;\n\t}\n\t\n\tfunction actionError(action) {\n\t  events.publish('receive', {\n\t    message: {\n\t      layout: {\n\t        name: 'error',\n\t        message: 'A subscription was called to ' + action + '. Nothing is subscribed to this action in the Try-It interface. This is probably due to you using a custom workspace. On your own site, you should have code to handle this action.'\n\t      }\n\t    }\n\t  });\n\t}\n\t\n\tfunction layoutError(layout) {\n\t  events.publish('receive', {\n\t    message: {\n\t      layout: {\n\t        name: 'error',\n\t        message: 'A subscription was called to ' + layout + '. Nothing is subscribed to this layout in the Try-It interface. This is probably due to you using a custom workspace. On your own site, you should have code to handle this layout.'\n\t      }\n\t    }\n\t  });\n\t}\n\t\n\tfunction intent(data) {\n\t  var element = data.element;\n\t  var label = data.blueprint.label;\n\t  /* TODO: add switch\n\t  var enabled = data.enabled;\n\t  */\n\t  var link = document.createElement('a');\n\t  link.textContent = label;\n\t  link.setAttribute('href', 'javascript:void(0)');\n\t  link.setAttribute('data-intent', _addDataSet(data));\n\t  element.appendChild(link);\n\t}\n\t\n\tmodule.exports = {\n\t  actionError: actionError,\n\t  layoutError: layoutError,\n\t  intent: intent\n\t};\n\n\n/***/ },\n/* 63 */\n/*!*******************************************!*\\\n  !*** ./src/layouts/cc-validator/index.js ***!\n  \\*******************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n\t*\n\t* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n\t* in compliance with the License. You may obtain a copy of the License at\n\t*\n\t* http://www.apache.org/licenses/LICENSE-2.0\n\t*\n\t* Unless required by applicable law or agreed to in writing, software distributed under the License\n\t* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n\t* or implied. See the License for the specific language governing permissions and limitations under\n\t* the License.\n\t*/\n\t\n\tvar events = __webpack_require__(/*! ../../events */ 1);\n\tvar profile = __webpack_require__(/*! ../../profile */ 7);\n\tvar subscribe = events.subscribe;\n\tvar publish = events.publish;\n\tvar utils = __webpack_require__(/*! ../../utils */ 3);\n\tvar validation = __webpack_require__(/*! ./validation */ 64);\n\tvar activeClassName = 'IBMChat-accent-colors';\n\tvar inactiveClassName = 'IBMChat-accent-colors-button';\n\tvar ns = 'IBMChat-creditcard';\n\tvar widgets = [];\n\tvar templates = {\n\t  base: __webpack_require__(/*! ./templates/base.html */ 23)\n\t};\n\t\n\tvar creditCardLayout = {\n\t  init: function() {\n\t    subscribe('layout:cc-validator', function(data) {\n\t      var widget = new CreditCard(data);\n\t      widgets[data.uuid] = widget;\n\t    });\n\t  }\n\t};\n\t\n\tfunction CreditCard(data) {\n\t  this.init(data);\n\t}\n\t\n\tCreditCard.prototype.init = function(data) {\n\t  this.data = data.message.layout.data || {};\n\t  this.data.acceptedCards = this.data.types;\n\t  this.uuid = data.uuid;\n\t  this.parentElement = data.element;\n\t  this.layoutElement = data.layoutElement;\n\t  this.msgElement = data.msgElement;\n\t  this.formData = {};\n\t  this.drawForm();\n\t  this.subscribeSend = subscribe('send', this.removeAllEventListeners.bind(this));\n\t  publish('disable-input');\n\t};\n\t\n\tCreditCard.prototype.drawForm = function() {\n\t  var text = templates.base;\n\t  this.el = document.createElement('div');\n\t  text = utils.compile(templates.base, {\n\t    ns: ns,\n\t    uuid: utils.getUUID()\n\t  });\n\t  this.el.innerHTML = text;\n\t  this.layoutElement.appendChild(this.el);\n\t  this.cancelButton = this.el.querySelector('.' + ns + '-cancel');\n\t  this.submitButton = this.el.querySelector('.' + ns + '-submit');\n\t  this.cancelButton.classList.add(inactiveClassName);\n\t  this.submitButton.classList.add(inactiveClassName);\n\t  this.formElements = {};\n\t  this.fields = this.el.querySelectorAll('input');\n\t  for (var i = 0; i < this.fields.length; i++) {\n\t    var field = this.fields[i];\n\t    var name = field.getAttribute('name');\n\t    this.formElements[name] = field;\n\t  }\n\t  this.formElements['cc_full_name'].focus();\n\t  this.addListeners();\n\t};\n\t\n\tCreditCard.prototype.addError = function(name, msg) {\n\t  var field, errorElement;\n\t  if (name === 'cc_exp_date') {\n\t    field = this.formElements[\"cc_exp_date_month\"];\n\t    field.setAttribute('aria-invalid', true);\n\t    field.dataset.valid = false;\n\t    field = this.formElements[\"cc_exp_date_year\"];\n\t    field.setAttribute('aria-invalid', true);\n\t    field.dataset.valid = false;\n\t  } else {\n\t    field = this.formElements[name];\n\t    field.setAttribute('aria-invalid', true);\n\t    field.dataset.valid = false;\n\t  }\n\t  errorElement = this.el.querySelector('[data-validation-for=\"' + name + '\"]');\n\t  errorElement.style.display = 'block';\n\t  errorElement.dataset.valid = false;\n\t  errorElement.textContent = msg;\n\t};\n\t\n\tCreditCard.prototype.removeError = function(name) {\n\t  var field, errorElement;\n\t  if (name === 'cc_exp_date') {\n\t    field = this.formElements[\"cc_exp_date_month\"];\n\t    field.removeAttribute('aria-invalid');\n\t    field.dataset.valid = true;\n\t    field = this.formElements[\"cc_exp_date_year\"];\n\t    field.removeAttribute('aria-invalid');\n\t    field.dataset.valid = true;\n\t  } else {\n\t    field = this.formElements[name];\n\t    field.removeAttribute('aria-invalid');\n\t    field.dataset.valid = true;\n\t  }\n\t  errorElement = this.el.querySelector('[data-validation-for=\"' + name + '\"]');\n\t  errorElement.style.display = 'none';\n\t  errorElement.dataset.valid = true;\n\t  errorElement.textContent = '';\n\t};\n\t\n\tCreditCard.prototype.validate_cc_full_name = function(valid) {\n\t  if (this.formData.cc_full_name.trim().length === 0) {\n\t    this.addError('cc_full_name', 'This field is required.');\n\t    if (valid) this.formElements['cc_full_name'].focus();\n\t    valid = false;\n\t  } else {\n\t    this.removeError('cc_full_name');\n\t  }\n\t  return valid;\n\t};\n\t\n\tCreditCard.prototype.validate_cc_number = function(valid) {\n\t  var cc = validation.validateCard(this.data.acceptedCards, this.formData.cc_number, this.formElements.cc_number);\n\t  if (!cc.valid) {\n\t    this.addError('cc_number', cc.message);\n\t    if (valid) this.formElements['cc_number'].focus();\n\t    valid = false;\n\t  } else {\n\t    this.removeError('cc_number');\n\t  }\n\t  return valid;\n\t};\n\t\n\tCreditCard.prototype.validate_cc_exp_date = function(valid) {\n\t  var exp = validation.validateExp(this.formData.cc_exp_date_month, this.formData.cc_exp_date_year);\n\t  if (!exp.valid) {\n\t    this.addError('cc_exp_date', exp.message);\n\t    if (valid) this.formElements['cc_exp_date_month'].focus();\n\t    valid = false;\n\t  } else {\n\t    this.removeError('cc_exp_date');\n\t  }\n\t  return valid;\n\t};\n\t\n\tCreditCard.prototype.validate_cc_code = function(valid) {\n\t  var cvv = validation.validateCVV(this.formData.cc_code);\n\t  if (!cvv.valid) {\n\t    this.addError('cc_code', cvv.message);\n\t    if (valid) this.formElements['cc_code'].focus();\n\t    valid = false;\n\t  } else {\n\t    this.removeError('cc_code');\n\t  }\n\t  return valid;\n\t};\n\t\n\tCreditCard.prototype.validate = function() {\n\t  var valid = true;\n\t  valid = this.validate_cc_full_name(valid);\n\t  valid = this.validate_cc_number(valid);\n\t  valid = this.validate_cc_exp_date(valid);\n\t  valid = this.validate_cc_code(valid);\n\t  return valid;\n\t};\n\t\n\tCreditCard.prototype.preprocessFormData = function() {\n\t  this.formData = {};\n\t  for (var i = 0; i < this.fields.length; i++) {\n\t    var field = this.fields[i];\n\t    var name = field.getAttribute('name');\n\t    // set month to 2 digit format\n\t    if (name === 'cc_exp_date_month' && /^[1-9]$/.test(field.value))\n\t      field.value = '0' + field.value;\n\t    this.formData[name] = field.value;\n\t  }\n\t};\n\t\n\tCreditCard.prototype.handleKeyup = function(e) {\n\t  var el = e.target;\n\t  var validation = {\n\t    'cc_full_name': this.validate_cc_full_name,\n\t    'cc_number': this.validate_cc_number,\n\t    'cc_exp_date_month': this.validate_cc_exp_date,\n\t    'cc_exp_date_year': this.validate_cc_exp_date,\n\t    'cc_code': this.validate_cc_code\n\t  };\n\t  var name = el.getAttribute('name');\n\t  if (e.keyCode === 13) {\n\t    e.preventDefault();\n\t    this.handleSubmit();\n\t  } else if (el.dataset.valid == 'false' && typeof validation[name] === 'function') {\n\t    this.formData[name] = el.value;\n\t    validation[name].call(this, false);\n\t  }\n\t};\n\t\n\tCreditCard.prototype.handleSubmit = function() {\n\t  this.preprocessFormData();\n\t  if (this.validate()) {\n\t    var fd = this.formData;\n\t    fd.cc_exp_date = fd.cc_exp_date_month + '/' + fd.cc_exp_date_year;\n\t    fd.cc_last_four_digits = fd.cc_number.substr(fd.cc_number.length - 4);\n\t    Object.keys(fd).map(function(key) {\n\t      profile.set(key, fd[key]);\n\t    });\n\t    this.submitButton.classList.remove(inactiveClassName);\n\t    this.submitButton.classList.add(activeClassName);\n\t    publish('enable-input');\n\t    publish('send', {\n\t      silent: true,\n\t      text: 'success'\n\t    });\n\t  }\n\t};\n\t\n\tCreditCard.prototype.handleCancel = function() {\n\t  this.cancelButton.classList.remove(inactiveClassName);\n\t  this.cancelButton.classList.add(activeClassName);\n\t  publish('enable-input');\n\t  publish('send', {\n\t    silent: true,\n\t    text: 'cancel'\n\t  });\n\t};\n\t\n\tCreditCard.prototype.addListeners = function() {\n\t  this.cancelButton.addEventListener('click', this.handleCancel.bind(this));\n\t  this.submitButton.addEventListener('click', this.handleSubmit.bind(this));\n\t  for (var i = 0; i < this.fields.length; i++)\n\t    this.fields[i].addEventListener('keyup', this.handleKeyup.bind(this));\n\t};\n\t\n\tCreditCard.prototype.removeAllEventListeners = function() {\n\t  this.cancelButton.removeEventListener('click', this.handleCancel.bind(this));\n\t  this.cancelButton.setAttribute('disabled', true);\n\t  this.submitButton.removeEventListener('click', this.handleSubmit.bind(this));\n\t  this.submitButton.setAttribute('disabled', true);\n\t  for (var j = 0; j < this.fields.length; j++) {\n\t    var field = this.fields[j];\n\t    field.removeEventListener('keyup', this.handleKeyup.bind(this));\n\t    field.setAttribute('disabled', true);\n\t  }\n\t  this.subscribeSend.remove();\n\t};\n\t\n\tmodule.exports = creditCardLayout;\n\n\n/***/ },\n/* 64 */\n/*!************************************************!*\\\n  !*** ./src/layouts/cc-validator/validation.js ***!\n  \\************************************************/\n/***/ function(module, exports) {\n\n\t/**\n\t* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n\t*\n\t* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n\t* in compliance with the License. You may obtain a copy of the License at\n\t*\n\t* http://www.apache.org/licenses/LICENSE-2.0\n\t*\n\t* Unless required by applicable law or agreed to in writing, software distributed under the License\n\t* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n\t* or implied. See the License for the specific language governing permissions and limitations under\n\t* the License.\n\t*/\n\t\n\t//https://en.wikipedia.org/wiki/Payment_card_number\n\t\n\tvar state = {\n\t  acceptedCards: [],\n\t  cardNumber: '',\n\t  cardType: ''\n\t};\n\t\n\tvar messages = {\n\t  required: 'This field is required.',\n\t  acceptedCard: function() {\n\t    var cards = state.acceptedCards;\n\t    var length = cards.length;\n\t    var text = 'We accept ';\n\t    if (length === 1) {\n\t      text += cardData[cards[0]].human;\n\t    } else {\n\t      var middle = cards.slice(1, length - 1);\n\t      text += cardData[cards[0]].human;\n\t      for (var i = 0; i < middle.length; i++)\n\t        text += ', ' + cardData[middle[i]].human;\n\t      text += ' and ' + cardData[cards[length - 1]].human;\n\t    }\n\t    text += '. Please use a valid card.';\n\t    return text;\n\t  },\n\t  invalid: 'Your credit card number is invalid.',\n\t  invalidExpiration: 'Your credit card expiration date is invalid.',\n\t  invalidCvv: 'Your CVV is invalid.'\n\t};\n\t\n\tvar cardData = {\n\t  \"visa\": {\n\t    human: \"Visa\",\n\t    prefixes: [4],\n\t    lengths: [13, 16, 19]\n\t  },\n\t  \"mastercard\": {\n\t    human: \"MasterCard\",\n\t    prefixes: [51, 52, 53, 54, 55],\n\t    lengths: [16]\n\t  },\n\t  \"amex\": {\n\t    human: \"American Express\",\n\t    prefixes: [34, 37],\n\t    lengths: [15]\n\t  },\n\t  \"discover\": {\n\t    human: \"Discover\",\n\t    prefixes: [6011, 65],\n\t    lengths: [16, 19]\n\t  }\n\t};\n\t\n\tvar i;\n\t//MasterCard adding these numbers in 2017\n\tfor (i = 2221; i <= 2720; i++)\n\t  cardData.mastercard.prefixes.push(i);\n\t\n\tfor (i = 622126; i <= 622925; i++)\n\t  cardData.discover.prefixes.push(i);\n\t\n\tfor (i = 644; i <= 649; i++)\n\t  cardData.discover.prefixes.push(i);\n\t\n\tfunction _detectCard() {\n\t  for (var i = 0; i < state.acceptedCards.length; i++) {\n\t    var data = cardData[state.acceptedCards[i]];\n\t    for (var j = 0; j < data.prefixes.length; j++) {\n\t      var x = data.prefixes[j].toString();\n\t      if (state.cardNumber.substring(0, x.length) === x) {\n\t        state.cardType = state.acceptedCards[i];\n\t        return true;\n\t      }\n\t    }\n\t  }\n\t  return false;\n\t}\n\t\n\tfunction _checkLuhn() {\n\t  var checksum = 0; // running checksum total\n\t  var j = 1; // takes value of 1 or 2\n\t\n\t  // Process each digit one by one starting at the right\n\t  var calc;\n\t  for (var i = state.cardNumber.length - 1; i >= 0; i--) {\n\t    // Extract the next digit and multiply by 1 or 2 on alternative digits.\n\t    calc = Number(state.cardNumber.charAt(i)) * j;\n\t\n\t    // If the result is in two digits add 1 to the checksum total\n\t    if (calc > 9) {\n\t      checksum = checksum + 1;\n\t      calc = calc - 10;\n\t    }\n\t\n\t    // Add the units element to the checksum total\n\t    checksum = checksum + calc;\n\t\n\t    // Switch the value of j\n\t    j = (j == 1) ? 2 : 1;\n\t  }\n\t\n\t  // All done - if checksum is divisible by 10, it is a valid modulus 10.\n\t  // If not, report an error.\n\t  return (checksum % 10 != 0) ? false : true;\n\t}\n\t\n\tfunction _invalid(message) {\n\t  return {\n\t    'message': message,\n\t    'valid': false\n\t  };\n\t}\n\t\n\tfunction _valid() {\n\t  return {\n\t    'valid': true\n\t  };\n\t}\n\t\n\tfunction validateCard(acceptedCards, cardNumber, cardElement) {\n\t  state.acceptedCards = acceptedCards;\n\t  state.cardNumber = cardNumber.replace(/\\D/g,'');\n\t\n\t  if (cardNumber.length === 0)\n\t    return _invalid(messages.required);\n\t\n\t  if (state.cardNumber.length === 0)\n\t    return _invalid(messages.invalid);\n\t\n\t  if (_detectCard()) {\n\t    if (cardData[state.cardType].lengths.indexOf(state.cardNumber.length) === -1)\n\t      return _invalid(messages.invalid);\n\t    if (_checkLuhn() === false)\n\t      return _invalid(messages.invalid);\n\t  } else {\n\t    if (state.acceptedCards.indexOf(state.cardType) === -1)\n\t      return _invalid(messages.acceptedCard());\n\t    return _invalid(messages.invalid);\n\t  }\n\t\n\t  var valid =  _valid();\n\t  if (valid && state.cardNumber !== cardNumber && cardElement)\n\t    cardElement.value = state.cardNumber;\n\t  return valid;\n\t}\n\t\n\tfunction validateExp(userM, userY) {\n\t  var monthRegexp = /^(0[1-9]|1[012])$/;\n\t  var yearRegexp = /^(20)[0-9][0-9]$/;\n\t  var d = new Date();\n\t  var month = d.getMonth() + 1; // normalize, Date#getMonth is 0 indexed\n\t  var year = d.getFullYear();\n\t\n\t  if (userM.length === 0 || userY.length === 0)\n\t    return _invalid(messages.invalidExpiration);\n\t\n\t  var invalidDigits = !userM.match(monthRegexp) || !userY.match(yearRegexp);\n\t  userM = parseInt(userM, 10);\n\t  userY = parseInt(userY, 10);\n\t  var yearNotInRange = (userY > year + 20) || (userY < year);\n\t  var beforeCurrentMonth = (userY === year && userM < month);\n\t  if (invalidDigits || yearNotInRange || beforeCurrentMonth)\n\t    return _invalid(messages.invalidExpiration);\n\t\n\t  return _valid();\n\t}\n\t\n\tfunction validateCVV(CVV) {\n\t  // 3 or 4 digits\n\t  var CVVRegex = /^[0-9]{3,4}$/;\n\t  if (CVV.length === 0)\n\t    return _invalid(messages.invalidCvv);\n\t\n\t  if (!CVV.match(CVVRegex))\n\t    return _invalid(messages.invalidCvv);\n\t\n\t  return _valid();\n\t}\n\t\n\tmodule.exports = {\n\t  validateCard: validateCard,\n\t  validateExp: validateExp,\n\t  validateCVV: validateCVV,\n\t  cardData: cardData\n\t};\n\n\n/***/ },\n/* 65 */\n/*!***************************************************!*\\\n  !*** ./src/layouts/choose-location-type/index.js ***!\n  \\***************************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n\t*\n\t* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n\t* in compliance with the License. You may obtain a copy of the License at\n\t*\n\t* http://www.apache.org/licenses/LICENSE-2.0\n\t*\n\t* Unless required by applicable law or agreed to in writing, software distributed under the License\n\t* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n\t* or implied. See the License for the specific language governing permissions and limitations under\n\t* the License.\n\t*/\n\t\n\tvar events = __webpack_require__(/*! ../../events */ 1);\n\tvar subscribe = events.subscribe;\n\tvar publish = events.publish;\n\tvar activeClassName = 'IBMChat-accent-colors';\n\tvar inactiveClassName = 'IBMChat-accent-colors-button';\n\tvar utils = __webpack_require__(/*! ../../utils */ 3);\n\t\n\tvar ns = 'IBMChat-islocationapi';\n\tvar chooseLocationTypes = [];\n\t\n\tvar chooseLocationTypeLayout = {\n\t  init: function() {\n\t    subscribe('layout:choose-location-type', function(data) {\n\t      var chooseLocationType = new ChooseLocationType(data);\n\t      chooseLocationTypes[data.uuid] = chooseLocationType;\n\t    });\n\t  }\n\t};\n\t\n\tvar values = {\n\t  postalcode: 'zipcode',\n\t  geolocation: 'latlong'\n\t};\n\t\n\tvar templates = {\n\t  base: __webpack_require__(/*! ./templates/base.html */ 24)\n\t};\n\t\n\tfunction ChooseLocationType(data) {\n\t  this.init(data);\n\t}\n\t\n\tChooseLocationType.prototype = {\n\t  init: function(data) {\n\t    this.data = data.data;\n\t    this.uuid = data.uuid;\n\t    if ('navigator' in window && 'geolocation' in navigator) {\n\t      this.eventListeners = [];\n\t      this.parentElement = data.element;\n\t      this.layoutElement = data.layoutElement;\n\t      this.el = document.createElement('div');\n\t      this.el.innerHTML = utils.compile(templates.base, {\n\t        ns: ns,\n\t        'values.geolocation': values.geolocation,\n\t        'values.postalcode': values.postalcode\n\t      });\n\t      this.layoutElement.appendChild(this.el);\n\t      this.buttons = this.layoutElement.querySelectorAll('button');\n\t      this.buttons[0].focus();\n\t      for (var i = 0; i < this.buttons.length; i++) {\n\t        this.buttons[i].dataset.uuid = this.uuid;\n\t        this.buttons[i].addEventListener('click', this.handleClick);\n\t        this.eventListeners.push(this.buttons[i]);\n\t      }\n\t      if (this.eventListeners.length > 0)\n\t        this.subscribeSend = subscribe('send', this.removeAllEventListeners.bind(this));\n\t    } else {\n\t      publish('send', {\n\t        text: values.postalcode,\n\t        silent: true\n\t      });\n\t    }\n\t  },\n\t  handleClick: function() {\n\t    var data = {\n\t      silent: true,\n\t      text: null\n\t    };\n\t    data.text = this.dataset.input;\n\t    this.classList.add(activeClassName);\n\t    this.classList.remove(inactiveClassName);\n\t    publish('send', data);\n\t    publish('focus-input');\n\t  },\n\t  removeAllEventListeners: function() {\n\t    if (this.eventListeners.length > 0) {\n\t      for (var i = 0; i < this.eventListeners.length; i++) {\n\t        this.eventListeners[i].removeEventListener('click', this.handleClick);\n\t        this.eventListeners[i].setAttribute('disabled', true);\n\t      }\n\t      this.eventListeners = [];\n\t    }\n\t    this.subscribeSend.remove();\n\t  }\n\t};\n\t\n\tmodule.exports = chooseLocationTypeLayout;\n\n\n/***/ },\n/* 66 */\n/*!*************************************!*\\\n  !*** ./src/layouts/choose/index.js ***!\n  \\*************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n\t*\n\t* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n\t* in compliance with the License. You may obtain a copy of the License at\n\t*\n\t* http://www.apache.org/licenses/LICENSE-2.0\n\t*\n\t* Unless required by applicable law or agreed to in writing, software distributed under the License\n\t* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n\t* or implied. See the License for the specific language governing permissions and limitations under\n\t* the License.\n\t*/\n\t\n\tvar events = __webpack_require__(/*! ../../events */ 1);\n\tvar subscribe = events.subscribe;\n\tvar publish = events.publish;\n\tvar utils = __webpack_require__(/*! ../../utils */ 3);\n\tvar ns = 'IBMChat-choose';\n\tvar activeClassName = 'IBMChat-accent-colors';\n\tvar inactiveClassName = 'IBMChat-accent-colors-button';\n\tvar widgets = [];\n\tvar templates = {\n\t  button: __webpack_require__(/*! ./templates/button.html */ 25),\n\t  submit: __webpack_require__(/*! ./templates/submit.html */ 26)\n\t};\n\t\n\tvar chooseLayout = {\n\t  init: function() {\n\t    subscribe('layout:choose', function(data) {\n\t      var widget = new Choose(data);\n\t      widgets[data.uuid] = widget;\n\t    });\n\t    subscribe('layout:confirm', function(data) {\n\t      var widget = new Choose(data);\n\t      widgets[data.uuid] = widget;\n\t    });\n\t  }\n\t};\n\t\n\tfunction Choose(data) {\n\t  this.init(data);\n\t}\n\t\n\tChoose.prototype.init = function(data) {\n\t  this.allowMultiple = (data.message.inputvalidation.someOf !== undefined);\n\t  this.values = [];\n\t  this.data = (this.allowMultiple) ? data.message.inputvalidation.someOf : data.message.inputvalidation.oneOf;\n\t  this.uuid = data.uuid;\n\t  this.parentElement = data.element;\n\t  this.layoutElement = data.layoutElement;\n\t  this.msgElement = data.msgElement;\n\t  this.drawButtons();\n\t  this.subscribeSend = subscribe('send', this.removeAllEventListeners.bind(this));\n\t};\n\t\n\tChoose.prototype.eventListeners = [];\n\t\n\tChoose.prototype.drawButtons = function() {\n\t  var tmpl = templates.button;\n\t  this.el = document.createElement('div');\n\t  this.el.classList.add(ns + '-container');\n\t\n\t  for (var i = 0; i < this.data.length; i++) {\n\t    var text = this.data[i];\n\t    var buttonHolder = document.createElement('div');\n\t    buttonHolder.classList.add(ns + '-option');\n\t    var parsed = utils.compile(tmpl, {\n\t      text: text\n\t    });\n\t    var button;\n\t    buttonHolder.innerHTML = parsed;\n\t    this.el.appendChild(buttonHolder);\n\t    button = buttonHolder.querySelector('button');\n\t    button.setAttribute('data-uuid', this.uuid);\n\t    button.classList.add(inactiveClassName);\n\t    this.addListener(button);\n\t  }\n\t\n\t  if (this.allowMultiple) {\n\t    var submit = document.createElement('div');\n\t    var submitBtn = utils.compile(templates.submit, {\n\t      text: 'Submit'\n\t    });\n\t    submit.classList.add(ns + '-submit');\n\t    submit.innerHTML = submitBtn;\n\t    this.submitButton = submit.querySelector('button');\n\t    this.submitButton.classList.add(activeClassName);\n\t    this.submitButton.setAttribute('disabled', true);\n\t    this.el.appendChild(submit);\n\t    this.addSubmitListener(this.submitButton);\n\t  }\n\t\n\t  this.layoutElement.appendChild(this.el);\n\t  this.layoutElement.querySelectorAll('button')[0].focus();\n\t};\n\t\n\tChoose.prototype.handleClick = function() {\n\t  var data = {\n\t    silent: true,\n\t    text: null\n\t  };\n\t  data.text = this.dataset.input;\n\t  this.classList.add(activeClassName);\n\t  this.classList.add('IBMChat-accent-colors');\n\t  publish('send', data);\n\t};\n\t\n\tChoose.prototype.handleMultiClick = function() {\n\t  var buttons;\n\t  var instance = widgets[this.dataset.uuid];\n\t  if (utils.hasClass(this, activeClassName)) {\n\t    this.classList.add(inactiveClassName);\n\t    this.classList.remove(activeClassName);\n\t  } else {\n\t    this.classList.add(activeClassName);\n\t    this.classList.remove(inactiveClassName);\n\t  }\n\t  buttons = instance.el.querySelectorAll('.' + ns + '-option .' + activeClassName);\n\t  if (buttons.length > 0)\n\t    instance.submitButton.removeAttribute('disabled');\n\t  else\n\t    instance.submitButton.setAttribute('disabled', true);\n\t};\n\t\n\tChoose.prototype.handleSubmit = function() {\n\t  var buttons = this.el.querySelectorAll('.' + activeClassName);\n\t  for (var i = 0; i < buttons.length; i++)\n\t    this.values.push(buttons[i].dataset.input);\n\t  publish('send', {\n\t    silent: true,\n\t    text: this.values.toString().slice(0, -1)\n\t  });\n\t};\n\t\n\tChoose.prototype.addListener = function(el) {\n\t  if (this.allowMultiple)\n\t    el.addEventListener('click', this.handleMultiClick);\n\t  else\n\t    el.addEventListener('click', this.handleClick);\n\t  this.eventListeners.push({ el: el, cb: (this.allowMultiple) ? this.handleMultiClick: this.handleClick });\n\t};\n\t\n\tChoose.prototype.addSubmitListener = function(el) {\n\t  el.addEventListener('click', this.handleSubmit.bind(this));\n\t  this.eventListeners.push({ el: el, cb: this.handleSubmit.bind(this) });\n\t};\n\t\n\tChoose.prototype.removeAllEventListeners = function() {\n\t  if (this.eventListeners.length > 0) {\n\t    for (var i = 0; i < this.eventListeners.length; i++) {\n\t      this.eventListeners[i].el.removeEventListener('click', this.eventListeners[i].cb);\n\t      this.eventListeners[i].el.setAttribute('disabled', true);\n\t    }\n\t    this.eventListeners = [];\n\t    this.subscribeSend.remove();\n\t  }\n\t};\n\t\n\tmodule.exports = chooseLayout;\n\n\n/***/ },\n/* 67 */\n/*!************************************!*\\\n  !*** ./src/layouts/error/index.js ***!\n  \\************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n\t*\n\t* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n\t* in compliance with the License. You may obtain a copy of the License at\n\t*\n\t* http://www.apache.org/licenses/LICENSE-2.0\n\t*\n\t* Unless required by applicable law or agreed to in writing, software distributed under the License\n\t* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n\t* or implied. See the License for the specific language governing permissions and limitations under\n\t* the License.\n\t*/\n\t\n\tvar events = __webpack_require__(/*! ../../events */ 1);\n\tvar errors = [];\n\tvar ns = 'IBMChat-error';\n\t\n\tvar errorLayout = {\n\t  init: function() {\n\t    events.subscribe('layout:error', function(data) {\n\t      var error = new Error(data);\n\t      errors[data.uuid] = error;\n\t    });\n\t  }\n\t};\n\t\n\tvar templates = {\n\t  base: __webpack_require__(/*! ./templates/base.html */ 27)\n\t};\n\t\n\tfunction Error(data) {\n\t  this.init(data);\n\t}\n\t\n\tError.prototype.init = function(data) {\n\t  this.message = data.message.layout.message;\n\t  this.uuid = data.uuid;\n\t  this.parentElement = data.element;\n\t  this.layoutElement = data.layoutElement;\n\t  this.layoutElement.innerHTML = templates.base;\n\t  this.layoutElement.querySelector('.' + ns).textContent = this.message;\n\t};\n\t\n\t\n\tmodule.exports = errorLayout;\n\n\n/***/ },\n/* 68 */\n/*!***********************************!*\\\n  !*** ./src/layouts/form/index.js ***!\n  \\***********************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n\t*\n\t* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n\t* in compliance with the License. You may obtain a copy of the License at\n\t*\n\t* http://www.apache.org/licenses/LICENSE-2.0\n\t*\n\t* Unless required by applicable law or agreed to in writing, software distributed under the License\n\t* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n\t* or implied. See the License for the specific language governing permissions and limitations under\n\t* the License.\n\t*/\n\t\n\tvar events = __webpack_require__(/*! ../../events */ 1);\n\tvar profile = __webpack_require__(/*! ../../profile */ 7);\n\tvar utils = __webpack_require__(/*! ../../utils */ 3);\n\tvar subscribe = events.subscribe;\n\tvar publish = events.publish;\n\tvar ns = 'IBMChat-form';\n\tvar activeClassName = 'IBMChat-accent-colors';\n\tvar inactiveClassName = 'IBMChat-accent-colors-button';\n\tvar templates = {\n\t  base: __webpack_require__(/*! ./templates/base.html */ 28),\n\t  field: __webpack_require__(/*! ./templates/field.html */ 29)\n\t};\n\tvar widgets = [];\n\t\n\tvar formLayout = {\n\t  init: function() {\n\t    subscribe('layout:form', function(data) {\n\t      var widget = new Form(data);\n\t      widgets[data.uuid] = widget;\n\t    });\n\t  }\n\t};\n\t\n\tfunction Form(data) {\n\t  this.init(data);\n\t}\n\t\n\tForm.prototype.init = function(data) {\n\t  this.data = data.message.store || [];\n\t  this.action = data.message.action || '';\n\t  this.label = data.message.layout.label || {};\n\t  this.uuid = data.uuid;\n\t  this.parentElement = data.element;\n\t  this.layoutElement = data.layoutElement;\n\t  this.msgElement = data.msgElement;\n\t  this.drawForm();\n\t  this.subscribeSend = subscribe('send', this.removeEventListeners.bind(this));\n\t  publish('disable-input');\n\t};\n\t\n\tForm.prototype.drawForm = function() {\n\t  var base = document.createElement('div');\n\t  var formFields;\n\t  base.innerHTML = utils.compile(templates.base, {\n\t    submit: this.label.submit || 'Submit',\n\t    cancel: this.label.cancel || 'Cancel'\n\t  });\n\t  formFields = base.querySelector('.IBMChat-form-fields');\n\t  this.data.forEach(function(datum, index) {\n\t    var field = document.createElement('div');\n\t    field.innerHTML = utils.compile(templates.field, {\n\t      label: datum.label || '',\n\t      name: datum.name,\n\t      uuid: utils.getUUID(),\n\t      type: datum.type || 'text',\n\t      index: index,\n\t      value: ''\n\t    });\n\t    field.className = ns + '-fields-row';\n\t    formFields.appendChild(field);\n\t  });\n\t  this.fields = formFields.querySelectorAll('input');\n\t  this.submitButton = base.querySelector('.' + ns + '-submit');\n\t  this.cancelButton = base.querySelector('.' + ns + '-cancel');\n\t  this.submitButton.classList.add(inactiveClassName);\n\t  this.cancelButton.classList.add(inactiveClassName);\n\t  this.layoutElement.appendChild(base);\n\t  this.fields[0].focus();\n\t  this.addEventListeners();\n\t};\n\t\n\tForm.prototype.handleSubmit = function() {\n\t  if (this.validateFields() === true) {\n\t    for (var i = 0; i < this.fields.length; i++)\n\t      profile.set(this.fields[i].getAttribute('name'), this.fields[i].value || new String(''));\n\t    this.submitButton.classList.remove(inactiveClassName);\n\t    this.submitButton.classList.add(activeClassName);\n\t    publish('send', {\n\t      silent: true,\n\t      text: 'success'\n\t    });\n\t    publish('enable-input');\n\t  } else {\n\t    this.setFocusOnError();\n\t  }\n\t};\n\t\n\tForm.prototype.setFocusOnError = function() {\n\t  for (var j = 0; j < this.fields.length; j++) {\n\t    var name = this.fields[j].getAttribute('name');\n\t    var el = this.layoutElement.querySelector('[data-validation-for=\"' + name + '\"]');\n\t    if (el.dataset.valid === \"false\") {\n\t      this.fields[j].focus();\n\t      break;\n\t    }\n\t  }\n\t};\n\t\n\tForm.prototype.validateFields = function() {\n\t  var allFieldsAreValid = true;\n\t  for (var i = 0; i < this.data.length; i++) {\n\t    var fieldIsValid = this.validateField(this.fields[i], this.data[i]);\n\t    allFieldsAreValid = allFieldsAreValid && fieldIsValid;\n\t  }\n\t  return allFieldsAreValid;\n\t};\n\t\n\tForm.prototype.validateField = function(field, datum) {\n\t  var valid = true;\n\t  if ((!field.value || field.value.trim().length === 0) && datum.required == 'true') {\n\t    this.addError(field.getAttribute('name'), 'This field is required.');\n\t    valid = false;\n\t  }\n\t  if (valid === true && datum.validations && datum.validations.length !== 0) {\n\t    for (var i = 0; i < datum.validations.length; i++) {\n\t      // regexes received from backend should always include\n\t      // start/end of line anchors (^, $)\n\t      var validation = datum.validations[i];\n\t      var validationRegex = validation.regex;\n\t      var regex = new RegExp(validationRegex);\n\t      var matches = regex.test(field.value);\n\t      if (!matches) {\n\t        this.addError(field.getAttribute('name'), validation.message);\n\t        valid = false;\n\t        break;\n\t      }\n\t    }\n\t  }\n\t  return valid;\n\t};\n\t\n\tForm.prototype.addError = function(name, msg) {\n\t  var field = this.layoutElement.querySelector('[name=\"' + name + '\"]');\n\t  field.dataset.valid = false;\n\t  var errorEl = this.layoutElement.querySelector('[data-validation-for=\"' + name + '\"]');\n\t  field.setAttribute('aria-invalid', true);\n\t  errorEl.dataset.valid = false;\n\t  errorEl.textContent = msg;\n\t  errorEl.style.display = 'block';\n\t};\n\t\n\tForm.prototype.removeError = function(name) {\n\t  var field = this.layoutElement.querySelector('[name=\"' + name + '\"]');\n\t  field.dataset.valid = true;\n\t  var errorEl = this.layoutElement.querySelector('[data-validation-for=\"' + name + '\"]');\n\t  field.removeAttribute('aria-invalid');\n\t  errorEl.dataset.valid = true;\n\t  errorEl.textContent = '';\n\t  errorEl.style.display = 'none';\n\t};\n\t\n\tForm.prototype.removeAllErrors = function() {\n\t  var els = this.layoutElement.querySelectorAll('[data-validation-for]');\n\t  for (var i = 0; i < els.length; i++)\n\t    this.removeError(els[i].attr('data-validation-for'));\n\t};\n\t\n\tForm.prototype.handleKeyup = function(e) {\n\t  var index = e.target.dataset.index;\n\t  if (e.keyCode === 13) {\n\t    e.preventDefault();\n\t    this.handleSubmit();\n\t  } else if (e.target.dataset.valid === 'false') {\n\t    var valid = this.validateField(this.fields[index], this.data[index]);\n\t    if (valid)\n\t      this.removeError(e.target.getAttribute('name'));\n\t  }\n\t};\n\t\n\tForm.prototype.handleCancel = function() {\n\t  this.cancelButton.classList.remove(inactiveClassName);\n\t  this.cancelButton.classList.add(activeClassName);\n\t  publish('enable-input');\n\t  publish('send', {\n\t    silent: true,\n\t    text: 'cancel'\n\t  });\n\t};\n\t\n\tForm.prototype.addEventListeners = function() {\n\t  this.cancelButton.addEventListener('click', this.handleCancel.bind(this));\n\t  this.submitButton.addEventListener('click', this.handleSubmit.bind(this));\n\t  for (var i = 0; i < this.fields.length; i++) {\n\t    var field = this.fields[i];\n\t    field.addEventListener('keyup', this.handleKeyup.bind(this));\n\t  }\n\t};\n\t\n\tForm.prototype.removeEventListeners = function() {\n\t  this.cancelButton.removeEventListener('click', this.handleCancel.bind(this));\n\t  this.cancelButton.setAttribute('disabled', true);\n\t  this.submitButton.removeEventListener('click', this.handleSubmit.bind(this));\n\t  this.submitButton.setAttribute('disabled', true);\n\t  for (var i = 0; i < this.fields.length; i++) {\n\t    var field = this.fields[i];\n\t    field.removeEventListener('keyup', this.handleKeyup.bind(this));\n\t    field.setAttribute('disabled', true);\n\t  }\n\t\n\t  this.subscribeSend.remove();\n\t};\n\t\n\tmodule.exports = formLayout;\n\n\n/***/ },\n/* 69 */\n/*!******************************!*\\\n  !*** ./src/layouts/index.js ***!\n  \\******************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n\t*\n\t* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n\t* in compliance with the License. You may obtain a copy of the License at\n\t*\n\t* http://www.apache.org/licenses/LICENSE-2.0\n\t*\n\t* Unless required by applicable law or agreed to in writing, software distributed under the License\n\t* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n\t* or implied. See the License for the specific language governing permissions and limitations under\n\t* the License.\n\t*/\n\t\n\tvar showLocationsLayout = __webpack_require__(/*! ./show-locations */ 72);\n\tvar requestGeolocationLatlongLayout = __webpack_require__(/*! ./request-geolocation-latlong */ 70);\n\tvar requestGeolocationZipcodeLayout = __webpack_require__(/*! ./request-geolocation-zipcode */ 71);\n\tvar chooseLocationTypeLayout = __webpack_require__(/*! ./choose-location-type */ 65);\n\tvar chooseLayout = __webpack_require__(/*! ./choose */ 66);\n\tvar formLayout = __webpack_require__(/*! ./form */ 68);\n\tvar creditCardLayout = __webpack_require__(/*! ./cc-validator */ 63);\n\tvar errorLayout = __webpack_require__(/*! ./error */ 67);\n\t\n\tmodule.exports = {\n\t  showLocations: showLocationsLayout,\n\t  requestGeolocationLatlong: requestGeolocationLatlongLayout,\n\t  requestGeolocationZipcode: requestGeolocationZipcodeLayout,\n\t  chooseLocationType: chooseLocationTypeLayout,\n\t  choose: chooseLayout,\n\t  creditCard: creditCardLayout,\n\t  form: formLayout,\n\t  error: errorLayout\n\t};\n\n\n/***/ },\n/* 70 */\n/*!**********************************************************!*\\\n  !*** ./src/layouts/request-geolocation-latlong/index.js ***!\n  \\**********************************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n\t*\n\t* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n\t* in compliance with the License. You may obtain a copy of the License at\n\t*\n\t* http://www.apache.org/licenses/LICENSE-2.0\n\t*\n\t* Unless required by applicable law or agreed to in writing, software distributed under the License\n\t* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n\t* or implied. See the License for the specific language governing permissions and limitations under\n\t* the License.\n\t*/\n\t\n\tvar events = __webpack_require__(/*! ../../events */ 1);\n\tvar subscribe = events.subscribe;\n\tvar publish = events.publish;\n\t\n\tvar requestGeolocationLatlongs = [];\n\t\n\tvar LOCATION_TIMEOUT = 30 * 1000;\n\t\n\tvar requestGeolocationLatlongLayout = {\n\t  init: function() {\n\t    subscribe('layout:request-geolocation-latlong', function(data) {\n\t      var requestGeolocationLatlong = new RequestGeolocationLatlong(data);\n\t      requestGeolocationLatlongs[data.uuid] = requestGeolocationLatlong;\n\t    });\n\t  }\n\t};\n\t\n\tfunction RequestGeolocationLatlong(data) {\n\t  this.init(data);\n\t}\n\t\n\tRequestGeolocationLatlong.prototype = {\n\t  init: function(data) {\n\t    this.data = data.data;\n\t    this.uuid = data.uuid;\n\t    this.parentElement = data.element;\n\t    this.layoutElement = data.layoutElement;\n\t    this.msgElement = data.msgElement;\n\t    this.timedOut = false;\n\t    this.timeoutCheck = setTimeout(function() {\n\t      this.timedOut = true;\n\t      this.handleLocationNotShared();\n\t    }.bind(this), LOCATION_TIMEOUT);\n\t    publish('enable-loading');\n\t    publish('disable-input');\n\t    try {\n\t      navigator.permissions.query({ name: 'geolocation' }).then(function(result) {\n\t        if (result.state === 'prompt') {\n\t          data.msgElement.textContent = 'Please share your current location.';\n\t          publish('enable-loading', 'Your browser is asking you to share your location...');\n\t        } else if (result.state === 'granted') {\n\t          data.msgElement.textContent = 'You have allowed your browser to share your current location.';\n\t          publish('enable-loading', 'Looking up your current location...');\n\t        } else if (result.state === 'denied') {\n\t          data.msgElement.textContent = 'You have denied sharing your location on this website.';\n\t        }\n\t      });\n\t    } catch (e) {\n\t      console.log('navigator.permissions not supported.');\n\t    }\n\t    navigator.geolocation.getCurrentPosition(\n\t      function(position) {\n\t        if (this.timedOut) return false;\n\t        clearTimeout(this.timeoutCheck);\n\t        this.handleLocationShared(position);\n\t      }.bind(this),\n\t      function() {\n\t        if (this.timedOut) return false;\n\t        clearTimeout(this.timeoutCheck);\n\t        this.handleLocationNotShared();\n\t      }.bind(this)\n\t    );\n\t  },\n\t  handleLocationShared: function(position) {\n\t    publish('enable-input');\n\t    publish('disable-loading');\n\t    publish('send', {\n\t      text: position.coords.latitude + ',' + position.coords.longitude,\n\t      silent: true\n\t    });\n\t  },\n\t  handleLocationNotShared: function() {\n\t    var string = 'Please enable location sharing or continue with your Zip Code.';\n\t    publish('enable-input');\n\t    publish('disable-loading');\n\t    publish('receive', string);\n\t    publish('send', {\n\t      text: 'find nearest locations',\n\t      silent: true\n\t    });\n\t  }\n\t};\n\t\n\tmodule.exports = requestGeolocationLatlongLayout;\n\n\n/***/ },\n/* 71 */\n/*!**********************************************************!*\\\n  !*** ./src/layouts/request-geolocation-zipcode/index.js ***!\n  \\**********************************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n\t*\n\t* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n\t* in compliance with the License. You may obtain a copy of the License at\n\t*\n\t* http://www.apache.org/licenses/LICENSE-2.0\n\t*\n\t* Unless required by applicable law or agreed to in writing, software distributed under the License\n\t* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n\t* or implied. See the License for the specific language governing permissions and limitations under\n\t* the License.\n\t*/\n\t\n\tvar events = __webpack_require__(/*! ../../events */ 1);\n\tvar subscribe = events.subscribe;\n\tvar requestGeolocationZipcodeLayout = {\n\t  init: function() {\n\t    subscribe('layout:request-geolocation-zipcode', function() {});\n\t  }\n\t};\n\t\n\tmodule.exports = requestGeolocationZipcodeLayout;\n\n\n/***/ },\n/* 72 */\n/*!*********************************************!*\\\n  !*** ./src/layouts/show-locations/index.js ***!\n  \\*********************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n\t*\n\t* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n\t* in compliance with the License. You may obtain a copy of the License at\n\t*\n\t* http://www.apache.org/licenses/LICENSE-2.0\n\t*\n\t* Unless required by applicable law or agreed to in writing, software distributed under the License\n\t* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n\t* or implied. See the License for the specific language governing permissions and limitations under\n\t* the License.\n\t*/\n\t\n\tvar events = __webpack_require__(/*! ../../events */ 1);\n\tvar subscribe = events.subscribe;\n\tvar publish = events.publish;\n\tvar state = __webpack_require__(/*! ../../state */ 2);\n\tvar utils = __webpack_require__(/*! ../../utils */ 3);\n\tvar styles = __webpack_require__(/*! ../../styles */ 8);\n\t\n\tvar first = true;\n\tvar displayLength = 3;\n\tvar breakpointWidths = ['768', '640', '512', '480', '360'];\n\tvar days = ['Su', 'M', 'Tu', 'W', 'Th', 'F', 'Sa'];\n\tvar showLocations = {};\n\tvar locationIDs = [];\n\tvar currentBreakpointKey = 0;\n\tvar pixelRatio = window.devicePixelRatio || 1;\n\tvar ns = 'IBMChat-map';\n\t\n\tvar templates = {\n\t  base: __webpack_require__(/*! ./templates/base.html */ 32),\n\t  createDomArray: __webpack_require__(/*! ./templates/create-dom-array.html */ 33),\n\t  addLocationsItem: __webpack_require__(/*! ./templates/add-locations-item.html */ 31),\n\t  addLocationItem: __webpack_require__(/*! ./templates/add-location-item.html */ 30),\n\t  hoursClosed: __webpack_require__(/*! ./templates/hours-closed.html */ 34),\n\t  hoursOpen: __webpack_require__(/*! ./templates/hours-open.html */ 35),\n\t  hoursUnknown: __webpack_require__(/*! ./templates/hours-unknown.html */ 40),\n\t  hoursTodayOpen: __webpack_require__(/*! ./templates/hours-today-open.html */ 38),\n\t  hoursTodayClosed: __webpack_require__(/*! ./templates/hours-today-closed.html */ 37),\n\t  hoursTodayUnknown: __webpack_require__(/*! ./templates/hours-today-unknown.html */ 39),\n\t  hoursTimezone: __webpack_require__(/*! ./templates/hours-timezone.html */ 36)\n\t};\n\t\n\tvar strings = {\n\t  locations: {\n\t    none: 'We could not find any locations close to you.',\n\t    single: 'Here are the details for this location:',\n\t    list: 'Here are the locations I found close to you:'\n\t  }\n\t};\n\t\n\tvar showLocationsLayout = {\n\t  init: function() {\n\t    subscribe('layout:show-locations', function(data) {\n\t      var showLocation = new ShowLocations(data);\n\t      if (locationIDs.length === 0)\n\t        subscribe('resize', sizeMap);\n\t      locationIDs.push(data.uuid);\n\t      showLocations[data.uuid] = showLocation;\n\t    });\n\t  }\n\t};\n\t\n\tvar alphaMap = ['A', 'B', 'C', 'D', 'E', 'F', 'G'];\n\t\n\tfunction initialSize(width) {\n\t  for (var i = 0; i < breakpointWidths.length; i++) {\n\t    if ((i === breakpointWidths.length - 1) || breakpointWidths[i] >= width) {\n\t      currentBreakpointKey = i;\n\t      return;\n\t    }\n\t  }\n\t}\n\t\n\tfunction getWidth() {\n\t  var current = state.get();\n\t  return current.chatHolder.querySelector('div:first-child').clientWidth;\n\t}\n\t\n\tfunction sameSize() {\n\t  return (breakpointWidths[currentBreakpointKey] >= getWidth());\n\t}\n\t\n\tfunction sizeMap() {\n\t  if (locationIDs.length > 0 && !sameSize()) {\n\t    var width = getWidth();\n\t    for (var i = 0; i < breakpointWidths.length; i++) {\n\t      if ((i === breakpointWidths.length - 1) || (i === 0 && width >= breakpointWidths[i])) {\n\t        currentBreakpointKey = i;\n\t        for (var j = 0; j < locationIDs.length; j++) {\n\t          if (showLocations[locationIDs[j]].data.length > 0)\n\t            showLocations[locationIDs[j]].reDrawMap();\n\t        }\n\t        return;\n\t      }\n\t    }\n\t  }\n\t}\n\t\n\tfunction createEmails(el, item) {\n\t  var linkEl = document.createElement('a');\n\t  linkEl.setAttribute('href', 'mailto:' + item.email);\n\t  linkEl.setAttribute('target', '_blank');\n\t  linkEl.textContent = item.email;\n\t  if (item.phones && item.phones.length > 0) {\n\t    var itemChild = document.createElement('div');\n\t    var text = templates.createDomArray;\n\t    itemChild.className = ns + '-contact-row';\n\t    itemChild.innerHTML = utils.compile(text, {\n\t      ns: ns\n\t    });\n\t    var typeEl = itemChild.querySelector('.' + ns + '-contact-type');\n\t    var dataEl = itemChild.querySelector('.' + ns + '-contact-data');\n\t    typeEl.textContent = 'Email';\n\t    dataEl.appendChild(linkEl);\n\t    el.appendChild(itemChild);\n\t  } else {\n\t    el.appendChild(linkEl);\n\t  }\n\t}\n\t\n\tfunction createPhoneArray(el, items) {\n\t  if (items) {\n\t    for (var i = 0; i < items.length; i++) {\n\t      var itemChild = document.createElement('div');\n\t      var text = templates.createDomArray;\n\t      itemChild.className = ns + '-contact-row';\n\t      itemChild.innerHTML = utils.compile(text, {\n\t        ns: ns\n\t      });\n\t      var typeEl = itemChild.querySelector('.' + ns + '-contact-type');\n\t      var dataEl = itemChild.querySelector('.' + ns + '-contact-data');\n\t      typeEl.textContent = items[i].type;\n\t      dataEl.textContent = items[i].number;\n\t      el.appendChild(itemChild);\n\t    }\n\t  }\n\t}\n\t\n\tfunction formatAMPM(time) {\n\t  try {\n\t    var split = time.split(':');\n\t    var hours = split[0];\n\t    var minutes = split[1];\n\t    var ampm = hours >= 12 ? 'pm' : 'am';\n\t    hours = hours % 12;\n\t    hours = hours ? hours : 12;\n\t    return hours + ':' + minutes + ' ' + ampm;\n\t  }\n\t  catch (e) {\n\t    return false;\n\t  }\n\t}\n\t\n\tfunction createHours(hoursEl, moreHoursEl, hours, timezone, timezoneEl) {\n\t  if (hours) {\n\t    if (hours.length < 7) {\n\t      for (var o = hours.length; o < 7; o++) {\n\t        hours.push({\n\t          isOpen: false\n\t        });\n\t      }\n\t    }\n\t    // hours\n\t    var today = new Date().getDay();\n\t    var todaysHours = hours[today];\n\t    var el = document.createElement('div');\n\t    if (todaysHours && todaysHours.isOpen) {\n\t      var open = formatAMPM(todaysHours.open);\n\t      var close = formatAMPM(todaysHours.close);\n\t      if (open && close) {\n\t        el.innerHTML = utils.compile(templates.hoursTodayOpen, {\n\t          ns: ns,\n\t          open: open,\n\t          close: close\n\t        });\n\t      } else {\n\t        el.innerHTML = utils.compile(templates.hoursTodayUnknown, {\n\t          ns: ns\n\t        });\n\t      }\n\t    } else {\n\t      el.innerHTML = utils.compile(templates.hoursTodayClosed, {\n\t        ns: ns\n\t      });\n\t    }\n\t    utils.appendToEach(hoursEl, el);\n\t    // timezone\n\t    if (timezone) {\n\t      var tzChildEl = document.createElement('div');\n\t      tzChildEl.innerHTML = utils.compile(templates.hoursTimezone, {\n\t        ns: ns,\n\t        timezone: timezone\n\t      });\n\t      utils.appendToEach(timezoneEl, tzChildEl);\n\t    } else {\n\t      for (var j = 0; j < timezoneEl.length; j++)\n\t        timezoneEl[j].parentNode.removeChild(timezoneEl[j]);\n\t    }\n\t    // more hours\n\t    var compressedHours = [];\n\t    var current = {};\n\t    for (var n = 0; n < hours.length; n++) {\n\t      var bothClosed, sameHours;\n\t      var day = days[n];\n\t      var last = (compressedHours.length > 0) ? compressedHours[compressedHours.length - 1] : false;\n\t      current = hours[n] || { isOpen: false };\n\t      bothClosed = last && (last.isOpen === current.isOpen && current.isOpen === false);\n\t      sameHours = last && (last.open === current.open && last.close === current.close && last.isOpen === current.isOpen);\n\t      if (compressedHours.length > 0 && last && (bothClosed || sameHours)) {\n\t        last.endDay = day;\n\t      } else {\n\t        compressedHours.push({\n\t          startDay: day,\n\t          endDay: day,\n\t          isOpen: current.isOpen,\n\t          open: current.open,\n\t          close: current.close\n\t        });\n\t      }\n\t    }\n\t    for (var i = 0; i < compressedHours.length; i++) {\n\t      var childEl = document.createElement('span');\n\t      childEl.setAttribute('class', ns + '-days-hours');\n\t      current = compressedHours[i];\n\t      if (current && current.isOpen) {\n\t        var openDay = formatAMPM(current.open);\n\t        var closeDay = formatAMPM(current.close);\n\t        var currentDay = (current.startDay === current.endDay) ? current.startDay : current.startDay + '&ndash;' + current.endDay;\n\t        if (openDay && closeDay) {\n\t          childEl.innerHTML = utils.compile(templates.hoursOpen, {\n\t            ns: ns,\n\t            day: currentDay,\n\t            open: openDay,\n\t            close: closeDay\n\t          });\n\t        } else {\n\t          childEl.innerHTML = utils.compile(templates.hoursUnknown, {\n\t            ns: ns,\n\t            day: currentDay\n\t          });\n\t        }\n\t      } else {\n\t        childEl.innerHTML = utils.compile(templates.hoursClosed, {\n\t          ns: ns,\n\t          day: (current.startDay === current.endDay) ? current.startDay : current.startDay + '&ndash;' + current.endDay\n\t        });\n\t      }\n\t      if (i < (compressedHours.length - 1))\n\t        childEl.querySelector('.' + ns + '-days-hours-hours').innerHTML += '<br />';\n\t      utils.appendToEach(moreHoursEl, childEl);\n\t    }\n\t  }\n\t}\n\t\n\tfunction distance(item) {\n\t  if (!item.distance)\n\t    return;\n\t  var distanceLength = (item.distance.toFixed(1) === 0.0) ? 0.1 : item.distance.toFixed(1);\n\t  var distanceLengthMeasure = (item.distanceMeasure === 'miles') ? 'm' : 'km';\n\t  return distanceLength + distanceLengthMeasure;\n\t}\n\t\n\tfunction ShowLocations(data) {\n\t  this.init(data);\n\t}\n\t\n\tShowLocations.prototype.init = function(data) {\n\t  this.data = (data.message.data !== undefined && data.message.data.location_data !== undefined) ? data.message.data.location_data : [];\n\t  if (this.data.length > 1) {\n\t    state.set({\n\t      location_data: this.data\n\t    });\n\t  }\n\t  this.eventListeners = [];\n\t  this.parentElement = data.element;\n\t  this.layoutElement = data.layoutElement;\n\t  this.msgElement = data.msgElement;\n\t  switch (this.data.length) {\n\t  case 0:\n\t    this.msgElement.textContent = strings.locations.none;\n\t    break;\n\t  case 1:\n\t    this.msgElement.textContent = strings.locations.single;\n\t    break;\n\t  default:\n\t    this.msgElement.textContent = strings.locations.list;\n\t  }\n\t\n\t  if (this.data.length > 0) {\n\t    var text = templates.base;\n\t    this.uuid = data.uuid;\n\t    if (first) {\n\t      initialSize(getWidth());\n\t      first = false;\n\t    }\n\t    this.map = document.createElement('div');\n\t    this.map.innerHTML = utils.compile(text, { ns: ns });\n\t    this.mapElement = this.map.querySelector('.' + ns + '-img');\n\t    this.dataElement = this.map.querySelector('.' + ns + '-data');\n\t    if (this.data.length > 1)\n\t      this.mapElement.appendChild(this.drawLocations());\n\t    this.dataElement.appendChild(this.addDetails());\n\t    this.layoutElement.appendChild(this.map);\n\t    if (this.data.length > 1)\n\t      this.layoutElement.querySelectorAll('.' + ns + '-locations-item')[0].focus();\n\t  }\n\t  this.subscribeReceive = subscribe('receive', this.removeAllEventListeners, this);\n\t};\n\t\n\tShowLocations.prototype.reDrawMap = function() {\n\t  this.mapElement.innerHTML = '';\n\t  if (this.data.length > 1)\n\t    this.mapElement.appendChild(this.drawLocations());\n\t};\n\t\n\tShowLocations.prototype.addDetails = function() {\n\t  if (this.data.length > 1)\n\t    return this.addLocations();\n\t  else\n\t    return this.addLocation();\n\t};\n\t\n\tShowLocations.prototype.convertColor = function(color) {\n\t  return styles.normalizeToHex(color).replace('#', '');\n\t};\n\t\n\tShowLocations.prototype.drawLocations = function() {\n\t  var current = state.get();\n\t  var img = document.createElement('img');\n\t  var width = getWidth();\n\t  var config = {\n\t    size: (width - 8) + 'x120',\n\t    scale: pixelRatio\n\t  };\n\t  if (this.data.length === 1)\n\t    config.zoom = 12;\n\t  this.uri = current.mapsServer + '?';\n\t  this.uri += utils.serialize(config);\n\t  this.uri += '&locations=';\n\t  var locations = '';\n\t  for (var i = 0; (i < displayLength && i < this.data.length); i++) {\n\t    var item = this.data[i];\n\t    locations += (i === 0 ) ? item.address.lat + ',' + item.address.lng : '+' + item.address.lat + ',' + item.address.lng;\n\t  }\n\t  this.uri += encodeURIComponent(locations);\n\t  this.uri += '&color=' + encodeURIComponent(this.convertColor(current.styles.accentBackground));\n\t  img.setAttribute('src', this.uri);\n\t  return img;\n\t};\n\t\n\tShowLocations.prototype.handleClick = function() {\n\t  this.className = ns + '-location-active';\n\t  publish('receive', {\n\t    message: {\n\t      text: [utils.compile(strings.locations.single, { location: showLocations[this.dataset.uuid].data[this.dataset.id - 1].address.address }), 'Is there anything else I can help you with?'],\n\t      layout: {\n\t        name: 'show-locations',\n\t        index: 0\n\t      },\n\t      data: {\n\t        location_data: [showLocations[this.dataset.uuid].data[this.dataset.id - 1]]\n\t      }\n\t    }\n\t  });\n\t};\n\t\n\tShowLocations.prototype.removeAllEventListeners = function() {\n\t  var layout = document.querySelector('.' + this.uuid + ' .IBMChat-watson-layout');\n\t  layout.classList.add('IBMChat-disabled-layout');\n\t  var inputs = layout.querySelectorAll('input, button');\n\t  for (var i = 0; i < inputs.length; i++)\n\t    inputs[i].setAttribute('disabled', true);\n\t  for (var x = 0; x < this.eventListeners.length; x++)\n\t    this.eventListeners[x].removeEventListener('click', this.handleClick);\n\t  if (this.hoursFunction)\n\t    this.hoursButton.removeEventListener('click', this.hoursFunction);\n\t  if (this.locationsFunction)\n\t    this.locationsButton.removeEventListener('click', this.locationsFunction);\n\t  this.eventListeners = [];\n\t  this.subscribeReceive.remove();\n\t};\n\t\n\tShowLocations.prototype.addLocation = function() {\n\t  var container = document.createElement('div');\n\t  var el = document.createElement('div');\n\t  var locationData = state.get().location_data;\n\t  var item = this.data[0];\n\t  var createDom = function(el) {\n\t    var text = templates.addLocationItem;\n\t    el.innerHTML = utils.compile(text, { ns: ns });\n\t    return {\n\t      link: el.querySelector('.' + ns + '-locations-item-data-address-link'),\n\t      label: el.querySelector('.' + ns + '-locations-item-data-title'),\n\t      address: el.querySelector('.' + ns + '-locations-item-data-address'),\n\t      phone: el.querySelector('.' + ns + '-locations-item-data-phone'),\n\t      email: el.querySelector('.' + ns + '-locations-item-data-email'),\n\t      hours: el.querySelectorAll('.' + ns + '-locations-item-data-hours'),\n\t      timezone: el.querySelectorAll('.' + ns + '-locations-item-data-timezone'),\n\t      moreHours: el.querySelectorAll('.' + ns + '-locations-item-data-more-hours'),\n\t      distance: el.querySelector('.' + ns + '-locations-item-distance'),\n\t      backHolder: el.querySelector('.' + ns + '-locations-all-holder'),\n\t      back: el.querySelector('.' + ns + '-locations-all'),\n\t      parentEl: el.querySelector('.' + ns + '-locations-item')\n\t    };\n\t  };\n\t\n\t  var dom = createDom(el);\n\t\n\t  // name\n\t  if (item.label)\n\t    dom.label.textContent = item.label;\n\t  else\n\t    dom.parentEl.removeChild(dom.label);\n\t\n\t  // addresses\n\t  dom.address.textContent = item.address.address;\n\t  dom.link.setAttribute('href', 'https://maps.google.com/?q=' + encodeURIComponent(item.address.address));\n\t  dom.link.setAttribute('target', '_blank');\n\t  dom.distance.textContent = distance(item) || '';\n\t\n\t  // email\n\t  if (item.email)\n\t    createEmails(dom.email, item);\n\t  else\n\t    dom.email.parentNode.removeChild(dom.email);\n\t\n\t  // phones\n\t  if (item.phones && item.phones.length > 0 && item.hasPhones !== false)\n\t    createPhoneArray(dom.phone, item.phones);\n\t  else\n\t    dom.phone.parentNode.removeChild(dom.phone);\n\t\n\t  // hours/timezone\n\t  if (item.days && item.hasDays !== false) {\n\t    createHours(dom.hours, dom.moreHours, item.days, item.address.timezone, dom.timezone);\n\t  } else {\n\t    for (var i = 0; i < dom.hours; i++)\n\t      dom.hours[i].parentNode.removeChild(dom.hours[i]);\n\t    for (var j = 0; j < dom.timezone; j++)\n\t      dom.timezone[j].parentNode.removeChild(dom.timezone[j]);\n\t    for (var n = 0; n < dom.moreHours; i++)\n\t      dom.moreHours[n].parentNode.removeChild(dom.moreHours[n]);\n\t  }\n\t\n\t  if (locationData && locationData.length > 1) {\n\t    this.locationsButton = dom.back;\n\t    this.locationsFunction = function(e) {\n\t      e.preventDefault();\n\t      publish('receive', {\n\t        message: {\n\t          text: [strings.locations.list, 'Is there anything else I can help you with?'],\n\t          layout: {\n\t            name: 'show-locations',\n\t            index: 0\n\t          },\n\t          data: {\n\t            location_data: locationData\n\t          }\n\t        }\n\t      });\n\t    };\n\t    dom.back.addEventListener('click', this.locationsFunction);\n\t  } else {\n\t    dom.backHolder.parentNode.removeChild(dom.backHolder);\n\t  }\n\t  container.appendChild(el);\n\t  return container;\n\t};\n\tShowLocations.prototype.addLocations = function() {\n\t  var current = state.get();\n\t  var createDom = function(el, i, uuid) {\n\t    el.addEventListener('click', this.handleClick);\n\t    el.dataset.uuid = uuid;\n\t    el.dataset.id = i + 1;\n\t    var text = templates.addLocationsItem;\n\t    el.innerHTML = utils.compile(text, {\n\t      ns: ns,\n\t      title: item.label || '',\n\t      address: item.address.address,\n\t      iconText: alphaMap[i],\n\t      accentText: current.styles.accentText,\n\t      accentBackground: current.styles.accentBackground,\n\t      distance: distance(item) || '',\n\t    });\n\t    this.eventListeners.push(el);\n\t  };\n\t\n\t  var container = document.createElement('div');\n\t\n\t  for (var i = 0; (i < displayLength && i < this.data.length); i++) {\n\t    var el = document.createElement('div');\n\t    var item = this.data[i];\n\t    createDom.call(this, el, i, this.uuid);\n\t    container.appendChild(el);\n\t  }\n\t  return container;\n\t};\n\t\n\tmodule.exports = showLocationsLayout;\n\n\n/***/ },\n/* 73 */\n/*!*****************************!*\\\n  !*** ./src/utils/resize.js ***!\n  \\*****************************/\n/***/ function(module, exports) {\n\n\t/*\n\t* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n\t*\n\t* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n\t* in compliance with the License. You may obtain a copy of the License at\n\t*\n\t* http://www.apache.org/licenses/LICENSE-2.0\n\t*\n\t* Unless required by applicable law or agreed to in writing, software distributed under the License\n\t* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n\t* or implied. See the License for the specific language governing permissions and limitations under\n\t* the License.\n\t*/\n\t\n\tvar requestFrame = (function() {\n\t  var raf = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || function(fn) {\n\t    return window.setTimeout(fn, 20);\n\t  };\n\t  return function(fn) {\n\t    return raf(fn);\n\t  };\n\t})();\n\t\n\tvar cancelFrame = (function() {\n\t  var cancel = window.cancelAnimationFrame || window.mozCancelAnimationFrame || window.webkitCancelAnimationFrame ||\n\t         window.clearTimeout;\n\t  return function(id) {\n\t    return cancel(id);\n\t  };\n\t})();\n\t\n\tfunction resizeListener(e) {\n\t  var win = e.target || e.srcElement;\n\t  if (win.__resizeRAF__)\n\t    cancelFrame(win.__resizeRAF__);\n\t  win.__resizeRAF__ = requestFrame(function() {\n\t    var trigger = win.__resizeTrigger__;\n\t    trigger.__resizeListeners__.forEach(function(fn) {\n\t      if (fn && typeof fn === 'function')\n\t        fn.call(trigger, e);\n\t    });\n\t  });\n\t}\n\t\n\tfunction objectLoad() {\n\t  this.contentDocument.defaultView.__resizeTrigger__ = this.__resizeElement__;\n\t  this.contentDocument.defaultView.addEventListener('resize', resizeListener);\n\t}\n\t\n\tvar addResizeListener = function(element, fn) {\n\t  if (!element.__resizeListeners__) {\n\t    element.__resizeListeners__ = [];\n\t    if (document.attachEvent) {\n\t      element.__resizeTrigger__ = element;\n\t      element.attachEvent('onresize', resizeListener);\n\t    } else {\n\t      var obj = element.__resizeTrigger__ = document.createElement('object');\n\t      if (getComputedStyle(element).position == 'static')\n\t        element.classList.add('IBMChat-relative');\n\t      obj.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;');\n\t      obj.__resizeElement__ = element;\n\t      obj.onload = objectLoad;\n\t      obj.type = 'text/html';\n\t      element.appendChild(obj);\n\t    }\n\t  }\n\t  element.__resizeListeners__.push(fn);\n\t};\n\t\n\tvar removeResizeListener = function(element, fn) {\n\t  element.__resizeListeners__.splice(element.__resizeListeners__.indexOf(fn), 1);\n\t  if (!element.__resizeListeners__.length) {\n\t    if (document.attachEvent) {\n\t      element.detachEvent('onresize', resizeListener);\n\t    } else if (element.__resizeTrigger__.contentDocument) {\n\t      element.__resizeTrigger__.contentDocument.defaultView.removeEventListener('resize', resizeListener);\n\t      element.__resizeTrigger__ = !element.removeChild(element.__resizeTrigger__);\n\t    }\n\t  }\n\t};\n\t\n\tmodule.exports = {\n\t  addResizeListener: addResizeListener,\n\t  removeResizeListener: removeResizeListener\n\t};\n\n\n/***/ },\n/* 74 */\n/*!***********************************!*\\\n  !*** ./src/utils/writeMessage.js ***!\n  \\***********************************/\n/***/ function(module, exports) {\n\n\t/*\n\t* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n\t*\n\t* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n\t* in compliance with the License. You may obtain a copy of the License at\n\t*\n\t* http://www.apache.org/licenses/LICENSE-2.0\n\t*\n\t* Unless required by applicable law or agreed to in writing, software distributed under the License\n\t* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n\t* or implied. See the License for the specific language governing permissions and limitations under\n\t* the License.\n\t*/\n\t\n\tfunction writeMessage(el, text) {\n\t  new ParseContent(el, text);\n\t}\n\t\n\tfunction ParseContent(el, text) {\n\t  this.init(el, text);\n\t}\n\t\n\tfunction validLink(link) {\n\t  if (link.startsWith('http://') || link.startsWith('https://'))\n\t    return link;\n\t  else\n\t    return 'http://' + link;\n\t}\n\t\n\tfunction isValidURL(str) {\n\t  var pattern = new RegExp('^(https?:\\\\/\\\\/)?'+ // protocol\n\t  '((([a-z\\\\d]([a-z\\\\d-]*[a-z\\\\d])*)\\\\.?)+[a-z]{2,}|'+ // domain name\n\t  '((\\\\d{1,3}\\\\.){3}\\\\d{1,3}))'+ // OR ip (v4) address\n\t  '(\\\\:\\\\d+)?(\\\\/[-a-z\\\\d%_.~+]*)*'+ // port and path\n\t  '(\\\\?[;&a-z\\\\d%_.~+=-]*)?'+ // query string\n\t  '(\\\\#[-a-z\\\\d_]*)?$','i'); // fragment locator\n\t  return pattern.test(str);\n\t}\n\t\n\tParseContent.prototype.init = function(el, text) {\n\t  if (text) {\n\t    var cls = this;\n\t    var content = [\n\t      {\n\t        type: 'span',\n\t        content: text\n\t      }\n\t    ];\n\t    this.addLineEndings(content)\n\t      .then(cls.addUrls)\n\t      .then(cls.addEmails)\n\t      .then(function(content) {\n\t        cls.writeMessage(el, content);\n\t      })\n\t      .catch(function(e) {\n\t        console.error(e);\n\t      });\n\t  }\n\t};\n\t\n\tParseContent.prototype.writeMessage = function(el, content) {\n\t  content.map(function(item) {\n\t    var s = document.createElement(item.type);\n\t    if (item.content)\n\t      s.textContent = item.content;\n\t    if (item.attributes) {\n\t      Object.keys(item.attributes).map(function(key) {\n\t        s.setAttribute(key, item.attributes[key]);\n\t      });\n\t    }\n\t    el.appendChild(s);\n\t  });\n\t};\n\t\n\tParseContent.prototype.addLineEndings = function(content) {\n\t  return new window.Promise(function(resolve, reject) {\n\t    try {\n\t      var newContent = [];\n\t      for (var i = 0; i < content.length; i++) {\n\t        var arr = content[i].content.split('\\n');\n\t        arr.map(function(value, index) {\n\t          if (value) {\n\t            newContent.push({\n\t              content: value,\n\t              type: 'span'\n\t            });\n\t          }\n\t          if (arr.length != index + 1) {\n\t            newContent.push({\n\t              type: 'br'\n\t            });\n\t          }\n\t        });\n\t      }\n\t      resolve(newContent);\n\t    } catch (e) {\n\t      reject(e);\n\t    }\n\t  });\n\t};\n\t\n\tParseContent.prototype.addUrls = function(content) {\n\t  return new window.Promise(function(resolve, reject) {\n\t    try {\n\t      var newContent = [];\n\t      for (var i = 0; i < content.length; i++) {\n\t        content[i].content = content[i].content || '';\n\t        var exp = /(\\b((https?:\\/\\/)|(www\\.))[-A-Z0-9+&@#\\/%?=~_|!:,.;]*[-A-Z0-9+&@#\\/%=~_|])/ig;\n\t        var splitter = '|^|%|^|';\n\t        var linked = content[i].content.replace(exp, splitter + '$1' + splitter);\n\t        var arr = linked.split(splitter);\n\t        arr.map(function(value) {\n\t          if (value.search(exp) != -1 && isValidURL(value)) {\n\t            var link = validLink(value);\n\t            newContent.push({\n\t              content: value,\n\t              type: 'a',\n\t              attributes: {\n\t                href: link,\n\t                target: '_blank'\n\t              }\n\t            });\n\t          } else {\n\t            newContent.push({\n\t              content: value,\n\t              type: content[i].type,\n\t              attributes: content[i].attributes\n\t            });\n\t          }\n\t        });\n\t      }\n\t      resolve(newContent);\n\t    } catch (e) {\n\t      reject(e);\n\t    }\n\t  });\n\t};\n\t\n\tParseContent.prototype.addEmails = function(content) {\n\t  return new window.Promise(function(resolve, reject) {\n\t    try {\n\t      var newContent = [];\n\t      for (var i = 0; i < content.length; i++) {\n\t        if (content[i].content) {\n\t          var exp = /([a-zA-Z0-9._-]+@[a-zA-Z0-9._-]+\\.[a-zA-Z0-9._-]+)/gi;\n\t          var linked = content[i].content.replace(exp,'|||$1|||');\n\t          var arr = linked.split('|||');\n\t          arr.map(function(value) {\n\t            var newtext = value.replace(exp, '<a href=\"mailto:$1\" target=\"_blank\">$1</a>');\n\t            if (newtext === value) {\n\t              newContent.push({\n\t                content: value,\n\t                type: content[i].type,\n\t                attributes: content[i].attributes\n\t              });\n\t            } else {\n\t              newContent.push({\n\t                content: value,\n\t                type: 'a',\n\t                attributes: {\n\t                  href: 'mailto:' + value,\n\t                  target: '_blank'\n\t                }\n\t              });\n\t            }\n\t          });\n\t        } else {\n\t          newContent.push({\n\t            type: content[i].type,\n\t            content: content[i].content,\n\t            attributes: content[i].attributes\n\t          });\n\t        }\n\t      }\n\t      resolve(newContent);\n\t    } catch (e) {\n\t      reject(e);\n\t    }\n\t  });\n\t};\n\t\n\tmodule.exports = writeMessage;\n\n\n/***/ }\n/******/ ])))\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** chat.min.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 3e7b2ab5b02972216625\n **/","/*\n* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n* in compliance with the License. You may obtain a copy of the License at\n*\n* http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software distributed under the License\n* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n* or implied. See the License for the specific language governing permissions and limitations under\n* the License.\n*/\n\nvar bootstrap = require('./bootstrap');\n\n/**\n * @namespace IBMChat\n */\n\nvar IBMChat = {\n  /**\n   * Generate the chat widget into an element.\n   * @function init\n   * @memberof IBMChat\n   * @param {Object} config\n   * @param {string} config.el - Takes a string representing the ID of an html element to be rendered to OR a selected element\n   * @param {string} config.botID - The unique identifier of your Virtual Agent.\n   * @param {string} config.userID - optional: A one-way hashed non-identifiable (e.g. not a users email address or public user id) unique ID used for tracking in the Engagement Metrics dashboard.\n   * @param {string} config.userLatLon -  optional: A lat,lon string (e.g. 28.3852,-81.5639) used for tracking in the Engagement Metrics dashboard.\n   * @param {string} config.baseURL=https://api.ibm.com/virtualagent/run/api/v1/ - optional: specifies a different bot hosting server. The most common use-case for this param is to point the widget to a server that will add X-IBM-Client-Id and X-IBM-Client-Secret headers to the request.\n   * @param {string} config.XIBMClientID - optional: Your IBMClientID... this should not be made public in a public environment. Including this will add X-IBM-Client-Id as a header to your request.\n   * @param {string} config.XIBMClientSecret - optional: Your IBMClientSecret... this should not be made public in a public environment. Including this will add X-IBM-Client-Secret as a header to your request.\n   * @param {Function} config.errorHandler - optional: A function that takes an error object as a param if there is a problem with communicating with your Virtual Agent. By default, if an error is received, the user is escalated to a live agent. You may, however, want to handle some errors differently (401 for instance)\n   * @param {Object} config.errorHandlerContext - optional: A \"this\" value for the errorHandler.\n   * @param {Object} config.styles - optional: Override default styling.\n   * @param {string} config.styles.background=rgba(61,61,61,1) - optional: rgba(X, X, X, X) or hex code for background color\n   * @param {string} config.styles.text=#ffffff - optional: rgba(X, X, X, X) or hex code for main text color\n   * @param {string} config.styles.link=#ffffff - optional: rgba(X, X, X, X) or hex code for color of links in text\n   * @param {string} config.styles.secondaryBackground=rgba(90,90,90,1) - optional: rgba(X, X, X, X) or hex code for background color of chat bubbles and other secondary info\n   * @param {string} config.styles.secondaryText=rgba(247,247,247,1) - optional: rgba(X, X, X, X) or hex code for color of chat bubble text and other secondary info\n   * @param {string} config.styles.inputBackground=rgba(90,90,90,1) - optional: rgba(X, X, X, X) or hex code for background color of input elements in forms\n   * @param {string} config.styles.inputText=rgba(247,247,247,1) - optional: rgba(X, X, X, X) or hex code for color of input text in forms\n   * @param {string} config.styles.accentText=#ffffff - optional: rgba(X, X, X, X) or hex code for text colors to be used in conjunction with accentBackground e.g. button text\n   * @param {string} config.styles.accentBackground=#BA8FF7 - optional: rgba(X, X, X, X) or hex code for accent colors used by the chat application e.g. buttons\n   * @param {string} config.styles.errorText=#ffffff - optional: rgba(X, X, X, X) or hex code for text colors to be used in conjunction with errorBackground e.g. button text\n   * @param {string} config.styles.errorBackground=#e86e6e - optional: rgba(X, X, X, X) or hex code for error colors used by the chat application e.g. validation buttons\n   * @param {string} config.styles.fontFamily=HelveticaNeue,Helvetica,sans-serif - optional: comma seperated list of fonts to use\n   * @param {string} config.styles.fontSize=15px - optional: base font size to use\n   * @example\n   * IBMChat.init({\n   *  el: 'my_div',\n   *  botID: 'xxxxxxxxxxxxxx'\n   *  styles: {\n   *    background: \"#000000\"\n   *  }\n   * }).then(function(){\n   *     console.log('initialize');\n   * });\n   * //or\n   * var el = document.querySelector('.my-widget-container');\n   * IBMChat.init({\n   *  el: el,\n   *  botID: 'xxxxxxxxxxxxxx'\n   *  styles: {\n   *    background: \"#000000\"\n   *  }\n   * }).then(function(){\n   *     console.log('initialize');\n   * });\n   * @returns {Promise} Returns: A promise so you can call functions after the widget has been initialized.\n   */\n  init: bootstrap.init,\n  /**\n   * Please use either IBMChat.clear() or IBMChat.destroy() and IBMChat.init() in conjunction instead of this method. This method destroys the chat widget and re-intitializes it. The same chat widget is rendered in the same html element as was specified in the init method. **Action subscriptions and custom layouts are NOT reincluded**.\n   * @function restart\n   * @deprecated\n   * @memberof IBMChat\n   * @example\n   * IBMChat.restart().then(function(){\n   *     console.log('restarted');\n   * });\n   * @returns {Promise} Returns: A promise so you can call functions after the widget has been initialized.\n   */\n  restart: bootstrap.restart,\n  /**\n   * Destroy the chat widget and restore the original HTML content. Useful if the chat widget is displayed in a modal, for example, and you want it to go away when the modal is closed.\n   * @function destroy\n   * @memberof IBMChat\n   * @example\n   * IBMChat.destroy().then(function(){\n   *     console.log('destroyed');\n   * });\n   * @returns {Promise} Returns: A promise so you can call functions after the widget has been destroyed.\n   */\n  destroy: bootstrap.destroy,\n  /**\n   * Clear the chat widget of its current conversation and start a new conversation with the Virtual Agent\n   * @function clear\n   * @memberof IBMChat\n   * @example\n   * IBMChat.clear().then(function(){\n   *     console.log('cleared');\n   * });\n   * @returns {Promise} Returns: A promise so you can call functions after the widget has been cleared.\n   */\n  clear: bootstrap.clear,\n  /**\n   * Send a message to the chat widget from outside the chat widget. This message will be displayed in the interface.\n   * @function send\n   * @memberof IBMChat\n   * @param {string} message - A message you want to send to the chat widget.\n   * @returns {IBMChat} - Returns IBMChat for chaining.\n   * @example\n   * IBMChat.send('Hello world.');\n   */\n  send: function(message) {\n    bootstrap.send(message);\n    return IBMChat;\n  },\n\n  /**\n   * Mock receiving a message to the chat widget from outside the chat widget.\n   * @function receive\n   * @memberof IBMChat\n   * @param {string} message - A message you want to show as received in the chat widget.\n   * @returns {IBMChat} - Returns IBMChat for chaining.\n   * @example\n   * IBMChat.receive('Hello world.');\n   */\n  receive: function(message) {\n    bootstrap.receive(message);\n    return IBMChat;\n  },\n\n  /**\n   * Send a message to the chat widget from outside the chat widget. This message will be displayed in the interface, but will not actually get sent to the server.\n   * @function sendMock\n   * @memberof IBMChat\n   * @param {string} message - A message you want to pretend to send to the chat widget.\n   * @returns {IBMChat} - Returns IBMChat for chaining.\n   * @example\n   * IBMChat.sendMock('Hello world.');\n   */\n  sendMock: function(message) {\n    bootstrap.sendMock(message);\n    return IBMChat;\n  },\n\n  /**\n   * Send a message to the chat widget from outside the chat widget. This message will NOT be displayed in the interface.\n   * @function sendSilently\n   * @memberof IBMChat\n   * @param {string} message - A message you want to send to the chat widget, but not de displayed in the interface.\n   * @returns {IBMChat} - Returns IBMChat for chaining.\n   * @example\n   * IBMChat.sendSilently('Hello world.');\n   */\n  sendSilently: function(message) {\n    bootstrap.sendSilently(message);\n    return IBMChat;\n  },\n\n  /**\n   * Register a custom layout with the chat widget. Call registerLayout() before you call init().\n   * @function registerLayout\n   * @memberof IBMChat\n   * @param {string} layout - The name of the layout your bot will provide when it is triggered to render a layout.\n   * @param {function} init - A function that runs one time, when the chat widget is bootstrapped. Be sure to subscribe to the \"layout:YOUR_LAYOUT_NAME\" event in this function.\n   * @returns {IBMChat} - Returns IBMChat for chaining.\n   * @example\n   * var PlumberBrothers = require('../plumber-brothers-game');\n   * var config = {};\n   *\n   * function initGame() {\n   *   IBMChat.subscribe('layout:plumber-brothers-game', function(obj) {\n   *     var uuid = obj.uuid;\n   *     var parentElement = obj.element;\n   *     var layoutElement = obj.layoutElement;\n   *     var msgElement = obj.msgElement;\n   *     var message = obj.message;\n   *     var data = obj.data;\n   *     msgElement.textContent = 'Loading Plumber Brothers!';\n   *     var brothers = new PlumberBrothers();\n   *     brothers.render(layoutElement, data).then(function() {\n   *       msgElement.textContent = 'Enjoy your game of Plumber Brothers!';\n   *     });\n   *   }\n   * });\n   *\n   * IBMChat.registerLayout('plumber-brothers-game', initGame);\n   * IBMChat.init(config);\n   */\n  registerLayout: function(layout, init) {\n    bootstrap.registerLayout(layout, init);\n    return IBMChat;\n  },\n\n  /**\n   * Override how inputs into the chat text box are handled. e.g. you may wish to send messages to your live agent instead of to your virtual agent.\n   * @function enableCustomInputHandler\n   * @memberof IBMChat\n   * @param {Object} config\n   * @param {function} config.callback - A function that receives a message and resolve and reject functions as params\n   * @param {boolean} config.context - (optional) A value for \"this\" in your callback function\n   * @returns {IBMChat} - Returns IBMChat for chaining.\n   * @example\n   * IBMChat.enableCustomInputHandler({\n   *   callback: function(message, resolve, reject) {\n   *     //do something like send the message to your live customer service rep\n   *     IBMChat.receive('A message from your live customer service rep');\n   *     resolve(); // gets rid of loading spinner and allows the chat text box to accept another message\n   *     // reject(error);\n   *  }\n   * });\n   */\n\n  enableCustomInputHandler: function(config) {\n    bootstrap.enableCustomInputHandler(config);\n    return IBMChat;\n  },\n\n  /**\n   * Return chat input boxes handling to the default provided handler.\n   * @function disableCustomInputHandler\n   * @memberof IBMChat\n   * @returns {IBMChat} - Returns IBMChat for chaining.\n   * @example\n   * IBMChat.disableCustomInputHandler();\n   */\n\n  disableCustomInputHandler: function() {\n    bootstrap.disableCustomInputHandler();\n    return IBMChat;\n  },\n\n  /**\n   * Set focus to the chat text box. Useful if you want users to be able to just start typing into the text box without having to click in the text box first to set focus.\n   * @function focusInput\n   * @memberof IBMChat\n   * @returns {IBMChat} - Returns IBMChat for chaining.\n   * @example\n   * IBMChat.focusInput();\n   */\n\n  focusInput: function() {\n    bootstrap.focusInput();\n    return IBMChat;\n  },\n  /**\n   * Prevent users from submitting messages in the chat text box. Useful when you want the user to interact with a layout instead.\n   * @function disableInput\n   * @memberof IBMChat\n   * @returns {IBMChat} - Returns IBMChat for chaining.\n   * @example\n   * IBMChat.disableInput();\n   */\n  disableInput: function() {\n    bootstrap.disableInput();\n    return IBMChat;\n  },\n\n  /**\n   * Enable users to submit messages in the chat text box. Useful when you want users to be able to return to adding messages to the chat text box after interacting with a layout.\n   * @function enableInput\n   * @memberof IBMChat\n   * @returns {IBMChat} - Returns IBMChat for chaining.\n   * @example\n   * IBMChat.enableInput();\n   */\n  enableInput: function() {\n    bootstrap.enableInput();\n    return IBMChat;\n  },\n\n\n  /**\n   * Subscribe to an IBMChat event. See [./EVENTS.md](./EVENTS.md) for more details.\n   * @function subscribe\n   * @memberof IBMChat\n   * @param {string} eventName - Takes a string representing the name of the event\n   * @param {function} callback - function to run when event is called\n   * @param context - optional: value of \"this\" in the function\n   * @returns {Object} - Returns object with a .remove function to destroy the subscription\n   * @example\n   * var mySubscription = IBMChat.subscribe('the-end-of-the-world', function(message) {\n   *   console.log(message);\n   *   mySubscription.remove(); // remove subscription\n   * });\n   */\n  subscribe: bootstrap.subscribe,\n\n  /**\n   * Subscribe to an IBMChat event and auto unsubscribe when called.\n   * @function subscribeOnce\n   * @memberof IBMChat\n   * @param {string} eventName - Takes a string representing the name of the event\n   * @param {function} callback - function to run when event is called\n   * @param context - optional: value of \"this\" in the function\n   * @returns {Object} - Returns object with a .remove function to destroy the subscription\n   * @example\n   * var mySubscription = IBMChat.subscribeOnce('the-end-of-the-world', function(message) {\n   *   console.log(message);\n   * });\n   */\n  subscribeOnce: bootstrap.subscribeOnce,\n  /**\n   * Publish an IBMChat event. See [./EVENTS.md](./EVENTS.md) for more details.\n   * @function publish\n   * @memberof IBMChat\n   * @param {string} eventName - A string that represents the name of the event data\n   * @param data - Data to pass to the callback function of any subscribed functions. Accepts any data type.\n   * @returns {IBMChat} - Returns IBMChat for chaining.\n   * @example\n   * IBMChat.publish('the-end-of-the-world', 'panic!');\n   */\n  publish: function(eventName, data) {\n    bootstrap.publish(eventName, data);\n    return IBMChat;\n  },\n  /**\n   * @namespace profile\n   * @memberof IBMChat\n   */\n  profile: {\n    /**\n    * Get an item from the user profile based on key.\n    * @memberof IBMChat.profile\n    * @function get\n    * @param {string} key - The named key of the value you are accessing.\n    * @example\n    * IBMChat.profile.get('first_name');\n    * @returns {Any} Returns: the value of the key in the profile map.\n    */\n    get: bootstrap.profile.get,\n    /**\n    * Set an item from the user profile based on key.\n    * @memberof IBMChat.profile\n    * @function set\n    * @param {string} key - The named key of the value you are setting.\n    * @param {string} value - The value you are setting.\n    * @example\n    * IBMChat.profile.set('first_name', 'john');\n    */\n    set: bootstrap.profile.set,\n    /**\n    * See if an item from the user profile exists based on key.\n    * @memberof IBMChat.profile\n    * @function has\n    * @param {string} key - The named key of the value you are checking the existence of.\n    * @example\n    * IBMChat.profile.has('first_name');\n    * @returns {Boolean} - Boolean indicating if the key exists.\n    */\n    has: bootstrap.profile.has,\n    /**\n    * Clear the entire user profile.\n    * @memberof IBMChat.profile\n    * @function clear\n    * @example\n    * IBMChat.profile.clear();\n    */\n    clear: bootstrap.profile.clear,\n    /**\n    * Delete an item from the user profile based on key.\n    * @memberof IBMChat.profile\n    * @function delete\n    * @param {string} key - The named key of the value you are deleting.\n    * @example\n    * IBMChat.profile.delete('first_name');\n    */\n    delete: bootstrap.profile.delete,\n    /**\n    * Iterate over the profile.\n    * @memberof IBMChat.profile\n    * @function forEach\n    * @param {function} callback - The function you are calling on each item in the profile object. This function is passed key as the first argument and value as the second argument.\n    * @param {Object} this - (optional) The context you wish to call the callback in.\n    * @example\n    * IBMChat.profile.forEach(function(key, value) {\n    *   console.log(key, value);\n    * });\n    */\n    forEach: bootstrap.profile.forEach\n  },\n  /**\n   * See a list of current event subscriptions. See [./EVENTS.md](./EVENTS.md) for more details.\n    * @function currentSubscriptions\n   * @memberof IBMChat\n   * @returns {Array} - Array of events and callbacks.\n   * @example\n   * IBMChat.currentSubscriptions();\n   */\n  currentSubscriptions: bootstrap.currentSubscriptions,\n  /**\n   * @namespace state\n   * @memberof IBMChat\n   */\n  state: {\n    /**\n    * @memberof IBMChat.state\n    * @function get\n    * @example\n    * IBMChat.state.get();\n    * @returns {Object} Returns: the current application state.\n    */\n    get: bootstrap.state.get,\n    /**\n    * @memberof IBMChat.state\n    * @function set\n    * @param {Object} newState - The key/value pairs put here will merge with current application state.\n    * @returns {IBMChat} - Returns IBMChat for chaining.\n    * @example\n    * IBMChat.state.set({\n    *      \"first_name\": \"Bob\"\n    * });\n    */\n    set: function(obj) {\n      bootstrap.state.set(obj);\n      return IBMChat;\n    }\n  },\n  /**\n   * @namespace context\n   * @memberof IBMChat\n   */\n  context: {\n    /**\n    * For [use with Custom Workspaces](https://www.ibm.com/watson/developercloud/doc/conversation/dialog-build.html#context-variables)\n    * @memberof IBMChat.context\n    * @function get\n    * @example\n    * IBMChat.context.get();\n    * @returns {Object} Returns: the current content.\n    */\n    get: bootstrap.context.get,\n    /**\n    * @memberof IBMChat.context\n    * @function set\n    * @param {Object} newContext - The key/value pairs put here will merge with current context variables.\n    * @returns {IBMChat} - Returns IBMChat for chaining.\n    * @example\n    * IBMChat.context.set({\n    *      \"first_name\": \"Bob\"\n    * });\n    */\n    set: function(obj) {\n      bootstrap.context.set(obj);\n      return IBMChat;\n    }\n  },\n\n  /**\n   * Turns on a whole bunch of verbose console.log statements!\n   * @function debug\n   * @memberof IBMChat\n   * @returns {IBMChat} - Returns IBMChat for chaining.\n   * @example\n   * IBMChat.debug()\n   */\n  debug: function() {\n    bootstrap.debug();\n    return IBMChat;\n  },\n\n  /**\n   * String of current version of the chat widget.\n   * @memberof IBMChat\n   * @example\n   * IBMChat.version\n   */\n  version: process.env.CHAT_VERSION\n\n};\n\n\nmodule.exports = IBMChat;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/index.js\n ** module id = 0\n ** module chunks = 0\n **/","/*\n* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n* in compliance with the License. You may obtain a copy of the License at\n*\n* http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software distributed under the License\n* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n* or implied. See the License for the specific language governing permissions and limitations under\n* the License.\n*/\n\nvar state = require('../state');\n\nvar events = [];\n\nfunction completeEvent(response) {\n  switch (response) {\n  case true:\n    publish('send', {\n      message: 'success',\n      silent: true\n    });\n    break;\n  case false:\n    publish('send', {\n      message: 'failure',\n      silent: true\n    });\n    break;\n  default:\n    publish('send', {\n      message: 'cancel',\n      silent: true\n    });\n  }\n}\n\nfunction destroy() {\n  events = [];\n}\n\nfunction unsubscribe(event, handler, context) {\n  if (typeof context === undefined)\n    context = handler;\n}\n\nfunction currentSubscriptions() {\n  return events.slice(0);\n}\n\nfunction hasSubscription(action) {\n  var subscriptions = currentSubscriptions();\n  for (var i = 0; i < subscriptions.length; i++) {\n    var subscription = subscriptions[i];\n    if (subscription && subscription.event === action)\n      return true;\n    if (i === subscriptions.length - 1)\n      return false;\n  }\n}\n\nfunction subscribe(event, handler, context, subscribeOnce) {\n  if (typeof context === undefined)\n    context = handler;\n  var index = events.push({ event: event, handler: handler.bind(context), subscribeOnce: (subscribeOnce) ? true : false }) - 1;\n  if (!subscribeOnce) {\n    return {\n      remove: function() {\n        delete events[index];\n      }\n    };\n  }\n}\n\nfunction subscribeMany(event, handler, context) {\n  return subscribe(event, handler, context, false);\n}\n\nfunction subscribeOnce(event, handler, context) {\n  subscribe(event, handler, context, true);\n}\n\nfunction publish(event, data, cb) {\n  var current = state.get();\n  var wasSubscription = false;\n  for (var i = 0; i < events.length; i++) {\n    if (events[i] && events[i].event && events[i].event === event) {\n      if (current.DEBUG) {\n        wasSubscription = true;\n        if (event !== 'resize')\n          console.log('Subscription to ' + event + ' was called: ', data);\n      }\n      events[i].handler.call(undefined, data, cb);\n      if (events[i] && events[i].subscribeOnce === true)\n        delete events[i];\n    }\n  }\n  if (current.DEBUG && event.indexOf('layout') == -1 && !wasSubscription)\n    console.warn('Nothing is subscribed to ' + event);\n}\n\nmodule.exports = {\n  destroy: destroy,\n  unsubscribe: unsubscribe,\n  currentSubscriptions: currentSubscriptions,\n  hasSubscription: hasSubscription,\n  subscribe: subscribeMany,\n  subscribeOnce: subscribeOnce,\n  publish: publish,\n  completeEvent: completeEvent\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/events/index.js\n ** module id = 1\n ** module chunks = 0\n **/","/**\n* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n* in compliance with the License. You may obtain a copy of the License at\n*\n* http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software distributed under the License\n* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n* or implied. See the License for the specific language governing permissions and limitations under\n* the License.\n*/\n\nvar states = [];\nvar state = {};\nvar assign = require('lodash/assign');\n\nfunction get() {\n  return state;\n}\nfunction destroy() {\n  state = {};\n  set({});\n}\n\nfunction set(updated) {\n  state = assign({}, state, updated);\n  if (state.DEBUG) {\n    states.push(state);\n    console.log('STATE HISTORY: ', states);\n    console.log('NEW STATE: ', state);\n  }\n}\n\nmodule.exports ={\n  get: get,\n  set: set,\n  destroy: destroy,\n  getState: get,\n  setState: set,\n  destroyState: destroy\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/state/index.js\n ** module id = 2\n ** module chunks = 0\n **/","/*\n* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n* in compliance with the License. You may obtain a copy of the License at\n*\n* http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software distributed under the License\n* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n* or implied. See the License for the specific language governing permissions and limitations under\n* the License.\n*/\n\nvar state = require('../state');\nvar events = require('../events');\nvar writeMessage = require('./writeMessage');\nvar resize = require('./resize');\n\nfunction debounce(func, wait, immediate) {\n  var timeout;\n  return function() {\n    var context = this, args = arguments;\n    var later = function() {\n      timeout = null;\n      if (!immediate) func.apply(context, args);\n    };\n    var callNow = immediate && !timeout;\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n    if (callNow) func.apply(context, args);\n  };\n}\n\nfunction serialize(obj) {\n  var str = [];\n  for (var p in obj) {\n    if (obj.hasOwnProperty(p))\n      str.push(encodeURIComponent(p) + '=' + encodeURIComponent(obj[p]));\n  }\n  return str.join('&');\n}\n\nfunction compile(str, options) {\n  if (options && Object.keys(options).length > 0) {\n    Object.keys(options).forEach(function(key) {\n      str = str.split('${' + key + '}').join(options[key]);\n    });\n  }\n  return str;\n}\n\nfunction getUUID() {\n  var d = new Date().getTime();\n  if ( window.performance && typeof window.performance.now === 'function' )\n    d += performance.now();\n  return 'IBMChat-' + ('xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n    var r = (d + Math.random()*16)%16 | 0;\n    d = Math.floor(d/16);\n    return (( c == 'x' ? r : (r&0x3|0x8)).toString(16));\n  }));\n}\n\nfunction hasClass(element, className) {\n  var thatClass = \" \" + className + \" \";\n  return ( (\" \" + element.className + \" \").replace(/[\\n\\t]/g, \" \").indexOf(thatClass) > -1 );\n}\n\nfunction appendToEach(appendTo, content) {\n  for (var i = 0; i < appendTo.length; i++) {\n    var clone = content.cloneNode(true);\n    appendTo[i].appendChild(clone);\n  }\n}\n\nfunction isVisible(elem) {\n  if (elem)\n    return !!( elem.offsetWidth || elem.offsetHeight || elem.getClientRects().length );\n  else\n    return false;\n}\n\nvar _currentVisibilityCheck;\n\nfunction checkVisibility() {\n  var current = state.get();\n  if (_currentVisibilityCheck)\n    clearTimeout(_currentVisibilityCheck);\n  if (isVisible(current.root)) {\n    if (!current.isVisible) {\n      state.set({\n        isVisible: true\n      });\n    }\n    events.publish('resize');\n    _currentVisibilityCheck = setTimeout(checkVisibility, 1000);\n  } else {\n    if (current.isVisible) {\n      state.set({\n        isVisible: false\n      });\n    }\n    _currentVisibilityCheck = setTimeout(checkVisibility, 300);\n  }\n}\n\nfunction endVisibilityCheck() {\n  if (_currentVisibilityCheck)\n    clearTimeout(_currentVisibilityCheck);\n}\n\nfunction checkRoot(el) {\n  if (typeof el === 'string' && document.getElementById(el))\n    return true;\n  else if (el.nodeType && el.nodeType === 1)\n    return true;\n  else\n    return false;\n}\n\nfunction getSDKConfig(config) {\n  var SDKconfig = {};\n  var baseURL = 'https://api.ibm.com/virtualagent/run/api/v1/';\n  SDKconfig.baseURL = config.baseURL || baseURL;\n  if (config.withCredentials)\n    SDKconfig.withCredentials = config.withCredentials;\n  if (config.XIBMClientID)\n    SDKconfig.XIBMClientID = config.XIBMClientID;\n  if (config.XIBMClientSecret)\n    SDKconfig.XIBMClientSecret = config.XIBMClientSecret;\n  if (config.userID)\n    SDKconfig.userID = config.userID;\n  if (config.userLatLon)\n    SDKconfig.userLatLon = config.userLatLon;\n  return SDKconfig;\n}\n\nmodule.exports = {\n  appendToEach: appendToEach,\n  debounce: debounce,\n  serialize: serialize,\n  hasClass: hasClass,\n  getUUID: getUUID,\n  compile: compile,\n  writeMessage: writeMessage,\n  addResizeListener: resize.addResizeListener,\n  removeResizeListener: resize.removeResizeListener,\n  isVisible: isVisible,\n  checkVisibility: checkVisibility,\n  checkRoot: checkRoot,\n  getSDKConfig: getSDKConfig,\n  endVisibilityCheck: endVisibilityCheck\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/utils/index.js\n ** module id = 3\n ** module chunks = 0\n **/","var assignValue = require('./_assignValue'),\n    copyObject = require('./_copyObject'),\n    createAssigner = require('./_createAssigner'),\n    isArrayLike = require('./isArrayLike'),\n    isPrototype = require('./_isPrototype'),\n    keys = require('./keys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/** Detect if properties shadowing those on `Object.prototype` are non-enumerable. */\nvar nonEnumShadows = !propertyIsEnumerable.call({ 'valueOf': 1 }, 'valueOf');\n\n/**\n * Assigns own enumerable string keyed properties of source objects to the\n * destination object. Source objects are applied from left to right.\n * Subsequent sources overwrite property assignments of previous sources.\n *\n * **Note:** This method mutates `object` and is loosely based on\n * [`Object.assign`](https://mdn.io/Object/assign).\n *\n * @static\n * @memberOf _\n * @since 0.10.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @see _.assignIn\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * function Bar() {\n *   this.c = 3;\n * }\n *\n * Foo.prototype.b = 2;\n * Bar.prototype.d = 4;\n *\n * _.assign({ 'a': 0 }, new Foo, new Bar);\n * // => { 'a': 1, 'c': 3 }\n */\nvar assign = createAssigner(function(object, source) {\n  if (nonEnumShadows || isPrototype(source) || isArrayLike(source)) {\n    copyObject(source, keys(source), object);\n    return;\n  }\n  for (var key in source) {\n    if (hasOwnProperty.call(source, key)) {\n      assignValue(object, key, source[key]);\n    }\n  }\n});\n\nmodule.exports = assign;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/lodash/assign.js\n ** module id = 4\n ** module chunks = 0\n **/","module.exports = {\n  input: require('./input.html'),\n  receive: require('./receive.html'),\n  send: require('./send.html'),\n  start: require('./start.html'),\n  loading: require('./loading.html')\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/templates/index.js\n ** module id = 5\n ** module chunks = 0\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"SDK\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"SDK\"] = factory();\n\telse\n\t\troot[\"SDK\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(22);\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t/*global toString:true*/\n\t\n\t// utils is a library of generic helper functions non-specific to axios\n\t\n\tvar toString = Object.prototype.toString;\n\t\n\t/**\n\t * Determine if a value is an Array\n\t *\n\t * @param {Object} val The value to test\n\t * @returns {boolean} True if value is an Array, otherwise false\n\t */\n\tfunction isArray(val) {\n\t  return toString.call(val) === '[object Array]';\n\t}\n\t\n\t/**\n\t * Determine if a value is an ArrayBuffer\n\t *\n\t * @param {Object} val The value to test\n\t * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n\t */\n\tfunction isArrayBuffer(val) {\n\t  return toString.call(val) === '[object ArrayBuffer]';\n\t}\n\t\n\t/**\n\t * Determine if a value is a FormData\n\t *\n\t * @param {Object} val The value to test\n\t * @returns {boolean} True if value is an FormData, otherwise false\n\t */\n\tfunction isFormData(val) {\n\t  return (typeof FormData !== 'undefined') && (val instanceof FormData);\n\t}\n\t\n\t/**\n\t * Determine if a value is a view on an ArrayBuffer\n\t *\n\t * @param {Object} val The value to test\n\t * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n\t */\n\tfunction isArrayBufferView(val) {\n\t  var result;\n\t  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n\t    result = ArrayBuffer.isView(val);\n\t  } else {\n\t    result = (val) && (val.buffer) && (val.buffer instanceof ArrayBuffer);\n\t  }\n\t  return result;\n\t}\n\t\n\t/**\n\t * Determine if a value is a String\n\t *\n\t * @param {Object} val The value to test\n\t * @returns {boolean} True if value is a String, otherwise false\n\t */\n\tfunction isString(val) {\n\t  return typeof val === 'string';\n\t}\n\t\n\t/**\n\t * Determine if a value is a Number\n\t *\n\t * @param {Object} val The value to test\n\t * @returns {boolean} True if value is a Number, otherwise false\n\t */\n\tfunction isNumber(val) {\n\t  return typeof val === 'number';\n\t}\n\t\n\t/**\n\t * Determine if a value is undefined\n\t *\n\t * @param {Object} val The value to test\n\t * @returns {boolean} True if the value is undefined, otherwise false\n\t */\n\tfunction isUndefined(val) {\n\t  return typeof val === 'undefined';\n\t}\n\t\n\t/**\n\t * Determine if a value is an Object\n\t *\n\t * @param {Object} val The value to test\n\t * @returns {boolean} True if value is an Object, otherwise false\n\t */\n\tfunction isObject(val) {\n\t  return val !== null && typeof val === 'object';\n\t}\n\t\n\t/**\n\t * Determine if a value is a Date\n\t *\n\t * @param {Object} val The value to test\n\t * @returns {boolean} True if value is a Date, otherwise false\n\t */\n\tfunction isDate(val) {\n\t  return toString.call(val) === '[object Date]';\n\t}\n\t\n\t/**\n\t * Determine if a value is a File\n\t *\n\t * @param {Object} val The value to test\n\t * @returns {boolean} True if value is a File, otherwise false\n\t */\n\tfunction isFile(val) {\n\t  return toString.call(val) === '[object File]';\n\t}\n\t\n\t/**\n\t * Determine if a value is a Blob\n\t *\n\t * @param {Object} val The value to test\n\t * @returns {boolean} True if value is a Blob, otherwise false\n\t */\n\tfunction isBlob(val) {\n\t  return toString.call(val) === '[object Blob]';\n\t}\n\t\n\t/**\n\t * Determine if a value is a Function\n\t *\n\t * @param {Object} val The value to test\n\t * @returns {boolean} True if value is a Function, otherwise false\n\t */\n\tfunction isFunction(val) {\n\t  return toString.call(val) === '[object Function]';\n\t}\n\t\n\t/**\n\t * Determine if a value is a Stream\n\t *\n\t * @param {Object} val The value to test\n\t * @returns {boolean} True if value is a Stream, otherwise false\n\t */\n\tfunction isStream(val) {\n\t  return isObject(val) && isFunction(val.pipe);\n\t}\n\t\n\t/**\n\t * Determine if a value is a URLSearchParams object\n\t *\n\t * @param {Object} val The value to test\n\t * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n\t */\n\tfunction isURLSearchParams(val) {\n\t  return typeof URLSearchParams !== 'undefined' && val instanceof URLSearchParams;\n\t}\n\t\n\t/**\n\t * Trim excess whitespace off the beginning and end of a string\n\t *\n\t * @param {String} str The String to trim\n\t * @returns {String} The String freed of excess whitespace\n\t */\n\tfunction trim(str) {\n\t  return str.replace(/^\\s*/, '').replace(/\\s*$/, '');\n\t}\n\t\n\t/**\n\t * Determine if we're running in a standard browser environment\n\t *\n\t * This allows axios to run in a web worker, and react-native.\n\t * Both environments support XMLHttpRequest, but not fully standard globals.\n\t *\n\t * web workers:\n\t *  typeof window -> undefined\n\t *  typeof document -> undefined\n\t *\n\t * react-native:\n\t *  typeof document.createElement -> undefined\n\t */\n\tfunction isStandardBrowserEnv() {\n\t  return (\n\t    typeof window !== 'undefined' &&\n\t    typeof document !== 'undefined' &&\n\t    typeof document.createElement === 'function'\n\t  );\n\t}\n\t\n\t/**\n\t * Iterate over an Array or an Object invoking a function for each item.\n\t *\n\t * If `obj` is an Array callback will be called passing\n\t * the value, index, and complete array for each item.\n\t *\n\t * If 'obj' is an Object callback will be called passing\n\t * the value, key, and complete object for each property.\n\t *\n\t * @param {Object|Array} obj The object to iterate\n\t * @param {Function} fn The callback to invoke for each item\n\t */\n\tfunction forEach(obj, fn) {\n\t  // Don't bother if no value provided\n\t  if (obj === null || typeof obj === 'undefined') {\n\t    return;\n\t  }\n\t\n\t  // Force an array if not already something iterable\n\t  if (typeof obj !== 'object' && !isArray(obj)) {\n\t    /*eslint no-param-reassign:0*/\n\t    obj = [obj];\n\t  }\n\t\n\t  if (isArray(obj)) {\n\t    // Iterate over array values\n\t    for (var i = 0, l = obj.length; i < l; i++) {\n\t      fn.call(null, obj[i], i, obj);\n\t    }\n\t  } else {\n\t    // Iterate over object keys\n\t    for (var key in obj) {\n\t      if (obj.hasOwnProperty(key)) {\n\t        fn.call(null, obj[key], key, obj);\n\t      }\n\t    }\n\t  }\n\t}\n\t\n\t/**\n\t * Accepts varargs expecting each argument to be an object, then\n\t * immutably merges the properties of each object and returns result.\n\t *\n\t * When multiple objects contain the same key the later object in\n\t * the arguments list will take precedence.\n\t *\n\t * Example:\n\t *\n\t * ```js\n\t * var result = merge({foo: 123}, {foo: 456});\n\t * console.log(result.foo); // outputs 456\n\t * ```\n\t *\n\t * @param {Object} obj1 Object to merge\n\t * @returns {Object} Result of all merge properties\n\t */\n\tfunction merge(/* obj1, obj2, obj3, ... */) {\n\t  var result = {};\n\t  function assignValue(val, key) {\n\t    if (typeof result[key] === 'object' && typeof val === 'object') {\n\t      result[key] = merge(result[key], val);\n\t    } else {\n\t      result[key] = val;\n\t    }\n\t  }\n\t\n\t  for (var i = 0, l = arguments.length; i < l; i++) {\n\t    forEach(arguments[i], assignValue);\n\t  }\n\t  return result;\n\t}\n\t\n\tmodule.exports = {\n\t  isArray: isArray,\n\t  isArrayBuffer: isArrayBuffer,\n\t  isFormData: isFormData,\n\t  isArrayBufferView: isArrayBufferView,\n\t  isString: isString,\n\t  isNumber: isNumber,\n\t  isObject: isObject,\n\t  isUndefined: isUndefined,\n\t  isDate: isDate,\n\t  isFile: isFile,\n\t  isBlob: isBlob,\n\t  isFunction: isFunction,\n\t  isStream: isStream,\n\t  isURLSearchParams: isURLSearchParams,\n\t  isStandardBrowserEnv: isStandardBrowserEnv,\n\t  forEach: forEach,\n\t  merge: merge,\n\t  trim: trim\n\t};\n\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t// shim for using process in browser\n\tvar process = module.exports = {};\n\t\n\t// cached from whatever global is present so that test runners that stub it\n\t// don't break things.  But we need to wrap it in a try catch in case it is\n\t// wrapped in strict mode code which doesn't define any globals.  It's inside a\n\t// function because try/catches deoptimize in certain engines.\n\t\n\tvar cachedSetTimeout;\n\tvar cachedClearTimeout;\n\t\n\tfunction defaultSetTimout() {\n\t    throw new Error('setTimeout has not been defined');\n\t}\n\tfunction defaultClearTimeout () {\n\t    throw new Error('clearTimeout has not been defined');\n\t}\n\t(function () {\n\t    try {\n\t        if (typeof setTimeout === 'function') {\n\t            cachedSetTimeout = setTimeout;\n\t        } else {\n\t            cachedSetTimeout = defaultSetTimout;\n\t        }\n\t    } catch (e) {\n\t        cachedSetTimeout = defaultSetTimout;\n\t    }\n\t    try {\n\t        if (typeof clearTimeout === 'function') {\n\t            cachedClearTimeout = clearTimeout;\n\t        } else {\n\t            cachedClearTimeout = defaultClearTimeout;\n\t        }\n\t    } catch (e) {\n\t        cachedClearTimeout = defaultClearTimeout;\n\t    }\n\t} ())\n\tfunction runTimeout(fun) {\n\t    if (cachedSetTimeout === setTimeout) {\n\t        //normal enviroments in sane situations\n\t        return setTimeout(fun, 0);\n\t    }\n\t    // if setTimeout wasn't available but was latter defined\n\t    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n\t        cachedSetTimeout = setTimeout;\n\t        return setTimeout(fun, 0);\n\t    }\n\t    try {\n\t        // when when somebody has screwed with setTimeout but no I.E. maddness\n\t        return cachedSetTimeout(fun, 0);\n\t    } catch(e){\n\t        try {\n\t            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n\t            return cachedSetTimeout.call(null, fun, 0);\n\t        } catch(e){\n\t            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n\t            return cachedSetTimeout.call(this, fun, 0);\n\t        }\n\t    }\n\t\n\t\n\t}\n\tfunction runClearTimeout(marker) {\n\t    if (cachedClearTimeout === clearTimeout) {\n\t        //normal enviroments in sane situations\n\t        return clearTimeout(marker);\n\t    }\n\t    // if clearTimeout wasn't available but was latter defined\n\t    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n\t        cachedClearTimeout = clearTimeout;\n\t        return clearTimeout(marker);\n\t    }\n\t    try {\n\t        // when when somebody has screwed with setTimeout but no I.E. maddness\n\t        return cachedClearTimeout(marker);\n\t    } catch (e){\n\t        try {\n\t            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n\t            return cachedClearTimeout.call(null, marker);\n\t        } catch (e){\n\t            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n\t            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n\t            return cachedClearTimeout.call(this, marker);\n\t        }\n\t    }\n\t\n\t\n\t\n\t}\n\tvar queue = [];\n\tvar draining = false;\n\tvar currentQueue;\n\tvar queueIndex = -1;\n\t\n\tfunction cleanUpNextTick() {\n\t    if (!draining || !currentQueue) {\n\t        return;\n\t    }\n\t    draining = false;\n\t    if (currentQueue.length) {\n\t        queue = currentQueue.concat(queue);\n\t    } else {\n\t        queueIndex = -1;\n\t    }\n\t    if (queue.length) {\n\t        drainQueue();\n\t    }\n\t}\n\t\n\tfunction drainQueue() {\n\t    if (draining) {\n\t        return;\n\t    }\n\t    var timeout = runTimeout(cleanUpNextTick);\n\t    draining = true;\n\t\n\t    var len = queue.length;\n\t    while(len) {\n\t        currentQueue = queue;\n\t        queue = [];\n\t        while (++queueIndex < len) {\n\t            if (currentQueue) {\n\t                currentQueue[queueIndex].run();\n\t            }\n\t        }\n\t        queueIndex = -1;\n\t        len = queue.length;\n\t    }\n\t    currentQueue = null;\n\t    draining = false;\n\t    runClearTimeout(timeout);\n\t}\n\t\n\tprocess.nextTick = function (fun) {\n\t    var args = new Array(arguments.length - 1);\n\t    if (arguments.length > 1) {\n\t        for (var i = 1; i < arguments.length; i++) {\n\t            args[i - 1] = arguments[i];\n\t        }\n\t    }\n\t    queue.push(new Item(fun, args));\n\t    if (queue.length === 1 && !draining) {\n\t        runTimeout(drainQueue);\n\t    }\n\t};\n\t\n\t// v8 likes predictible objects\n\tfunction Item(fun, array) {\n\t    this.fun = fun;\n\t    this.array = array;\n\t}\n\tItem.prototype.run = function () {\n\t    this.fun.apply(null, this.array);\n\t};\n\tprocess.title = 'browser';\n\tprocess.browser = true;\n\tprocess.env = {};\n\tprocess.argv = [];\n\tprocess.version = ''; // empty string to avoid regexp issues\n\tprocess.versions = {};\n\t\n\tfunction noop() {}\n\t\n\tprocess.on = noop;\n\tprocess.addListener = noop;\n\tprocess.once = noop;\n\tprocess.off = noop;\n\tprocess.removeListener = noop;\n\tprocess.removeAllListeners = noop;\n\tprocess.emit = noop;\n\t\n\tprocess.binding = function (name) {\n\t    throw new Error('process.binding is not supported');\n\t};\n\t\n\tprocess.cwd = function () { return '/' };\n\tprocess.chdir = function (dir) {\n\t    throw new Error('process.chdir is not supported');\n\t};\n\tprocess.umask = function() { return 0; };\n\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(process) {'use strict';\n\t\n\tvar utils = __webpack_require__(1);\n\tvar buildURL = __webpack_require__(12);\n\tvar parseHeaders = __webpack_require__(18);\n\tvar transformData = __webpack_require__(4);\n\tvar isURLSameOrigin = __webpack_require__(16);\n\tvar btoa = (typeof window !== 'undefined' && window.btoa) || __webpack_require__(11);\n\tvar settle = __webpack_require__(19);\n\t\n\tmodule.exports = function xhrAdapter(resolve, reject, config) {\n\t  var requestData = config.data;\n\t  var requestHeaders = config.headers;\n\t\n\t  if (utils.isFormData(requestData)) {\n\t    delete requestHeaders['Content-Type']; // Let the browser set it\n\t  }\n\t\n\t  var request = new XMLHttpRequest();\n\t  var loadEvent = 'onreadystatechange';\n\t  var xDomain = false;\n\t\n\t  // For IE 8/9 CORS support\n\t  // Only supports POST and GET calls and doesn't returns the response headers.\n\t  // DON'T do this for testing b/c XMLHttpRequest is mocked, not XDomainRequest.\n\t  if (process.env.NODE_ENV !== 'test' && typeof window !== 'undefined' && window.XDomainRequest && !('withCredentials' in request) && !isURLSameOrigin(config.url)) {\n\t    request = new window.XDomainRequest();\n\t    loadEvent = 'onload';\n\t    xDomain = true;\n\t    request.onprogress = function handleProgress() {};\n\t    request.ontimeout = function handleTimeout() {};\n\t  }\n\t\n\t  // HTTP basic authentication\n\t  if (config.auth) {\n\t    var username = config.auth.username || '';\n\t    var password = config.auth.password || '';\n\t    requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\n\t  }\n\t\n\t  request.open(config.method.toUpperCase(), buildURL(config.url, config.params, config.paramsSerializer), true);\n\t\n\t  // Set the request timeout in MS\n\t  request.timeout = config.timeout;\n\t\n\t  // Listen for ready state\n\t  request[loadEvent] = function handleLoad() {\n\t    if (!request || (request.readyState !== 4 && !xDomain)) {\n\t      return;\n\t    }\n\t\n\t    // The request errored out and we didn't get a response, this will be\n\t    // handled by onerror instead\n\t    if (request.status === 0) {\n\t      return;\n\t    }\n\t\n\t    // Prepare the response\n\t    var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\n\t    var responseData = !config.responseType || config.responseType === 'text' ? request.responseText : request.response;\n\t    var response = {\n\t      data: transformData(\n\t        responseData,\n\t        responseHeaders,\n\t        config.transformResponse\n\t      ),\n\t      // IE sends 1223 instead of 204 (https://github.com/mzabriskie/axios/issues/201)\n\t      status: request.status === 1223 ? 204 : request.status,\n\t      statusText: request.status === 1223 ? 'No Content' : request.statusText,\n\t      headers: responseHeaders,\n\t      config: config,\n\t      request: request\n\t    };\n\t\n\t    settle(resolve, reject, response);\n\t\n\t    // Clean up request\n\t    request = null;\n\t  };\n\t\n\t  // Handle low level network errors\n\t  request.onerror = function handleError() {\n\t    // Real errors are hidden from us by the browser\n\t    // onerror should only fire if it's a network error\n\t    reject(new Error('Network Error'));\n\t\n\t    // Clean up request\n\t    request = null;\n\t  };\n\t\n\t  // Handle timeout\n\t  request.ontimeout = function handleTimeout() {\n\t    var err = new Error('timeout of ' + config.timeout + 'ms exceeded');\n\t    err.timeout = config.timeout;\n\t    err.code = 'ECONNABORTED';\n\t    reject(err);\n\t\n\t    // Clean up request\n\t    request = null;\n\t  };\n\t\n\t  // Add xsrf header\n\t  // This is only done if running in a standard browser environment.\n\t  // Specifically not if we're in a web worker, or react-native.\n\t  if (utils.isStandardBrowserEnv()) {\n\t    var cookies = __webpack_require__(14);\n\t\n\t    // Add xsrf header\n\t    var xsrfValue = config.withCredentials || isURLSameOrigin(config.url) ?\n\t        cookies.read(config.xsrfCookieName) :\n\t        undefined;\n\t\n\t    if (xsrfValue) {\n\t      requestHeaders[config.xsrfHeaderName] = xsrfValue;\n\t    }\n\t  }\n\t\n\t  // Add headers to the request\n\t  if ('setRequestHeader' in request) {\n\t    utils.forEach(requestHeaders, function setRequestHeader(val, key) {\n\t      if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {\n\t        // Remove Content-Type if data is undefined\n\t        delete requestHeaders[key];\n\t      } else {\n\t        // Otherwise add header to the request\n\t        request.setRequestHeader(key, val);\n\t      }\n\t    });\n\t  }\n\t\n\t  // Add withCredentials to request if needed\n\t  if (config.withCredentials) {\n\t    request.withCredentials = true;\n\t  }\n\t\n\t  // Add responseType to request if needed\n\t  if (config.responseType) {\n\t    try {\n\t      request.responseType = config.responseType;\n\t    } catch (e) {\n\t      if (request.responseType !== 'json') {\n\t        throw e;\n\t      }\n\t    }\n\t  }\n\t\n\t  // Handle progress if needed\n\t  if (config.progress) {\n\t    if (config.method === 'post' || config.method === 'put') {\n\t      request.upload.addEventListener('progress', config.progress);\n\t    } else if (config.method === 'get') {\n\t      request.addEventListener('progress', config.progress);\n\t    }\n\t  }\n\t\n\t  if (requestData === undefined) {\n\t    requestData = null;\n\t  }\n\t\n\t  // Send the request\n\t  request.send(requestData);\n\t};\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar utils = __webpack_require__(1);\n\t\n\t/**\n\t * Transform the data for a request or a response\n\t *\n\t * @param {Object|String} data The data to be transformed\n\t * @param {Array} headers The headers for the request or response\n\t * @param {Array|Function} fns A single function or Array of functions\n\t * @returns {*} The resulting transformed data\n\t */\n\tmodule.exports = function transformData(data, headers, fns) {\n\t  /*eslint no-param-reassign:0*/\n\t  utils.forEach(fns, function transform(fn) {\n\t    data = fn(data, headers);\n\t  });\n\t\n\t  return data;\n\t};\n\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(6);\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar defaults = __webpack_require__(9);\n\tvar utils = __webpack_require__(1);\n\tvar dispatchRequest = __webpack_require__(8);\n\tvar InterceptorManager = __webpack_require__(7);\n\tvar isAbsoluteURL = __webpack_require__(15);\n\tvar combineURLs = __webpack_require__(13);\n\tvar bind = __webpack_require__(10);\n\tvar transformData = __webpack_require__(4);\n\t\n\tfunction Axios(defaultConfig) {\n\t  this.defaults = utils.merge({}, defaultConfig);\n\t  this.interceptors = {\n\t    request: new InterceptorManager(),\n\t    response: new InterceptorManager()\n\t  };\n\t}\n\t\n\tAxios.prototype.request = function request(config) {\n\t  /*eslint no-param-reassign:0*/\n\t  // Allow for axios('example/url'[, config]) a la fetch API\n\t  if (typeof config === 'string') {\n\t    config = utils.merge({\n\t      url: arguments[0]\n\t    }, arguments[1]);\n\t  }\n\t\n\t  config = utils.merge(defaults, this.defaults, { method: 'get' }, config);\n\t\n\t  // Support baseURL config\n\t  if (config.baseURL && !isAbsoluteURL(config.url)) {\n\t    config.url = combineURLs(config.baseURL, config.url);\n\t  }\n\t\n\t  // Don't allow overriding defaults.withCredentials\n\t  config.withCredentials = config.withCredentials || this.defaults.withCredentials;\n\t\n\t  // Transform request data\n\t  config.data = transformData(\n\t    config.data,\n\t    config.headers,\n\t    config.transformRequest\n\t  );\n\t\n\t  // Flatten headers\n\t  config.headers = utils.merge(\n\t    config.headers.common || {},\n\t    config.headers[config.method] || {},\n\t    config.headers || {}\n\t  );\n\t\n\t  utils.forEach(\n\t    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n\t    function cleanHeaderConfig(method) {\n\t      delete config.headers[method];\n\t    }\n\t  );\n\t\n\t  // Hook up interceptors middleware\n\t  var chain = [dispatchRequest, undefined];\n\t  var promise = Promise.resolve(config);\n\t\n\t  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n\t    chain.unshift(interceptor.fulfilled, interceptor.rejected);\n\t  });\n\t\n\t  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n\t    chain.push(interceptor.fulfilled, interceptor.rejected);\n\t  });\n\t\n\t  while (chain.length) {\n\t    promise = promise.then(chain.shift(), chain.shift());\n\t  }\n\t\n\t  return promise;\n\t};\n\t\n\tvar defaultInstance = new Axios(defaults);\n\tvar axios = module.exports = bind(Axios.prototype.request, defaultInstance);\n\taxios.request = bind(Axios.prototype.request, defaultInstance);\n\t\n\t// Expose Axios class to allow class inheritance\n\taxios.Axios = Axios;\n\t\n\t// Expose properties from defaultInstance\n\taxios.defaults = defaultInstance.defaults;\n\taxios.interceptors = defaultInstance.interceptors;\n\t\n\t// Factory for creating new instances\n\taxios.create = function create(defaultConfig) {\n\t  return new Axios(defaultConfig);\n\t};\n\t\n\t// Expose all/spread\n\taxios.all = function all(promises) {\n\t  return Promise.all(promises);\n\t};\n\taxios.spread = __webpack_require__(20);\n\t\n\t// Provide aliases for supported request methods\n\tutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n\t  /*eslint func-names:0*/\n\t  Axios.prototype[method] = function(url, config) {\n\t    return this.request(utils.merge(config || {}, {\n\t      method: method,\n\t      url: url\n\t    }));\n\t  };\n\t  axios[method] = bind(Axios.prototype[method], defaultInstance);\n\t});\n\t\n\tutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n\t  /*eslint func-names:0*/\n\t  Axios.prototype[method] = function(url, data, config) {\n\t    return this.request(utils.merge(config || {}, {\n\t      method: method,\n\t      url: url,\n\t      data: data\n\t    }));\n\t  };\n\t  axios[method] = bind(Axios.prototype[method], defaultInstance);\n\t});\n\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar utils = __webpack_require__(1);\n\t\n\tfunction InterceptorManager() {\n\t  this.handlers = [];\n\t}\n\t\n\t/**\n\t * Add a new interceptor to the stack\n\t *\n\t * @param {Function} fulfilled The function to handle `then` for a `Promise`\n\t * @param {Function} rejected The function to handle `reject` for a `Promise`\n\t *\n\t * @return {Number} An ID used to remove interceptor later\n\t */\n\tInterceptorManager.prototype.use = function use(fulfilled, rejected) {\n\t  this.handlers.push({\n\t    fulfilled: fulfilled,\n\t    rejected: rejected\n\t  });\n\t  return this.handlers.length - 1;\n\t};\n\t\n\t/**\n\t * Remove an interceptor from the stack\n\t *\n\t * @param {Number} id The ID that was returned by `use`\n\t */\n\tInterceptorManager.prototype.eject = function eject(id) {\n\t  if (this.handlers[id]) {\n\t    this.handlers[id] = null;\n\t  }\n\t};\n\t\n\t/**\n\t * Iterate over all the registered interceptors\n\t *\n\t * This method is particularly useful for skipping over any\n\t * interceptors that may have become `null` calling `eject`.\n\t *\n\t * @param {Function} fn The function to call for each interceptor\n\t */\n\tInterceptorManager.prototype.forEach = function forEach(fn) {\n\t  utils.forEach(this.handlers, function forEachHandler(h) {\n\t    if (h !== null) {\n\t      fn(h);\n\t    }\n\t  });\n\t};\n\t\n\tmodule.exports = InterceptorManager;\n\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(process) {'use strict';\n\t\n\t/**\n\t * Dispatch a request to the server using whichever adapter\n\t * is supported by the current environment.\n\t *\n\t * @param {object} config The config that is to be used for the request\n\t * @returns {Promise} The Promise to be fulfilled\n\t */\n\tmodule.exports = function dispatchRequest(config) {\n\t  return new Promise(function executor(resolve, reject) {\n\t    try {\n\t      var adapter;\n\t\n\t      if (typeof config.adapter === 'function') {\n\t        // For custom adapter support\n\t        adapter = config.adapter;\n\t      } else if (typeof XMLHttpRequest !== 'undefined') {\n\t        // For browsers use XHR adapter\n\t        adapter = __webpack_require__(3);\n\t      } else if (typeof process !== 'undefined') {\n\t        // For node use HTTP adapter\n\t        adapter = __webpack_require__(3);\n\t      }\n\t\n\t      if (typeof adapter === 'function') {\n\t        adapter(resolve, reject, config);\n\t      }\n\t    } catch (e) {\n\t      reject(e);\n\t    }\n\t  });\n\t};\n\t\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar utils = __webpack_require__(1);\n\tvar normalizeHeaderName = __webpack_require__(17);\n\t\n\tvar PROTECTION_PREFIX = /^\\)\\]\\}',?\\n/;\n\tvar DEFAULT_CONTENT_TYPE = {\n\t  'Content-Type': 'application/x-www-form-urlencoded'\n\t};\n\t\n\tfunction setContentTypeIfUnset(headers, value) {\n\t  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n\t    headers['Content-Type'] = value;\n\t  }\n\t}\n\t\n\tmodule.exports = {\n\t  transformRequest: [function transformRequest(data, headers) {\n\t    normalizeHeaderName(headers, 'Content-Type');\n\t    if (utils.isFormData(data) ||\n\t      utils.isArrayBuffer(data) ||\n\t      utils.isStream(data) ||\n\t      utils.isFile(data) ||\n\t      utils.isBlob(data)\n\t    ) {\n\t      return data;\n\t    }\n\t    if (utils.isArrayBufferView(data)) {\n\t      return data.buffer;\n\t    }\n\t    if (utils.isURLSearchParams(data)) {\n\t      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\n\t      return data.toString();\n\t    }\n\t    if (utils.isObject(data)) {\n\t      setContentTypeIfUnset(headers, 'application/json;charset=utf-8');\n\t      return JSON.stringify(data);\n\t    }\n\t    return data;\n\t  }],\n\t\n\t  transformResponse: [function transformResponse(data) {\n\t    /*eslint no-param-reassign:0*/\n\t    if (typeof data === 'string') {\n\t      data = data.replace(PROTECTION_PREFIX, '');\n\t      try {\n\t        data = JSON.parse(data);\n\t      } catch (e) { /* Ignore */ }\n\t    }\n\t    return data;\n\t  }],\n\t\n\t  headers: {\n\t    common: {\n\t      'Accept': 'application/json, text/plain, */*'\n\t    },\n\t    patch: utils.merge(DEFAULT_CONTENT_TYPE),\n\t    post: utils.merge(DEFAULT_CONTENT_TYPE),\n\t    put: utils.merge(DEFAULT_CONTENT_TYPE)\n\t  },\n\t\n\t  timeout: 0,\n\t\n\t  xsrfCookieName: 'XSRF-TOKEN',\n\t  xsrfHeaderName: 'X-XSRF-TOKEN',\n\t\n\t  maxContentLength: -1,\n\t\n\t  validateStatus: function validateStatus(status) {\n\t    return status >= 200 && status < 300;\n\t  }\n\t};\n\n\n/***/ },\n/* 10 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tmodule.exports = function bind(fn, thisArg) {\n\t  return function wrap() {\n\t    var args = new Array(arguments.length);\n\t    for (var i = 0; i < args.length; i++) {\n\t      args[i] = arguments[i];\n\t    }\n\t    return fn.apply(thisArg, args);\n\t  };\n\t};\n\n\n/***/ },\n/* 11 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t// btoa polyfill for IE<10 courtesy https://github.com/davidchambers/Base64.js\n\t\n\tvar chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\t\n\tfunction E() {\n\t  this.message = 'String contains an invalid character';\n\t}\n\tE.prototype = new Error;\n\tE.prototype.code = 5;\n\tE.prototype.name = 'InvalidCharacterError';\n\t\n\tfunction btoa(input) {\n\t  var str = String(input);\n\t  var output = '';\n\t  for (\n\t    // initialize result and counter\n\t    var block, charCode, idx = 0, map = chars;\n\t    // if the next str index does not exist:\n\t    //   change the mapping table to \"=\"\n\t    //   check if d has no fractional digits\n\t    str.charAt(idx | 0) || (map = '=', idx % 1);\n\t    // \"8 - idx % 1 * 8\" generates the sequence 2, 4, 6, 8\n\t    output += map.charAt(63 & block >> 8 - idx % 1 * 8)\n\t  ) {\n\t    charCode = str.charCodeAt(idx += 3 / 4);\n\t    if (charCode > 0xFF) {\n\t      throw new E();\n\t    }\n\t    block = block << 8 | charCode;\n\t  }\n\t  return output;\n\t}\n\t\n\tmodule.exports = btoa;\n\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar utils = __webpack_require__(1);\n\t\n\tfunction encode(val) {\n\t  return encodeURIComponent(val).\n\t    replace(/%40/gi, '@').\n\t    replace(/%3A/gi, ':').\n\t    replace(/%24/g, '$').\n\t    replace(/%2C/gi, ',').\n\t    replace(/%20/g, '+').\n\t    replace(/%5B/gi, '[').\n\t    replace(/%5D/gi, ']');\n\t}\n\t\n\t/**\n\t * Build a URL by appending params to the end\n\t *\n\t * @param {string} url The base of the url (e.g., http://www.google.com)\n\t * @param {object} [params] The params to be appended\n\t * @returns {string} The formatted url\n\t */\n\tmodule.exports = function buildURL(url, params, paramsSerializer) {\n\t  /*eslint no-param-reassign:0*/\n\t  if (!params) {\n\t    return url;\n\t  }\n\t\n\t  var serializedParams;\n\t  if (paramsSerializer) {\n\t    serializedParams = paramsSerializer(params);\n\t  } else if (utils.isURLSearchParams(params)) {\n\t    serializedParams = params.toString();\n\t  } else {\n\t    var parts = [];\n\t\n\t    utils.forEach(params, function serialize(val, key) {\n\t      if (val === null || typeof val === 'undefined') {\n\t        return;\n\t      }\n\t\n\t      if (utils.isArray(val)) {\n\t        key = key + '[]';\n\t      }\n\t\n\t      if (!utils.isArray(val)) {\n\t        val = [val];\n\t      }\n\t\n\t      utils.forEach(val, function parseValue(v) {\n\t        if (utils.isDate(v)) {\n\t          v = v.toISOString();\n\t        } else if (utils.isObject(v)) {\n\t          v = JSON.stringify(v);\n\t        }\n\t        parts.push(encode(key) + '=' + encode(v));\n\t      });\n\t    });\n\t\n\t    serializedParams = parts.join('&');\n\t  }\n\t\n\t  if (serializedParams) {\n\t    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n\t  }\n\t\n\t  return url;\n\t};\n\n\n/***/ },\n/* 13 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t/**\n\t * Creates a new URL by combining the specified URLs\n\t *\n\t * @param {string} baseURL The base URL\n\t * @param {string} relativeURL The relative URL\n\t * @returns {string} The combined URL\n\t */\n\tmodule.exports = function combineURLs(baseURL, relativeURL) {\n\t  return baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '');\n\t};\n\n\n/***/ },\n/* 14 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar utils = __webpack_require__(1);\n\t\n\tmodule.exports = (\n\t  utils.isStandardBrowserEnv() ?\n\t\n\t  // Standard browser envs support document.cookie\n\t  (function standardBrowserEnv() {\n\t    return {\n\t      write: function write(name, value, expires, path, domain, secure) {\n\t        var cookie = [];\n\t        cookie.push(name + '=' + encodeURIComponent(value));\n\t\n\t        if (utils.isNumber(expires)) {\n\t          cookie.push('expires=' + new Date(expires).toGMTString());\n\t        }\n\t\n\t        if (utils.isString(path)) {\n\t          cookie.push('path=' + path);\n\t        }\n\t\n\t        if (utils.isString(domain)) {\n\t          cookie.push('domain=' + domain);\n\t        }\n\t\n\t        if (secure === true) {\n\t          cookie.push('secure');\n\t        }\n\t\n\t        document.cookie = cookie.join('; ');\n\t      },\n\t\n\t      read: function read(name) {\n\t        var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n\t        return (match ? decodeURIComponent(match[3]) : null);\n\t      },\n\t\n\t      remove: function remove(name) {\n\t        this.write(name, '', Date.now() - 86400000);\n\t      }\n\t    };\n\t  })() :\n\t\n\t  // Non standard browser env (web workers, react-native) lack needed support.\n\t  (function nonStandardBrowserEnv() {\n\t    return {\n\t      write: function write() {},\n\t      read: function read() { return null; },\n\t      remove: function remove() {}\n\t    };\n\t  })()\n\t);\n\n\n/***/ },\n/* 15 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t/**\n\t * Determines whether the specified URL is absolute\n\t *\n\t * @param {string} url The URL to test\n\t * @returns {boolean} True if the specified URL is absolute, otherwise false\n\t */\n\tmodule.exports = function isAbsoluteURL(url) {\n\t  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n\t  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n\t  // by any combination of letters, digits, plus, period, or hyphen.\n\t  return /^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(url);\n\t};\n\n\n/***/ },\n/* 16 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar utils = __webpack_require__(1);\n\t\n\tmodule.exports = (\n\t  utils.isStandardBrowserEnv() ?\n\t\n\t  // Standard browser envs have full support of the APIs needed to test\n\t  // whether the request URL is of the same origin as current location.\n\t  (function standardBrowserEnv() {\n\t    var msie = /(msie|trident)/i.test(navigator.userAgent);\n\t    var urlParsingNode = document.createElement('a');\n\t    var originURL;\n\t\n\t    /**\n\t    * Parse a URL to discover it's components\n\t    *\n\t    * @param {String} url The URL to be parsed\n\t    * @returns {Object}\n\t    */\n\t    function resolveURL(url) {\n\t      var href = url;\n\t\n\t      if (msie) {\n\t        // IE needs attribute set twice to normalize properties\n\t        urlParsingNode.setAttribute('href', href);\n\t        href = urlParsingNode.href;\n\t      }\n\t\n\t      urlParsingNode.setAttribute('href', href);\n\t\n\t      // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n\t      return {\n\t        href: urlParsingNode.href,\n\t        protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n\t        host: urlParsingNode.host,\n\t        search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n\t        hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n\t        hostname: urlParsingNode.hostname,\n\t        port: urlParsingNode.port,\n\t        pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n\t                  urlParsingNode.pathname :\n\t                  '/' + urlParsingNode.pathname\n\t      };\n\t    }\n\t\n\t    originURL = resolveURL(window.location.href);\n\t\n\t    /**\n\t    * Determine if a URL shares the same origin as the current location\n\t    *\n\t    * @param {String} requestURL The URL to test\n\t    * @returns {boolean} True if URL shares the same origin, otherwise false\n\t    */\n\t    return function isURLSameOrigin(requestURL) {\n\t      var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n\t      return (parsed.protocol === originURL.protocol &&\n\t            parsed.host === originURL.host);\n\t    };\n\t  })() :\n\t\n\t  // Non standard browser envs (web workers, react-native) lack needed support.\n\t  (function nonStandardBrowserEnv() {\n\t    return function isURLSameOrigin() {\n\t      return true;\n\t    };\n\t  })()\n\t);\n\n\n/***/ },\n/* 17 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar utils = __webpack_require__(1);\n\t\n\tmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n\t  utils.forEach(headers, function processHeader(value, name) {\n\t    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n\t      headers[normalizedName] = value;\n\t      delete headers[name];\n\t    }\n\t  });\n\t};\n\n\n/***/ },\n/* 18 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar utils = __webpack_require__(1);\n\t\n\t/**\n\t * Parse headers into an object\n\t *\n\t * ```\n\t * Date: Wed, 27 Aug 2014 08:58:49 GMT\n\t * Content-Type: application/json\n\t * Connection: keep-alive\n\t * Transfer-Encoding: chunked\n\t * ```\n\t *\n\t * @param {String} headers Headers needing to be parsed\n\t * @returns {Object} Headers parsed into an object\n\t */\n\tmodule.exports = function parseHeaders(headers) {\n\t  var parsed = {};\n\t  var key;\n\t  var val;\n\t  var i;\n\t\n\t  if (!headers) { return parsed; }\n\t\n\t  utils.forEach(headers.split('\\n'), function parser(line) {\n\t    i = line.indexOf(':');\n\t    key = utils.trim(line.substr(0, i)).toLowerCase();\n\t    val = utils.trim(line.substr(i + 1));\n\t\n\t    if (key) {\n\t      parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n\t    }\n\t  });\n\t\n\t  return parsed;\n\t};\n\n\n/***/ },\n/* 19 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t/**\n\t * Resolve or reject a Promise based on response status.\n\t *\n\t * @param {Function} resolve A function that resolves the promise.\n\t * @param {Function} reject A function that rejects the promise.\n\t * @param {object} response The response.\n\t */\n\tmodule.exports = function settle(resolve, reject, response) {\n\t  var validateStatus = response.config.validateStatus;\n\t  // Note: status is not exposed by XDomainRequest\n\t  if (!response.status || !validateStatus || validateStatus(response.status)) {\n\t    resolve(response);\n\t  } else {\n\t    reject(response);\n\t  }\n\t};\n\n\n/***/ },\n/* 20 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t/**\n\t * Syntactic sugar for invoking a function and expanding an array for arguments.\n\t *\n\t * Common use case would be to use `Function.prototype.apply`.\n\t *\n\t *  ```js\n\t *  function f(x, y, z) {}\n\t *  var args = [1, 2, 3];\n\t *  f.apply(null, args);\n\t *  ```\n\t *\n\t * With `spread` this example can be re-written.\n\t *\n\t *  ```js\n\t *  spread(function(x, y, z) {})([1, 2, 3]);\n\t *  ```\n\t *\n\t * @param {Function} callback\n\t * @returns {Function}\n\t */\n\tmodule.exports = function spread(callback) {\n\t  return function wrap(arr) {\n\t    return callback.apply(null, arr);\n\t  };\n\t};\n\n\n/***/ },\n/* 21 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar require;var __WEBPACK_AMD_DEFINE_RESULT__;/* WEBPACK VAR INJECTION */(function(process, global, module) {/*!\n\t * @overview es6-promise - a tiny implementation of Promises/A+.\n\t * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)\n\t * @license   Licensed under MIT license\n\t *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE\n\t * @version   3.2.1\n\t */\n\t\n\t(function() {\n\t    \"use strict\";\n\t    function lib$es6$promise$utils$$objectOrFunction(x) {\n\t      return typeof x === 'function' || (typeof x === 'object' && x !== null);\n\t    }\n\t\n\t    function lib$es6$promise$utils$$isFunction(x) {\n\t      return typeof x === 'function';\n\t    }\n\t\n\t    function lib$es6$promise$utils$$isMaybeThenable(x) {\n\t      return typeof x === 'object' && x !== null;\n\t    }\n\t\n\t    var lib$es6$promise$utils$$_isArray;\n\t    if (!Array.isArray) {\n\t      lib$es6$promise$utils$$_isArray = function (x) {\n\t        return Object.prototype.toString.call(x) === '[object Array]';\n\t      };\n\t    } else {\n\t      lib$es6$promise$utils$$_isArray = Array.isArray;\n\t    }\n\t\n\t    var lib$es6$promise$utils$$isArray = lib$es6$promise$utils$$_isArray;\n\t    var lib$es6$promise$asap$$len = 0;\n\t    var lib$es6$promise$asap$$vertxNext;\n\t    var lib$es6$promise$asap$$customSchedulerFn;\n\t\n\t    var lib$es6$promise$asap$$asap = function asap(callback, arg) {\n\t      lib$es6$promise$asap$$queue[lib$es6$promise$asap$$len] = callback;\n\t      lib$es6$promise$asap$$queue[lib$es6$promise$asap$$len + 1] = arg;\n\t      lib$es6$promise$asap$$len += 2;\n\t      if (lib$es6$promise$asap$$len === 2) {\n\t        // If len is 2, that means that we need to schedule an async flush.\n\t        // If additional callbacks are queued before the queue is flushed, they\n\t        // will be processed by this flush that we are scheduling.\n\t        if (lib$es6$promise$asap$$customSchedulerFn) {\n\t          lib$es6$promise$asap$$customSchedulerFn(lib$es6$promise$asap$$flush);\n\t        } else {\n\t          lib$es6$promise$asap$$scheduleFlush();\n\t        }\n\t      }\n\t    }\n\t\n\t    function lib$es6$promise$asap$$setScheduler(scheduleFn) {\n\t      lib$es6$promise$asap$$customSchedulerFn = scheduleFn;\n\t    }\n\t\n\t    function lib$es6$promise$asap$$setAsap(asapFn) {\n\t      lib$es6$promise$asap$$asap = asapFn;\n\t    }\n\t\n\t    var lib$es6$promise$asap$$browserWindow = (typeof window !== 'undefined') ? window : undefined;\n\t    var lib$es6$promise$asap$$browserGlobal = lib$es6$promise$asap$$browserWindow || {};\n\t    var lib$es6$promise$asap$$BrowserMutationObserver = lib$es6$promise$asap$$browserGlobal.MutationObserver || lib$es6$promise$asap$$browserGlobal.WebKitMutationObserver;\n\t    var lib$es6$promise$asap$$isNode = typeof self === 'undefined' && typeof process !== 'undefined' && {}.toString.call(process) === '[object process]';\n\t\n\t    // test for web worker but not in IE10\n\t    var lib$es6$promise$asap$$isWorker = typeof Uint8ClampedArray !== 'undefined' &&\n\t      typeof importScripts !== 'undefined' &&\n\t      typeof MessageChannel !== 'undefined';\n\t\n\t    // node\n\t    function lib$es6$promise$asap$$useNextTick() {\n\t      // node version 0.10.x displays a deprecation warning when nextTick is used recursively\n\t      // see https://github.com/cujojs/when/issues/410 for details\n\t      return function() {\n\t        process.nextTick(lib$es6$promise$asap$$flush);\n\t      };\n\t    }\n\t\n\t    // vertx\n\t    function lib$es6$promise$asap$$useVertxTimer() {\n\t      return function() {\n\t        lib$es6$promise$asap$$vertxNext(lib$es6$promise$asap$$flush);\n\t      };\n\t    }\n\t\n\t    function lib$es6$promise$asap$$useMutationObserver() {\n\t      var iterations = 0;\n\t      var observer = new lib$es6$promise$asap$$BrowserMutationObserver(lib$es6$promise$asap$$flush);\n\t      var node = document.createTextNode('');\n\t      observer.observe(node, { characterData: true });\n\t\n\t      return function() {\n\t        node.data = (iterations = ++iterations % 2);\n\t      };\n\t    }\n\t\n\t    // web worker\n\t    function lib$es6$promise$asap$$useMessageChannel() {\n\t      var channel = new MessageChannel();\n\t      channel.port1.onmessage = lib$es6$promise$asap$$flush;\n\t      return function () {\n\t        channel.port2.postMessage(0);\n\t      };\n\t    }\n\t\n\t    function lib$es6$promise$asap$$useSetTimeout() {\n\t      return function() {\n\t        setTimeout(lib$es6$promise$asap$$flush, 1);\n\t      };\n\t    }\n\t\n\t    var lib$es6$promise$asap$$queue = new Array(1000);\n\t    function lib$es6$promise$asap$$flush() {\n\t      for (var i = 0; i < lib$es6$promise$asap$$len; i+=2) {\n\t        var callback = lib$es6$promise$asap$$queue[i];\n\t        var arg = lib$es6$promise$asap$$queue[i+1];\n\t\n\t        callback(arg);\n\t\n\t        lib$es6$promise$asap$$queue[i] = undefined;\n\t        lib$es6$promise$asap$$queue[i+1] = undefined;\n\t      }\n\t\n\t      lib$es6$promise$asap$$len = 0;\n\t    }\n\t\n\t    function lib$es6$promise$asap$$attemptVertx() {\n\t      try {\n\t        var r = require;\n\t        var vertx = __webpack_require__(27);\n\t        lib$es6$promise$asap$$vertxNext = vertx.runOnLoop || vertx.runOnContext;\n\t        return lib$es6$promise$asap$$useVertxTimer();\n\t      } catch(e) {\n\t        return lib$es6$promise$asap$$useSetTimeout();\n\t      }\n\t    }\n\t\n\t    var lib$es6$promise$asap$$scheduleFlush;\n\t    // Decide what async method to use to triggering processing of queued callbacks:\n\t    if (lib$es6$promise$asap$$isNode) {\n\t      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useNextTick();\n\t    } else if (lib$es6$promise$asap$$BrowserMutationObserver) {\n\t      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useMutationObserver();\n\t    } else if (lib$es6$promise$asap$$isWorker) {\n\t      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useMessageChannel();\n\t    } else if (lib$es6$promise$asap$$browserWindow === undefined && \"function\" === 'function') {\n\t      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$attemptVertx();\n\t    } else {\n\t      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useSetTimeout();\n\t    }\n\t    function lib$es6$promise$then$$then(onFulfillment, onRejection) {\n\t      var parent = this;\n\t\n\t      var child = new this.constructor(lib$es6$promise$$internal$$noop);\n\t\n\t      if (child[lib$es6$promise$$internal$$PROMISE_ID] === undefined) {\n\t        lib$es6$promise$$internal$$makePromise(child);\n\t      }\n\t\n\t      var state = parent._state;\n\t\n\t      if (state) {\n\t        var callback = arguments[state - 1];\n\t        lib$es6$promise$asap$$asap(function(){\n\t          lib$es6$promise$$internal$$invokeCallback(state, child, callback, parent._result);\n\t        });\n\t      } else {\n\t        lib$es6$promise$$internal$$subscribe(parent, child, onFulfillment, onRejection);\n\t      }\n\t\n\t      return child;\n\t    }\n\t    var lib$es6$promise$then$$default = lib$es6$promise$then$$then;\n\t    function lib$es6$promise$promise$resolve$$resolve(object) {\n\t      /*jshint validthis:true */\n\t      var Constructor = this;\n\t\n\t      if (object && typeof object === 'object' && object.constructor === Constructor) {\n\t        return object;\n\t      }\n\t\n\t      var promise = new Constructor(lib$es6$promise$$internal$$noop);\n\t      lib$es6$promise$$internal$$resolve(promise, object);\n\t      return promise;\n\t    }\n\t    var lib$es6$promise$promise$resolve$$default = lib$es6$promise$promise$resolve$$resolve;\n\t    var lib$es6$promise$$internal$$PROMISE_ID = Math.random().toString(36).substring(16);\n\t\n\t    function lib$es6$promise$$internal$$noop() {}\n\t\n\t    var lib$es6$promise$$internal$$PENDING   = void 0;\n\t    var lib$es6$promise$$internal$$FULFILLED = 1;\n\t    var lib$es6$promise$$internal$$REJECTED  = 2;\n\t\n\t    var lib$es6$promise$$internal$$GET_THEN_ERROR = new lib$es6$promise$$internal$$ErrorObject();\n\t\n\t    function lib$es6$promise$$internal$$selfFulfillment() {\n\t      return new TypeError(\"You cannot resolve a promise with itself\");\n\t    }\n\t\n\t    function lib$es6$promise$$internal$$cannotReturnOwn() {\n\t      return new TypeError('A promises callback cannot return that same promise.');\n\t    }\n\t\n\t    function lib$es6$promise$$internal$$getThen(promise) {\n\t      try {\n\t        return promise.then;\n\t      } catch(error) {\n\t        lib$es6$promise$$internal$$GET_THEN_ERROR.error = error;\n\t        return lib$es6$promise$$internal$$GET_THEN_ERROR;\n\t      }\n\t    }\n\t\n\t    function lib$es6$promise$$internal$$tryThen(then, value, fulfillmentHandler, rejectionHandler) {\n\t      try {\n\t        then.call(value, fulfillmentHandler, rejectionHandler);\n\t      } catch(e) {\n\t        return e;\n\t      }\n\t    }\n\t\n\t    function lib$es6$promise$$internal$$handleForeignThenable(promise, thenable, then) {\n\t       lib$es6$promise$asap$$asap(function(promise) {\n\t        var sealed = false;\n\t        var error = lib$es6$promise$$internal$$tryThen(then, thenable, function(value) {\n\t          if (sealed) { return; }\n\t          sealed = true;\n\t          if (thenable !== value) {\n\t            lib$es6$promise$$internal$$resolve(promise, value);\n\t          } else {\n\t            lib$es6$promise$$internal$$fulfill(promise, value);\n\t          }\n\t        }, function(reason) {\n\t          if (sealed) { return; }\n\t          sealed = true;\n\t\n\t          lib$es6$promise$$internal$$reject(promise, reason);\n\t        }, 'Settle: ' + (promise._label || ' unknown promise'));\n\t\n\t        if (!sealed && error) {\n\t          sealed = true;\n\t          lib$es6$promise$$internal$$reject(promise, error);\n\t        }\n\t      }, promise);\n\t    }\n\t\n\t    function lib$es6$promise$$internal$$handleOwnThenable(promise, thenable) {\n\t      if (thenable._state === lib$es6$promise$$internal$$FULFILLED) {\n\t        lib$es6$promise$$internal$$fulfill(promise, thenable._result);\n\t      } else if (thenable._state === lib$es6$promise$$internal$$REJECTED) {\n\t        lib$es6$promise$$internal$$reject(promise, thenable._result);\n\t      } else {\n\t        lib$es6$promise$$internal$$subscribe(thenable, undefined, function(value) {\n\t          lib$es6$promise$$internal$$resolve(promise, value);\n\t        }, function(reason) {\n\t          lib$es6$promise$$internal$$reject(promise, reason);\n\t        });\n\t      }\n\t    }\n\t\n\t    function lib$es6$promise$$internal$$handleMaybeThenable(promise, maybeThenable, then) {\n\t      if (maybeThenable.constructor === promise.constructor &&\n\t          then === lib$es6$promise$then$$default &&\n\t          constructor.resolve === lib$es6$promise$promise$resolve$$default) {\n\t        lib$es6$promise$$internal$$handleOwnThenable(promise, maybeThenable);\n\t      } else {\n\t        if (then === lib$es6$promise$$internal$$GET_THEN_ERROR) {\n\t          lib$es6$promise$$internal$$reject(promise, lib$es6$promise$$internal$$GET_THEN_ERROR.error);\n\t        } else if (then === undefined) {\n\t          lib$es6$promise$$internal$$fulfill(promise, maybeThenable);\n\t        } else if (lib$es6$promise$utils$$isFunction(then)) {\n\t          lib$es6$promise$$internal$$handleForeignThenable(promise, maybeThenable, then);\n\t        } else {\n\t          lib$es6$promise$$internal$$fulfill(promise, maybeThenable);\n\t        }\n\t      }\n\t    }\n\t\n\t    function lib$es6$promise$$internal$$resolve(promise, value) {\n\t      if (promise === value) {\n\t        lib$es6$promise$$internal$$reject(promise, lib$es6$promise$$internal$$selfFulfillment());\n\t      } else if (lib$es6$promise$utils$$objectOrFunction(value)) {\n\t        lib$es6$promise$$internal$$handleMaybeThenable(promise, value, lib$es6$promise$$internal$$getThen(value));\n\t      } else {\n\t        lib$es6$promise$$internal$$fulfill(promise, value);\n\t      }\n\t    }\n\t\n\t    function lib$es6$promise$$internal$$publishRejection(promise) {\n\t      if (promise._onerror) {\n\t        promise._onerror(promise._result);\n\t      }\n\t\n\t      lib$es6$promise$$internal$$publish(promise);\n\t    }\n\t\n\t    function lib$es6$promise$$internal$$fulfill(promise, value) {\n\t      if (promise._state !== lib$es6$promise$$internal$$PENDING) { return; }\n\t\n\t      promise._result = value;\n\t      promise._state = lib$es6$promise$$internal$$FULFILLED;\n\t\n\t      if (promise._subscribers.length !== 0) {\n\t        lib$es6$promise$asap$$asap(lib$es6$promise$$internal$$publish, promise);\n\t      }\n\t    }\n\t\n\t    function lib$es6$promise$$internal$$reject(promise, reason) {\n\t      if (promise._state !== lib$es6$promise$$internal$$PENDING) { return; }\n\t      promise._state = lib$es6$promise$$internal$$REJECTED;\n\t      promise._result = reason;\n\t\n\t      lib$es6$promise$asap$$asap(lib$es6$promise$$internal$$publishRejection, promise);\n\t    }\n\t\n\t    function lib$es6$promise$$internal$$subscribe(parent, child, onFulfillment, onRejection) {\n\t      var subscribers = parent._subscribers;\n\t      var length = subscribers.length;\n\t\n\t      parent._onerror = null;\n\t\n\t      subscribers[length] = child;\n\t      subscribers[length + lib$es6$promise$$internal$$FULFILLED] = onFulfillment;\n\t      subscribers[length + lib$es6$promise$$internal$$REJECTED]  = onRejection;\n\t\n\t      if (length === 0 && parent._state) {\n\t        lib$es6$promise$asap$$asap(lib$es6$promise$$internal$$publish, parent);\n\t      }\n\t    }\n\t\n\t    function lib$es6$promise$$internal$$publish(promise) {\n\t      var subscribers = promise._subscribers;\n\t      var settled = promise._state;\n\t\n\t      if (subscribers.length === 0) { return; }\n\t\n\t      var child, callback, detail = promise._result;\n\t\n\t      for (var i = 0; i < subscribers.length; i += 3) {\n\t        child = subscribers[i];\n\t        callback = subscribers[i + settled];\n\t\n\t        if (child) {\n\t          lib$es6$promise$$internal$$invokeCallback(settled, child, callback, detail);\n\t        } else {\n\t          callback(detail);\n\t        }\n\t      }\n\t\n\t      promise._subscribers.length = 0;\n\t    }\n\t\n\t    function lib$es6$promise$$internal$$ErrorObject() {\n\t      this.error = null;\n\t    }\n\t\n\t    var lib$es6$promise$$internal$$TRY_CATCH_ERROR = new lib$es6$promise$$internal$$ErrorObject();\n\t\n\t    function lib$es6$promise$$internal$$tryCatch(callback, detail) {\n\t      try {\n\t        return callback(detail);\n\t      } catch(e) {\n\t        lib$es6$promise$$internal$$TRY_CATCH_ERROR.error = e;\n\t        return lib$es6$promise$$internal$$TRY_CATCH_ERROR;\n\t      }\n\t    }\n\t\n\t    function lib$es6$promise$$internal$$invokeCallback(settled, promise, callback, detail) {\n\t      var hasCallback = lib$es6$promise$utils$$isFunction(callback),\n\t          value, error, succeeded, failed;\n\t\n\t      if (hasCallback) {\n\t        value = lib$es6$promise$$internal$$tryCatch(callback, detail);\n\t\n\t        if (value === lib$es6$promise$$internal$$TRY_CATCH_ERROR) {\n\t          failed = true;\n\t          error = value.error;\n\t          value = null;\n\t        } else {\n\t          succeeded = true;\n\t        }\n\t\n\t        if (promise === value) {\n\t          lib$es6$promise$$internal$$reject(promise, lib$es6$promise$$internal$$cannotReturnOwn());\n\t          return;\n\t        }\n\t\n\t      } else {\n\t        value = detail;\n\t        succeeded = true;\n\t      }\n\t\n\t      if (promise._state !== lib$es6$promise$$internal$$PENDING) {\n\t        // noop\n\t      } else if (hasCallback && succeeded) {\n\t        lib$es6$promise$$internal$$resolve(promise, value);\n\t      } else if (failed) {\n\t        lib$es6$promise$$internal$$reject(promise, error);\n\t      } else if (settled === lib$es6$promise$$internal$$FULFILLED) {\n\t        lib$es6$promise$$internal$$fulfill(promise, value);\n\t      } else if (settled === lib$es6$promise$$internal$$REJECTED) {\n\t        lib$es6$promise$$internal$$reject(promise, value);\n\t      }\n\t    }\n\t\n\t    function lib$es6$promise$$internal$$initializePromise(promise, resolver) {\n\t      try {\n\t        resolver(function resolvePromise(value){\n\t          lib$es6$promise$$internal$$resolve(promise, value);\n\t        }, function rejectPromise(reason) {\n\t          lib$es6$promise$$internal$$reject(promise, reason);\n\t        });\n\t      } catch(e) {\n\t        lib$es6$promise$$internal$$reject(promise, e);\n\t      }\n\t    }\n\t\n\t    var lib$es6$promise$$internal$$id = 0;\n\t    function lib$es6$promise$$internal$$nextId() {\n\t      return lib$es6$promise$$internal$$id++;\n\t    }\n\t\n\t    function lib$es6$promise$$internal$$makePromise(promise) {\n\t      promise[lib$es6$promise$$internal$$PROMISE_ID] = lib$es6$promise$$internal$$id++;\n\t      promise._state = undefined;\n\t      promise._result = undefined;\n\t      promise._subscribers = [];\n\t    }\n\t\n\t    function lib$es6$promise$promise$all$$all(entries) {\n\t      return new lib$es6$promise$enumerator$$default(this, entries).promise;\n\t    }\n\t    var lib$es6$promise$promise$all$$default = lib$es6$promise$promise$all$$all;\n\t    function lib$es6$promise$promise$race$$race(entries) {\n\t      /*jshint validthis:true */\n\t      var Constructor = this;\n\t\n\t      if (!lib$es6$promise$utils$$isArray(entries)) {\n\t        return new Constructor(function(resolve, reject) {\n\t          reject(new TypeError('You must pass an array to race.'));\n\t        });\n\t      } else {\n\t        return new Constructor(function(resolve, reject) {\n\t          var length = entries.length;\n\t          for (var i = 0; i < length; i++) {\n\t            Constructor.resolve(entries[i]).then(resolve, reject);\n\t          }\n\t        });\n\t      }\n\t    }\n\t    var lib$es6$promise$promise$race$$default = lib$es6$promise$promise$race$$race;\n\t    function lib$es6$promise$promise$reject$$reject(reason) {\n\t      /*jshint validthis:true */\n\t      var Constructor = this;\n\t      var promise = new Constructor(lib$es6$promise$$internal$$noop);\n\t      lib$es6$promise$$internal$$reject(promise, reason);\n\t      return promise;\n\t    }\n\t    var lib$es6$promise$promise$reject$$default = lib$es6$promise$promise$reject$$reject;\n\t\n\t\n\t    function lib$es6$promise$promise$$needsResolver() {\n\t      throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');\n\t    }\n\t\n\t    function lib$es6$promise$promise$$needsNew() {\n\t      throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\");\n\t    }\n\t\n\t    var lib$es6$promise$promise$$default = lib$es6$promise$promise$$Promise;\n\t    /**\n\t      Promise objects represent the eventual result of an asynchronous operation. The\n\t      primary way of interacting with a promise is through its `then` method, which\n\t      registers callbacks to receive either a promise's eventual value or the reason\n\t      why the promise cannot be fulfilled.\n\t\n\t      Terminology\n\t      -----------\n\t\n\t      - `promise` is an object or function with a `then` method whose behavior conforms to this specification.\n\t      - `thenable` is an object or function that defines a `then` method.\n\t      - `value` is any legal JavaScript value (including undefined, a thenable, or a promise).\n\t      - `exception` is a value that is thrown using the throw statement.\n\t      - `reason` is a value that indicates why a promise was rejected.\n\t      - `settled` the final resting state of a promise, fulfilled or rejected.\n\t\n\t      A promise can be in one of three states: pending, fulfilled, or rejected.\n\t\n\t      Promises that are fulfilled have a fulfillment value and are in the fulfilled\n\t      state.  Promises that are rejected have a rejection reason and are in the\n\t      rejected state.  A fulfillment value is never a thenable.\n\t\n\t      Promises can also be said to *resolve* a value.  If this value is also a\n\t      promise, then the original promise's settled state will match the value's\n\t      settled state.  So a promise that *resolves* a promise that rejects will\n\t      itself reject, and a promise that *resolves* a promise that fulfills will\n\t      itself fulfill.\n\t\n\t\n\t      Basic Usage:\n\t      ------------\n\t\n\t      ```js\n\t      var promise = new Promise(function(resolve, reject) {\n\t        // on success\n\t        resolve(value);\n\t\n\t        // on failure\n\t        reject(reason);\n\t      });\n\t\n\t      promise.then(function(value) {\n\t        // on fulfillment\n\t      }, function(reason) {\n\t        // on rejection\n\t      });\n\t      ```\n\t\n\t      Advanced Usage:\n\t      ---------------\n\t\n\t      Promises shine when abstracting away asynchronous interactions such as\n\t      `XMLHttpRequest`s.\n\t\n\t      ```js\n\t      function getJSON(url) {\n\t        return new Promise(function(resolve, reject){\n\t          var xhr = new XMLHttpRequest();\n\t\n\t          xhr.open('GET', url);\n\t          xhr.onreadystatechange = handler;\n\t          xhr.responseType = 'json';\n\t          xhr.setRequestHeader('Accept', 'application/json');\n\t          xhr.send();\n\t\n\t          function handler() {\n\t            if (this.readyState === this.DONE) {\n\t              if (this.status === 200) {\n\t                resolve(this.response);\n\t              } else {\n\t                reject(new Error('getJSON: `' + url + '` failed with status: [' + this.status + ']'));\n\t              }\n\t            }\n\t          };\n\t        });\n\t      }\n\t\n\t      getJSON('/posts.json').then(function(json) {\n\t        // on fulfillment\n\t      }, function(reason) {\n\t        // on rejection\n\t      });\n\t      ```\n\t\n\t      Unlike callbacks, promises are great composable primitives.\n\t\n\t      ```js\n\t      Promise.all([\n\t        getJSON('/posts'),\n\t        getJSON('/comments')\n\t      ]).then(function(values){\n\t        values[0] // => postsJSON\n\t        values[1] // => commentsJSON\n\t\n\t        return values;\n\t      });\n\t      ```\n\t\n\t      @class Promise\n\t      @param {function} resolver\n\t      Useful for tooling.\n\t      @constructor\n\t    */\n\t    function lib$es6$promise$promise$$Promise(resolver) {\n\t      this[lib$es6$promise$$internal$$PROMISE_ID] = lib$es6$promise$$internal$$nextId();\n\t      this._result = this._state = undefined;\n\t      this._subscribers = [];\n\t\n\t      if (lib$es6$promise$$internal$$noop !== resolver) {\n\t        typeof resolver !== 'function' && lib$es6$promise$promise$$needsResolver();\n\t        this instanceof lib$es6$promise$promise$$Promise ? lib$es6$promise$$internal$$initializePromise(this, resolver) : lib$es6$promise$promise$$needsNew();\n\t      }\n\t    }\n\t\n\t    lib$es6$promise$promise$$Promise.all = lib$es6$promise$promise$all$$default;\n\t    lib$es6$promise$promise$$Promise.race = lib$es6$promise$promise$race$$default;\n\t    lib$es6$promise$promise$$Promise.resolve = lib$es6$promise$promise$resolve$$default;\n\t    lib$es6$promise$promise$$Promise.reject = lib$es6$promise$promise$reject$$default;\n\t    lib$es6$promise$promise$$Promise._setScheduler = lib$es6$promise$asap$$setScheduler;\n\t    lib$es6$promise$promise$$Promise._setAsap = lib$es6$promise$asap$$setAsap;\n\t    lib$es6$promise$promise$$Promise._asap = lib$es6$promise$asap$$asap;\n\t\n\t    lib$es6$promise$promise$$Promise.prototype = {\n\t      constructor: lib$es6$promise$promise$$Promise,\n\t\n\t    /**\n\t      The primary way of interacting with a promise is through its `then` method,\n\t      which registers callbacks to receive either a promise's eventual value or the\n\t      reason why the promise cannot be fulfilled.\n\t\n\t      ```js\n\t      findUser().then(function(user){\n\t        // user is available\n\t      }, function(reason){\n\t        // user is unavailable, and you are given the reason why\n\t      });\n\t      ```\n\t\n\t      Chaining\n\t      --------\n\t\n\t      The return value of `then` is itself a promise.  This second, 'downstream'\n\t      promise is resolved with the return value of the first promise's fulfillment\n\t      or rejection handler, or rejected if the handler throws an exception.\n\t\n\t      ```js\n\t      findUser().then(function (user) {\n\t        return user.name;\n\t      }, function (reason) {\n\t        return 'default name';\n\t      }).then(function (userName) {\n\t        // If `findUser` fulfilled, `userName` will be the user's name, otherwise it\n\t        // will be `'default name'`\n\t      });\n\t\n\t      findUser().then(function (user) {\n\t        throw new Error('Found user, but still unhappy');\n\t      }, function (reason) {\n\t        throw new Error('`findUser` rejected and we're unhappy');\n\t      }).then(function (value) {\n\t        // never reached\n\t      }, function (reason) {\n\t        // if `findUser` fulfilled, `reason` will be 'Found user, but still unhappy'.\n\t        // If `findUser` rejected, `reason` will be '`findUser` rejected and we're unhappy'.\n\t      });\n\t      ```\n\t      If the downstream promise does not specify a rejection handler, rejection reasons will be propagated further downstream.\n\t\n\t      ```js\n\t      findUser().then(function (user) {\n\t        throw new PedagogicalException('Upstream error');\n\t      }).then(function (value) {\n\t        // never reached\n\t      }).then(function (value) {\n\t        // never reached\n\t      }, function (reason) {\n\t        // The `PedgagocialException` is propagated all the way down to here\n\t      });\n\t      ```\n\t\n\t      Assimilation\n\t      ------------\n\t\n\t      Sometimes the value you want to propagate to a downstream promise can only be\n\t      retrieved asynchronously. This can be achieved by returning a promise in the\n\t      fulfillment or rejection handler. The downstream promise will then be pending\n\t      until the returned promise is settled. This is called *assimilation*.\n\t\n\t      ```js\n\t      findUser().then(function (user) {\n\t        return findCommentsByAuthor(user);\n\t      }).then(function (comments) {\n\t        // The user's comments are now available\n\t      });\n\t      ```\n\t\n\t      If the assimliated promise rejects, then the downstream promise will also reject.\n\t\n\t      ```js\n\t      findUser().then(function (user) {\n\t        return findCommentsByAuthor(user);\n\t      }).then(function (comments) {\n\t        // If `findCommentsByAuthor` fulfills, we'll have the value here\n\t      }, function (reason) {\n\t        // If `findCommentsByAuthor` rejects, we'll have the reason here\n\t      });\n\t      ```\n\t\n\t      Simple Example\n\t      --------------\n\t\n\t      Synchronous Example\n\t\n\t      ```javascript\n\t      var result;\n\t\n\t      try {\n\t        result = findResult();\n\t        // success\n\t      } catch(reason) {\n\t        // failure\n\t      }\n\t      ```\n\t\n\t      Errback Example\n\t\n\t      ```js\n\t      findResult(function(result, err){\n\t        if (err) {\n\t          // failure\n\t        } else {\n\t          // success\n\t        }\n\t      });\n\t      ```\n\t\n\t      Promise Example;\n\t\n\t      ```javascript\n\t      findResult().then(function(result){\n\t        // success\n\t      }, function(reason){\n\t        // failure\n\t      });\n\t      ```\n\t\n\t      Advanced Example\n\t      --------------\n\t\n\t      Synchronous Example\n\t\n\t      ```javascript\n\t      var author, books;\n\t\n\t      try {\n\t        author = findAuthor();\n\t        books  = findBooksByAuthor(author);\n\t        // success\n\t      } catch(reason) {\n\t        // failure\n\t      }\n\t      ```\n\t\n\t      Errback Example\n\t\n\t      ```js\n\t\n\t      function foundBooks(books) {\n\t\n\t      }\n\t\n\t      function failure(reason) {\n\t\n\t      }\n\t\n\t      findAuthor(function(author, err){\n\t        if (err) {\n\t          failure(err);\n\t          // failure\n\t        } else {\n\t          try {\n\t            findBoooksByAuthor(author, function(books, err) {\n\t              if (err) {\n\t                failure(err);\n\t              } else {\n\t                try {\n\t                  foundBooks(books);\n\t                } catch(reason) {\n\t                  failure(reason);\n\t                }\n\t              }\n\t            });\n\t          } catch(error) {\n\t            failure(err);\n\t          }\n\t          // success\n\t        }\n\t      });\n\t      ```\n\t\n\t      Promise Example;\n\t\n\t      ```javascript\n\t      findAuthor().\n\t        then(findBooksByAuthor).\n\t        then(function(books){\n\t          // found books\n\t      }).catch(function(reason){\n\t        // something went wrong\n\t      });\n\t      ```\n\t\n\t      @method then\n\t      @param {Function} onFulfilled\n\t      @param {Function} onRejected\n\t      Useful for tooling.\n\t      @return {Promise}\n\t    */\n\t      then: lib$es6$promise$then$$default,\n\t\n\t    /**\n\t      `catch` is simply sugar for `then(undefined, onRejection)` which makes it the same\n\t      as the catch block of a try/catch statement.\n\t\n\t      ```js\n\t      function findAuthor(){\n\t        throw new Error('couldn't find that author');\n\t      }\n\t\n\t      // synchronous\n\t      try {\n\t        findAuthor();\n\t      } catch(reason) {\n\t        // something went wrong\n\t      }\n\t\n\t      // async with promises\n\t      findAuthor().catch(function(reason){\n\t        // something went wrong\n\t      });\n\t      ```\n\t\n\t      @method catch\n\t      @param {Function} onRejection\n\t      Useful for tooling.\n\t      @return {Promise}\n\t    */\n\t      'catch': function(onRejection) {\n\t        return this.then(null, onRejection);\n\t      }\n\t    };\n\t    var lib$es6$promise$enumerator$$default = lib$es6$promise$enumerator$$Enumerator;\n\t    function lib$es6$promise$enumerator$$Enumerator(Constructor, input) {\n\t      this._instanceConstructor = Constructor;\n\t      this.promise = new Constructor(lib$es6$promise$$internal$$noop);\n\t\n\t      if (!this.promise[lib$es6$promise$$internal$$PROMISE_ID]) {\n\t        lib$es6$promise$$internal$$makePromise(this.promise);\n\t      }\n\t\n\t      if (lib$es6$promise$utils$$isArray(input)) {\n\t        this._input     = input;\n\t        this.length     = input.length;\n\t        this._remaining = input.length;\n\t\n\t        this._result = new Array(this.length);\n\t\n\t        if (this.length === 0) {\n\t          lib$es6$promise$$internal$$fulfill(this.promise, this._result);\n\t        } else {\n\t          this.length = this.length || 0;\n\t          this._enumerate();\n\t          if (this._remaining === 0) {\n\t            lib$es6$promise$$internal$$fulfill(this.promise, this._result);\n\t          }\n\t        }\n\t      } else {\n\t        lib$es6$promise$$internal$$reject(this.promise, lib$es6$promise$enumerator$$validationError());\n\t      }\n\t    }\n\t\n\t    function lib$es6$promise$enumerator$$validationError() {\n\t      return new Error('Array Methods must be provided an Array');\n\t    }\n\t\n\t    lib$es6$promise$enumerator$$Enumerator.prototype._enumerate = function() {\n\t      var length  = this.length;\n\t      var input   = this._input;\n\t\n\t      for (var i = 0; this._state === lib$es6$promise$$internal$$PENDING && i < length; i++) {\n\t        this._eachEntry(input[i], i);\n\t      }\n\t    };\n\t\n\t    lib$es6$promise$enumerator$$Enumerator.prototype._eachEntry = function(entry, i) {\n\t      var c = this._instanceConstructor;\n\t      var resolve = c.resolve;\n\t\n\t      if (resolve === lib$es6$promise$promise$resolve$$default) {\n\t        var then = lib$es6$promise$$internal$$getThen(entry);\n\t\n\t        if (then === lib$es6$promise$then$$default &&\n\t            entry._state !== lib$es6$promise$$internal$$PENDING) {\n\t          this._settledAt(entry._state, i, entry._result);\n\t        } else if (typeof then !== 'function') {\n\t          this._remaining--;\n\t          this._result[i] = entry;\n\t        } else if (c === lib$es6$promise$promise$$default) {\n\t          var promise = new c(lib$es6$promise$$internal$$noop);\n\t          lib$es6$promise$$internal$$handleMaybeThenable(promise, entry, then);\n\t          this._willSettleAt(promise, i);\n\t        } else {\n\t          this._willSettleAt(new c(function(resolve) { resolve(entry); }), i);\n\t        }\n\t      } else {\n\t        this._willSettleAt(resolve(entry), i);\n\t      }\n\t    };\n\t\n\t    lib$es6$promise$enumerator$$Enumerator.prototype._settledAt = function(state, i, value) {\n\t      var promise = this.promise;\n\t\n\t      if (promise._state === lib$es6$promise$$internal$$PENDING) {\n\t        this._remaining--;\n\t\n\t        if (state === lib$es6$promise$$internal$$REJECTED) {\n\t          lib$es6$promise$$internal$$reject(promise, value);\n\t        } else {\n\t          this._result[i] = value;\n\t        }\n\t      }\n\t\n\t      if (this._remaining === 0) {\n\t        lib$es6$promise$$internal$$fulfill(promise, this._result);\n\t      }\n\t    };\n\t\n\t    lib$es6$promise$enumerator$$Enumerator.prototype._willSettleAt = function(promise, i) {\n\t      var enumerator = this;\n\t\n\t      lib$es6$promise$$internal$$subscribe(promise, undefined, function(value) {\n\t        enumerator._settledAt(lib$es6$promise$$internal$$FULFILLED, i, value);\n\t      }, function(reason) {\n\t        enumerator._settledAt(lib$es6$promise$$internal$$REJECTED, i, reason);\n\t      });\n\t    };\n\t    function lib$es6$promise$polyfill$$polyfill() {\n\t      var local;\n\t\n\t      if (typeof global !== 'undefined') {\n\t          local = global;\n\t      } else if (typeof self !== 'undefined') {\n\t          local = self;\n\t      } else {\n\t          try {\n\t              local = Function('return this')();\n\t          } catch (e) {\n\t              throw new Error('polyfill failed because global object is unavailable in this environment');\n\t          }\n\t      }\n\t\n\t      var P = local.Promise;\n\t\n\t      if (P && Object.prototype.toString.call(P.resolve()) === '[object Promise]' && !P.cast) {\n\t        return;\n\t      }\n\t\n\t      local.Promise = lib$es6$promise$promise$$default;\n\t    }\n\t    var lib$es6$promise$polyfill$$default = lib$es6$promise$polyfill$$polyfill;\n\t\n\t    var lib$es6$promise$umd$$ES6Promise = {\n\t      'Promise': lib$es6$promise$promise$$default,\n\t      'polyfill': lib$es6$promise$polyfill$$default\n\t    };\n\t\n\t    /* global define:true module:true window: true */\n\t    if (\"function\" === 'function' && __webpack_require__(25)['amd']) {\n\t      !(__WEBPACK_AMD_DEFINE_RESULT__ = function() { return lib$es6$promise$umd$$ES6Promise; }.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    } else if (typeof module !== 'undefined' && module['exports']) {\n\t      module['exports'] = lib$es6$promise$umd$$ES6Promise;\n\t    } else if (typeof this !== 'undefined') {\n\t      this['ES6Promise'] = lib$es6$promise$umd$$ES6Promise;\n\t    }\n\t\n\t    lib$es6$promise$polyfill$$default();\n\t}).call(this);\n\t\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2), (function() { return this; }()), __webpack_require__(26)(module)))\n\n/***/ },\n/* 22 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t* (C) Copyright IBM Corp. 2016. All Rights Reserved.\n\t*\n\t* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not\n\t* use this file except in compliance with the License. You may obtain a copy of\n\t* the License at\n\t*\n\t* http://www.apache.org/licenses/LICENSE-2.0\n\t*\n\t* Unless required by applicable law or agreed to in writing, software\n\t* distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n\t* WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n\t* License for the specific language governing permissions and limitations under\n\t* the License.\n\t*/\n\t\n\tif ( typeof Promise === 'undefined' ) __webpack_require__(21).polyfill();\n\t\n\tvar assign = __webpack_require__(24);\n\tvar axios = __webpack_require__(5);\n\tvar storage = __webpack_require__(23);\n\t\n\tvar options = {\n\t\tbaseURL: 'https://dev.api.ibm.com/virtualagent/development/api/v1/',\n\t\ttimeout: 30 * 1000,\n\t\tuserID: null,\n\t\twithCredentials: false,\n\t\tXIBMClientID: false,\n\t\tXIBMClientSecret: false\n\t};\n\t\n\tvar api = axios.create( options );\n\t\n\tvar profileDataRe = /\\|&(.*?)\\|/g;\n\tvar insertUserProfileData = function(msg) {\n\t\tvar flatten = (typeof msg === 'string') ? msg : JSON.stringify(msg);\n\t\tvar matches = (flatten.match(profileDataRe) || []);\n\t\tflatten = matches.reduce(function(result, prof) {\n\t\t\tconst name = prof.slice( 2, -1 );\n\t\t\tconst value = storage.get(name) || name;\n\t\t\treturn result.replace( prof, value );\n\t\t}, flatten);\n\t\treturn (typeof msg === 'string') ? flatten : JSON.parse(flatten);\n\t};\n\t\n\t/**\n\t * @namespace SDK\n\t */\n\t\n\tvar SDK = module.exports = {\n\t\t/**\n\t\t * Configure the Client SDK\n\t\t * @function configure\n\t\t * @memberof SDK\n\t\t * @param {Object} config\n\t\t * @param {string} config.baseURL=https://dev.api.ibm.com/virtualagent/development/api/v1/ - Optional: The URL the SDK should prepend to requests.\n\t\t * @param {int} config.timeout=30000 - Optional: How long requests should wait before they error.\n\t\t * @param {string} config.userID - Optional: A user identifier, transformed by a one-way hashing algorithm. Used by your Metrics Dashboard to track usage.\n\t\t * @param {string} config.userLatLon - Optional: lat,lon or user ( eg. 28.3852,-81.5639 ). Used by your Metrics Dashboard to track usage.\n\t\t * @param {string} config.withCredentials - Optional: indicates whether or not cross-site Access-Control requests should be made using credentials\n\t\t * @param {string} config.XIBMClientID - Optional: Your X-IBM-Client-Id. This should not be made public in a public environment. Including this will add X-IBM-Client-Id as a header to your request.\n\t\t * @param {string} config.XIBMClientSecret - Optional: Your X-IBM-Client-Secret. This should not be made public in a public environment. Including this will add X-IBM-Client-Secret as a header to your request.\n\t\t * @example\n\t\t * SDK.configure({\n\t\t *   baseURL: 'https://server.mysite.com',\n\t\t *   userID: 'poiuytrewq',\n\t\t *   userLatLon: '28.3852,-81.5639'\n\t\t * });\n\t\t * @returns {SDK} Returns: The SDK singleton\n\t\t */\n\t\tconfigure: function( config ) {\n\t\t\tassign( options, config );\n\t\t\tapi = axios.create({\n\t\t\t\tbaseURL: options.baseURL,\n\t\t\t\ttimeout: options.timeout,\n\t\t\t\twithCredentials: options.withCredentials,\n\t\t\t\theaders: (options.XIBMClientID && options.XIBMClientSecret) ? {\n\t\t\t\t\t'X-IBM-Client-Id': options.XIBMClientID,\n\t\t\t\t\t'X-IBM-Client-Secret': options.XIBMClientSecret\n\t\t\t\t} : {}\n\t\t\t});\n\t\t\treturn SDK;\n\t\t},\n\t\t/**\n\t\t * Start a new chat session\n\t\t * @function start\n\t\t * @memberof SDK\n\t\t * @param {string} botID - Your botID.\n\t\t * @example\n\t\t * SDK.start(botID)\n\t\t *    .then(function(res) {\n\t\t *      console.log(res.chatID, res.message);\n\t\t *    })\n\t\t *    .catch(function(err) {\n\t\t *      console.error(err);\n\t\t *    });\n\t\t * @returns {Promise({ chatID: \"string\", message: \"string\" })} Returns: A Promise that resolves when the chat session is started.\n\t\t */\n\t\tstart: function( botID ) {\n\t\t\tvar requestID = uuid();\n\t\t\tvar data = { userID: options.userID, userLatLon: options.userLatLon };\n\t\t\tvar endpoint = '/bots/'+ botID +'/dialogs';\n\t\t\tvar config = { 'headers': { 'X-Request-ID': requestID } };\n\t\t\treturn api\n\t\t\t\t.post( endpoint, data, config )\n\t\t\t\t.then( function( res ) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tchatID: res.data.dialog_id,\n\t\t\t\t\t\tmessage: insertUserProfileData(res.data.message)\n\t\t\t\t\t};\n\t\t\t\t})['catch']( function( err ) {\n\t\t\t\t\tconsole.error('Request failed:', requestID );\n\t\t\t\t\tonError( err );\n\t\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Send a message to a chat session\n\t\t * @function send\n\t\t * @memberof SDK\n\t\t * @param {string} botID - Your botID\n\t\t * @param {string} chatID - Your chatID provided by SDK.start\n\t\t * @param {string} message - Your message\n\t\t * @example\n\t\t * SDK.send(botID, chatID, 'Hello!')\n\t\t *    .then(function(data) {\n\t\t *      console.log(data.message);\n\t\t *    })\n\t\t *    .catch(function(err) {\n\t\t *      console.error(err);\n\t\t *    });\n\t\t * @returns {Promise({ message: \"string\" })} Returns: A Promise that resolves when the bot responds.\n\t\t */\n\t\tsend: function( botID, chatID, message ) {\n\t\t\tvar requestID = uuid();\n\t\t\tvar data = { message: message, userID: options.userID, userLatLon: options.userLatLon };\n\t\t\tvar endpoint = '/bots/'+ botID +'/dialogs/'+ chatID +'/messages';\n\t\t\tvar config = { 'headers': { 'X-Request-ID': requestID } };\n\t\t\treturn api\n\t\t\t\t.post( endpoint, data, config )\n\t\t\t\t.then( function( res ) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tmessage: insertUserProfileData(res.data.message)\n\t\t\t\t\t};\n\t\t\t\t})['catch']( function( err ) {\n\t\t\t\t\tconsole.error('Request failed:', requestID );\n\t\t\t\t\tonError( err );\n\t\t\t\t});\n\t\t},\n\t\t/**\n\t\t* Iterate profile data into a given message object.\n\t\t* @memberof SDK\n\t\t* @function parse\n\t\t* @param {Any} message - A string or message object to insert profile data into.\n\t\t* @returns {Any} Returns: The message in original format with variables replaced.\n\t\t* @example\n\t\t* var message = \"You owe |&bill_amount|.\";\n\t\t* var parsed = SDK.parse(message);\n\t\t*/\n\t\tparse: insertUserProfileData,\n\t\t/**\n\t\t * @namespace profile\n\t\t * @memberof SDK\n\t\t */\n\t\tprofile: {\n\t\t\t/**\n\t\t\t* Get an item from the user profile based on key.\n\t\t\t* @memberof SDK.profile\n\t\t\t* @function get\n\t\t\t* @param {string} key - The named key of the value you are accessing.\n\t\t\t* @example\n\t\t\t* SDK.profile.get('first_name');\n\t\t\t* @returns {Any} Returns: the value of the key in the profile map.\n\t\t\t*/\n\t\t\tget: storage.get,\n\t\t\t/**\n\t\t\t* Set an item from the user profile based on key.\n\t\t\t* @memberof SDK.profile\n\t\t\t* @function set\n\t\t\t* @param {string} key - The named key of the value you are setting.\n\t\t\t* @param {string} value - The value you are setting.\n\t\t\t* @returns {Object} Returns: An instance of SDK.profile for chaining.\n\t\t\t* @example\n\t\t\t* SDK.profile.set('first_name', 'john');\n\t\t\t*/\n\t\t\tset: storage.set,\n\t\t\t/**\n\t\t\t* See if an item from the user profile exists based on key.\n\t\t\t* @memberof SDK.profile\n\t\t\t* @function has\n\t\t\t* @param {string} key - The named key of the value you are checking the existance of.\n\t\t\t* @example\n\t\t\t* SDK.profile.has('first_name');\n\t\t\t* @returns {Boolean} Returns: Boolean indicating if the key exists.\n\t\t\t*/\n\t\t\thas: storage.has,\n\t\t\t/**\n\t\t\t* Clear the entire user profile.\n\t\t\t* @memberof SDK.profile\n\t\t\t* @function clear\n\t\t\t* @returns {Object} Returns: An instance of SDK.profile for chaining.\n\t\t\t* @example\n\t\t\t* SDK.profile.clear();\n\t\t\t*/\n\t\t\tclear: storage.clear,\n\t\t\t/**\n\t\t\t* Delete an item from the user profile based on key.\n\t\t\t* @memberof SDK.profile\n\t\t\t* @function delete\n\t\t\t* @returns {Object} Returns: An instance of SDK.profile for chaining.\n\t\t\t* @param {string} key - The named key of the value you are deleting.\n\t\t\t* @example\n\t\t\t* SDK.profile.delete('first_name');\n\t\t\t*/\n\t\t\tdelete: storage.delete,\n\t\t\t/**\n\t\t\t* Iterate over the profile.\n\t\t\t* @memberof SDK.profile\n\t\t\t* @function forEach\n\t\t\t* @param {function} callback - The function you are calling on each item in the profile object. This function is passed key as the first argument and value as the second argument.\n\t\t\t* @param {Object} this - (optional) The context you wish to call the callback in.\n\t\t\t* @returns {Object} Returns: An instance of SDK.profile for chaining.\n\t\t\t* @example\n\t\t\t* SDK.profile.forEach(function(key, value) {\n\t\t\t*   console.log(key, value);\n\t\t\t* });\n\t\t\t*/\n\t\t\tforEach: storage.forEach\n\t\t}\n\t};\n\t\n\tvar uuid = function( ) {\n\t\treturn 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n\t\t\tvar r = Math.random()*16|0, v = c == 'x' ? r : (r&0x3|0x8);\n\t\t\treturn v.toString(16);\n\t\t});\n\t};\n\t\n\tvar onError = function( err ) {\n\t\tif ( !err.status )\n\t\t\tthrow err;\n\t\tvar status = err.status;\n\t\tvar statusText = err.statusText;\n\t\tvar error = new Error( statusText );\n\t\terror.status = status;\n\t\tthrow error;\n\t};\n\n\n/***/ },\n/* 23 */\n/***/ function(module, exports) {\n\n\t/**\n\t* (C) Copyright IBM Corp. 2016. All Rights Reserved.\n\t*\n\t* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not\n\t* use this file except in compliance with the License. You may obtain a copy of\n\t* the License at\n\t*\n\t* http://www.apache.org/licenses/LICENSE-2.0\n\t*\n\t* Unless required by applicable law or agreed to in writing, software\n\t* distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n\t* WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n\t* License for the specific language governing permissions and limitations under\n\t* the License.\n\t*/\n\t\n\tvar profile = {};\n\tvar storage = {\n\t\tset: function(key, value) {\n\t\t\tprofile[key] = value;\n\t\t\treturn storage;\n\t\t},\n\t\tget: function(key) {\n\t\t\treturn profile[key] || '';\n\t\t},\n\t\thas: function(key) {\n\t\t\treturn (profile[key] !== undefined);\n\t\t},\n\t\tclear: function() {\n\t\t\tprofile = {};\n\t\t\treturn storage;\n\t\t},\n\t\tdelete: function(key) {\n\t\t\tdelete profile[key];\n\t\t\treturn storage;\n\t\t},\n\t\tforEach: function(cb, context) {\n\t\t\tObject.keys(profile).forEach(function(key) {\n\t\t\t\tif (context)\n\t\t\t\t\tcb(key, profile[key]).bind(context);\n\t\t\t\telse\n\t\t\t\t\tcb(key, profile[key]);\n\t\t\t});\n\t\t\treturn storage;\n\t\t}\n\t};\n\t\n\tmodule.exports = storage;\n\n\n/***/ },\n/* 24 */\n/***/ function(module, exports) {\n\n\t/**\n\t * lodash (Custom Build) <https://lodash.com/>\n\t * Build: `lodash modularize exports=\"npm\" -o ./`\n\t * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n\t * Released under MIT license <https://lodash.com/license>\n\t * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n\t * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n\t */\n\t\n\t/** Used as references for various `Number` constants. */\n\tvar MAX_SAFE_INTEGER = 9007199254740991;\n\t\n\t/** `Object#toString` result references. */\n\tvar argsTag = '[object Arguments]',\n\t    funcTag = '[object Function]',\n\t    genTag = '[object GeneratorFunction]',\n\t    stringTag = '[object String]';\n\t\n\t/** Used to detect unsigned integer values. */\n\tvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\t\n\t/**\n\t * A faster alternative to `Function#apply`, this function invokes `func`\n\t * with the `this` binding of `thisArg` and the arguments of `args`.\n\t *\n\t * @private\n\t * @param {Function} func The function to invoke.\n\t * @param {*} thisArg The `this` binding of `func`.\n\t * @param {Array} args The arguments to invoke `func` with.\n\t * @returns {*} Returns the result of `func`.\n\t */\n\tfunction apply(func, thisArg, args) {\n\t  switch (args.length) {\n\t    case 0: return func.call(thisArg);\n\t    case 1: return func.call(thisArg, args[0]);\n\t    case 2: return func.call(thisArg, args[0], args[1]);\n\t    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n\t  }\n\t  return func.apply(thisArg, args);\n\t}\n\t\n\t/**\n\t * The base implementation of `_.property` without support for deep paths.\n\t *\n\t * @private\n\t * @param {string} key The key of the property to get.\n\t * @returns {Function} Returns the new accessor function.\n\t */\n\tfunction baseProperty(key) {\n\t  return function(object) {\n\t    return object == null ? undefined : object[key];\n\t  };\n\t}\n\t\n\t/**\n\t * The base implementation of `_.times` without support for iteratee shorthands\n\t * or max array length checks.\n\t *\n\t * @private\n\t * @param {number} n The number of times to invoke `iteratee`.\n\t * @param {Function} iteratee The function invoked per iteration.\n\t * @returns {Array} Returns the array of results.\n\t */\n\tfunction baseTimes(n, iteratee) {\n\t  var index = -1,\n\t      result = Array(n);\n\t\n\t  while (++index < n) {\n\t    result[index] = iteratee(index);\n\t  }\n\t  return result;\n\t}\n\t\n\t/**\n\t * Creates a function that invokes `func` with its first argument transformed.\n\t *\n\t * @private\n\t * @param {Function} func The function to wrap.\n\t * @param {Function} transform The argument transform.\n\t * @returns {Function} Returns the new function.\n\t */\n\tfunction overArg(func, transform) {\n\t  return function(arg) {\n\t    return func(transform(arg));\n\t  };\n\t}\n\t\n\t/** Used for built-in method references. */\n\tvar objectProto = Object.prototype;\n\t\n\t/** Used to check objects for own properties. */\n\tvar hasOwnProperty = objectProto.hasOwnProperty;\n\t\n\t/**\n\t * Used to resolve the\n\t * [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n\t * of values.\n\t */\n\tvar objectToString = objectProto.toString;\n\t\n\t/** Built-in value references. */\n\tvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\t\n\t/* Built-in method references for those with the same name as other `lodash` methods. */\n\tvar nativeGetPrototype = Object.getPrototypeOf,\n\t    nativeKeys = Object.keys,\n\t    nativeMax = Math.max;\n\t\n\t/** Detect if properties shadowing those on `Object.prototype` are non-enumerable. */\n\tvar nonEnumShadows = !propertyIsEnumerable.call({ 'valueOf': 1 }, 'valueOf');\n\t\n\t/**\n\t * Assigns `value` to `key` of `object` if the existing value is not equivalent\n\t * using [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n\t * for equality comparisons.\n\t *\n\t * @private\n\t * @param {Object} object The object to modify.\n\t * @param {string} key The key of the property to assign.\n\t * @param {*} value The value to assign.\n\t */\n\tfunction assignValue(object, key, value) {\n\t  var objValue = object[key];\n\t  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n\t      (value === undefined && !(key in object))) {\n\t    object[key] = value;\n\t  }\n\t}\n\t\n\t/**\n\t * The base implementation of `_.has` without support for deep paths.\n\t *\n\t * @private\n\t * @param {Object} [object] The object to query.\n\t * @param {Array|string} key The key to check.\n\t * @returns {boolean} Returns `true` if `key` exists, else `false`.\n\t */\n\tfunction baseHas(object, key) {\n\t  // Avoid a bug in IE 10-11 where objects with a [[Prototype]] of `null`,\n\t  // that are composed entirely of index properties, return `false` for\n\t  // `hasOwnProperty` checks of them.\n\t  return object != null &&\n\t    (hasOwnProperty.call(object, key) ||\n\t      (typeof object == 'object' && key in object && getPrototype(object) === null));\n\t}\n\t\n\t/**\n\t * The base implementation of `_.keys` which doesn't skip the constructor\n\t * property of prototypes or treat sparse arrays as dense.\n\t *\n\t * @private\n\t * @param {Object} object The object to query.\n\t * @returns {Array} Returns the array of property names.\n\t */\n\tvar baseKeys = overArg(nativeKeys, Object);\n\t\n\t/**\n\t * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n\t *\n\t * @private\n\t * @param {Function} func The function to apply a rest parameter to.\n\t * @param {number} [start=func.length-1] The start position of the rest parameter.\n\t * @returns {Function} Returns the new function.\n\t */\n\tfunction baseRest(func, start) {\n\t  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n\t  return function() {\n\t    var args = arguments,\n\t        index = -1,\n\t        length = nativeMax(args.length - start, 0),\n\t        array = Array(length);\n\t\n\t    while (++index < length) {\n\t      array[index] = args[start + index];\n\t    }\n\t    index = -1;\n\t    var otherArgs = Array(start + 1);\n\t    while (++index < start) {\n\t      otherArgs[index] = args[index];\n\t    }\n\t    otherArgs[start] = array;\n\t    return apply(func, this, otherArgs);\n\t  };\n\t}\n\t\n\t/**\n\t * Copies properties of `source` to `object`.\n\t *\n\t * @private\n\t * @param {Object} source The object to copy properties from.\n\t * @param {Array} props The property identifiers to copy.\n\t * @param {Object} [object={}] The object to copy properties to.\n\t * @param {Function} [customizer] The function to customize copied values.\n\t * @returns {Object} Returns `object`.\n\t */\n\tfunction copyObject(source, props, object, customizer) {\n\t  object || (object = {});\n\t\n\t  var index = -1,\n\t      length = props.length;\n\t\n\t  while (++index < length) {\n\t    var key = props[index];\n\t\n\t    var newValue = customizer\n\t      ? customizer(object[key], source[key], key, object, source)\n\t      : undefined;\n\t\n\t    assignValue(object, key, newValue === undefined ? source[key] : newValue);\n\t  }\n\t  return object;\n\t}\n\t\n\t/**\n\t * Creates a function like `_.assign`.\n\t *\n\t * @private\n\t * @param {Function} assigner The function to assign values.\n\t * @returns {Function} Returns the new assigner function.\n\t */\n\tfunction createAssigner(assigner) {\n\t  return baseRest(function(object, sources) {\n\t    var index = -1,\n\t        length = sources.length,\n\t        customizer = length > 1 ? sources[length - 1] : undefined,\n\t        guard = length > 2 ? sources[2] : undefined;\n\t\n\t    customizer = (assigner.length > 3 && typeof customizer == 'function')\n\t      ? (length--, customizer)\n\t      : undefined;\n\t\n\t    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n\t      customizer = length < 3 ? undefined : customizer;\n\t      length = 1;\n\t    }\n\t    object = Object(object);\n\t    while (++index < length) {\n\t      var source = sources[index];\n\t      if (source) {\n\t        assigner(object, source, index, customizer);\n\t      }\n\t    }\n\t    return object;\n\t  });\n\t}\n\t\n\t/**\n\t * Gets the \"length\" property value of `object`.\n\t *\n\t * **Note:** This function is used to avoid a\n\t * [JIT bug](https://bugs.webkit.org/show_bug.cgi?id=142792) that affects\n\t * Safari on at least iOS 8.1-8.3 ARM64.\n\t *\n\t * @private\n\t * @param {Object} object The object to query.\n\t * @returns {*} Returns the \"length\" value.\n\t */\n\tvar getLength = baseProperty('length');\n\t\n\t/**\n\t * Gets the `[[Prototype]]` of `value`.\n\t *\n\t * @private\n\t * @param {*} value The value to query.\n\t * @returns {null|Object} Returns the `[[Prototype]]`.\n\t */\n\tvar getPrototype = overArg(nativeGetPrototype, Object);\n\t\n\t/**\n\t * Creates an array of index keys for `object` values of arrays,\n\t * `arguments` objects, and strings, otherwise `null` is returned.\n\t *\n\t * @private\n\t * @param {Object} object The object to query.\n\t * @returns {Array|null} Returns index keys, else `null`.\n\t */\n\tfunction indexKeys(object) {\n\t  var length = object ? object.length : undefined;\n\t  if (isLength(length) &&\n\t      (isArray(object) || isString(object) || isArguments(object))) {\n\t    return baseTimes(length, String);\n\t  }\n\t  return null;\n\t}\n\t\n\t/**\n\t * Checks if `value` is a valid array-like index.\n\t *\n\t * @private\n\t * @param {*} value The value to check.\n\t * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n\t * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n\t */\n\tfunction isIndex(value, length) {\n\t  length = length == null ? MAX_SAFE_INTEGER : length;\n\t  return !!length &&\n\t    (typeof value == 'number' || reIsUint.test(value)) &&\n\t    (value > -1 && value % 1 == 0 && value < length);\n\t}\n\t\n\t/**\n\t * Checks if the given arguments are from an iteratee call.\n\t *\n\t * @private\n\t * @param {*} value The potential iteratee value argument.\n\t * @param {*} index The potential iteratee index or key argument.\n\t * @param {*} object The potential iteratee object argument.\n\t * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n\t *  else `false`.\n\t */\n\tfunction isIterateeCall(value, index, object) {\n\t  if (!isObject(object)) {\n\t    return false;\n\t  }\n\t  var type = typeof index;\n\t  if (type == 'number'\n\t        ? (isArrayLike(object) && isIndex(index, object.length))\n\t        : (type == 'string' && index in object)\n\t      ) {\n\t    return eq(object[index], value);\n\t  }\n\t  return false;\n\t}\n\t\n\t/**\n\t * Checks if `value` is likely a prototype object.\n\t *\n\t * @private\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n\t */\n\tfunction isPrototype(value) {\n\t  var Ctor = value && value.constructor,\n\t      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\t\n\t  return value === proto;\n\t}\n\t\n\t/**\n\t * Performs a\n\t * [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n\t * comparison between two values to determine if they are equivalent.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 4.0.0\n\t * @category Lang\n\t * @param {*} value The value to compare.\n\t * @param {*} other The other value to compare.\n\t * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n\t * @example\n\t *\n\t * var object = { 'a': 1 };\n\t * var other = { 'a': 1 };\n\t *\n\t * _.eq(object, object);\n\t * // => true\n\t *\n\t * _.eq(object, other);\n\t * // => false\n\t *\n\t * _.eq('a', 'a');\n\t * // => true\n\t *\n\t * _.eq('a', Object('a'));\n\t * // => false\n\t *\n\t * _.eq(NaN, NaN);\n\t * // => true\n\t */\n\tfunction eq(value, other) {\n\t  return value === other || (value !== value && other !== other);\n\t}\n\t\n\t/**\n\t * Checks if `value` is likely an `arguments` object.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 0.1.0\n\t * @category Lang\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n\t *  else `false`.\n\t * @example\n\t *\n\t * _.isArguments(function() { return arguments; }());\n\t * // => true\n\t *\n\t * _.isArguments([1, 2, 3]);\n\t * // => false\n\t */\n\tfunction isArguments(value) {\n\t  // Safari 8.1 incorrectly makes `arguments.callee` enumerable in strict mode.\n\t  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n\t    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n\t}\n\t\n\t/**\n\t * Checks if `value` is classified as an `Array` object.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 0.1.0\n\t * @category Lang\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n\t * @example\n\t *\n\t * _.isArray([1, 2, 3]);\n\t * // => true\n\t *\n\t * _.isArray(document.body.children);\n\t * // => false\n\t *\n\t * _.isArray('abc');\n\t * // => false\n\t *\n\t * _.isArray(_.noop);\n\t * // => false\n\t */\n\tvar isArray = Array.isArray;\n\t\n\t/**\n\t * Checks if `value` is array-like. A value is considered array-like if it's\n\t * not a function and has a `value.length` that's an integer greater than or\n\t * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 4.0.0\n\t * @category Lang\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n\t * @example\n\t *\n\t * _.isArrayLike([1, 2, 3]);\n\t * // => true\n\t *\n\t * _.isArrayLike(document.body.children);\n\t * // => true\n\t *\n\t * _.isArrayLike('abc');\n\t * // => true\n\t *\n\t * _.isArrayLike(_.noop);\n\t * // => false\n\t */\n\tfunction isArrayLike(value) {\n\t  return value != null && isLength(getLength(value)) && !isFunction(value);\n\t}\n\t\n\t/**\n\t * This method is like `_.isArrayLike` except that it also checks if `value`\n\t * is an object.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 4.0.0\n\t * @category Lang\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is an array-like object,\n\t *  else `false`.\n\t * @example\n\t *\n\t * _.isArrayLikeObject([1, 2, 3]);\n\t * // => true\n\t *\n\t * _.isArrayLikeObject(document.body.children);\n\t * // => true\n\t *\n\t * _.isArrayLikeObject('abc');\n\t * // => false\n\t *\n\t * _.isArrayLikeObject(_.noop);\n\t * // => false\n\t */\n\tfunction isArrayLikeObject(value) {\n\t  return isObjectLike(value) && isArrayLike(value);\n\t}\n\t\n\t/**\n\t * Checks if `value` is classified as a `Function` object.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 0.1.0\n\t * @category Lang\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n\t * @example\n\t *\n\t * _.isFunction(_);\n\t * // => true\n\t *\n\t * _.isFunction(/abc/);\n\t * // => false\n\t */\n\tfunction isFunction(value) {\n\t  // The use of `Object#toString` avoids issues with the `typeof` operator\n\t  // in Safari 8 which returns 'object' for typed array and weak map constructors,\n\t  // and PhantomJS 1.9 which returns 'function' for `NodeList` instances.\n\t  var tag = isObject(value) ? objectToString.call(value) : '';\n\t  return tag == funcTag || tag == genTag;\n\t}\n\t\n\t/**\n\t * Checks if `value` is a valid array-like length.\n\t *\n\t * **Note:** This function is loosely based on\n\t * [`ToLength`](http://ecma-international.org/ecma-262/6.0/#sec-tolength).\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 4.0.0\n\t * @category Lang\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is a valid length,\n\t *  else `false`.\n\t * @example\n\t *\n\t * _.isLength(3);\n\t * // => true\n\t *\n\t * _.isLength(Number.MIN_VALUE);\n\t * // => false\n\t *\n\t * _.isLength(Infinity);\n\t * // => false\n\t *\n\t * _.isLength('3');\n\t * // => false\n\t */\n\tfunction isLength(value) {\n\t  return typeof value == 'number' &&\n\t    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n\t}\n\t\n\t/**\n\t * Checks if `value` is the\n\t * [language type](http://www.ecma-international.org/ecma-262/6.0/#sec-ecmascript-language-types)\n\t * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 0.1.0\n\t * @category Lang\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n\t * @example\n\t *\n\t * _.isObject({});\n\t * // => true\n\t *\n\t * _.isObject([1, 2, 3]);\n\t * // => true\n\t *\n\t * _.isObject(_.noop);\n\t * // => true\n\t *\n\t * _.isObject(null);\n\t * // => false\n\t */\n\tfunction isObject(value) {\n\t  var type = typeof value;\n\t  return !!value && (type == 'object' || type == 'function');\n\t}\n\t\n\t/**\n\t * Checks if `value` is object-like. A value is object-like if it's not `null`\n\t * and has a `typeof` result of \"object\".\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 4.0.0\n\t * @category Lang\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n\t * @example\n\t *\n\t * _.isObjectLike({});\n\t * // => true\n\t *\n\t * _.isObjectLike([1, 2, 3]);\n\t * // => true\n\t *\n\t * _.isObjectLike(_.noop);\n\t * // => false\n\t *\n\t * _.isObjectLike(null);\n\t * // => false\n\t */\n\tfunction isObjectLike(value) {\n\t  return !!value && typeof value == 'object';\n\t}\n\t\n\t/**\n\t * Checks if `value` is classified as a `String` primitive or object.\n\t *\n\t * @static\n\t * @since 0.1.0\n\t * @memberOf _\n\t * @category Lang\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is a string, else `false`.\n\t * @example\n\t *\n\t * _.isString('abc');\n\t * // => true\n\t *\n\t * _.isString(1);\n\t * // => false\n\t */\n\tfunction isString(value) {\n\t  return typeof value == 'string' ||\n\t    (!isArray(value) && isObjectLike(value) && objectToString.call(value) == stringTag);\n\t}\n\t\n\t/**\n\t * Assigns own enumerable string keyed properties of source objects to the\n\t * destination object. Source objects are applied from left to right.\n\t * Subsequent sources overwrite property assignments of previous sources.\n\t *\n\t * **Note:** This method mutates `object` and is loosely based on\n\t * [`Object.assign`](https://mdn.io/Object/assign).\n\t *\n\t * @static\n\t * @memberOf _\n\t * @since 0.10.0\n\t * @category Object\n\t * @param {Object} object The destination object.\n\t * @param {...Object} [sources] The source objects.\n\t * @returns {Object} Returns `object`.\n\t * @see _.assignIn\n\t * @example\n\t *\n\t * function Foo() {\n\t *   this.a = 1;\n\t * }\n\t *\n\t * function Bar() {\n\t *   this.c = 3;\n\t * }\n\t *\n\t * Foo.prototype.b = 2;\n\t * Bar.prototype.d = 4;\n\t *\n\t * _.assign({ 'a': 0 }, new Foo, new Bar);\n\t * // => { 'a': 1, 'c': 3 }\n\t */\n\tvar assign = createAssigner(function(object, source) {\n\t  if (nonEnumShadows || isPrototype(source) || isArrayLike(source)) {\n\t    copyObject(source, keys(source), object);\n\t    return;\n\t  }\n\t  for (var key in source) {\n\t    if (hasOwnProperty.call(source, key)) {\n\t      assignValue(object, key, source[key]);\n\t    }\n\t  }\n\t});\n\t\n\t/**\n\t * Creates an array of the own enumerable property names of `object`.\n\t *\n\t * **Note:** Non-object values are coerced to objects. See the\n\t * [ES spec](http://ecma-international.org/ecma-262/6.0/#sec-object.keys)\n\t * for more details.\n\t *\n\t * @static\n\t * @since 0.1.0\n\t * @memberOf _\n\t * @category Object\n\t * @param {Object} object The object to query.\n\t * @returns {Array} Returns the array of property names.\n\t * @example\n\t *\n\t * function Foo() {\n\t *   this.a = 1;\n\t *   this.b = 2;\n\t * }\n\t *\n\t * Foo.prototype.c = 3;\n\t *\n\t * _.keys(new Foo);\n\t * // => ['a', 'b'] (iteration order is not guaranteed)\n\t *\n\t * _.keys('hi');\n\t * // => ['0', '1']\n\t */\n\tfunction keys(object) {\n\t  var isProto = isPrototype(object);\n\t  if (!(isProto || isArrayLike(object))) {\n\t    return baseKeys(object);\n\t  }\n\t  var indexes = indexKeys(object),\n\t      skipIndexes = !!indexes,\n\t      result = indexes || [],\n\t      length = result.length;\n\t\n\t  for (var key in object) {\n\t    if (baseHas(object, key) &&\n\t        !(skipIndexes && (key == 'length' || isIndex(key, length))) &&\n\t        !(isProto && key == 'constructor')) {\n\t      result.push(key);\n\t    }\n\t  }\n\t  return result;\n\t}\n\t\n\tmodule.exports = assign;\n\n\n/***/ },\n/* 25 */\n/***/ function(module, exports) {\n\n\tmodule.exports = function() { throw new Error(\"define cannot be used indirect\"); };\r\n\n\n/***/ },\n/* 26 */\n/***/ function(module, exports) {\n\n\tmodule.exports = function(module) {\r\n\t\tif(!module.webpackPolyfill) {\r\n\t\t\tmodule.deprecate = function() {};\r\n\t\t\tmodule.paths = [];\r\n\t\t\t// module.parent = undefined by default\r\n\t\t\tmodule.children = [];\r\n\t\t\tmodule.webpackPolyfill = 1;\r\n\t\t}\r\n\t\treturn module;\r\n\t}\r\n\n\n/***/ },\n/* 27 */\n/***/ function(module, exports) {\n\n\t/* (ignored) */\n\n/***/ }\n/******/ ])\n});\n;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCBjYjQzZDMwNGIyMDVmNDc4YjhkMiIsIndlYnBhY2s6Ly8vLi9+L2F4aW9zL2xpYi91dGlscy5qcyIsIndlYnBhY2s6Ly8vLi9+L3Byb2Nlc3MvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vLi9+L2F4aW9zL2xpYi9hZGFwdGVycy94aHIuanMiLCJ3ZWJwYWNrOi8vLy4vfi9heGlvcy9saWIvaGVscGVycy90cmFuc2Zvcm1EYXRhLmpzIiwid2VicGFjazovLy8uL34vYXhpb3MvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vfi9heGlvcy9saWIvYXhpb3MuanMiLCJ3ZWJwYWNrOi8vLy4vfi9heGlvcy9saWIvY29yZS9JbnRlcmNlcHRvck1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vLy4vfi9heGlvcy9saWIvY29yZS9kaXNwYXRjaFJlcXVlc3QuanMiLCJ3ZWJwYWNrOi8vLy4vfi9heGlvcy9saWIvZGVmYXVsdHMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9heGlvcy9saWIvaGVscGVycy9iaW5kLmpzIiwid2VicGFjazovLy8uL34vYXhpb3MvbGliL2hlbHBlcnMvYnRvYS5qcyIsIndlYnBhY2s6Ly8vLi9+L2F4aW9zL2xpYi9oZWxwZXJzL2J1aWxkVVJMLmpzIiwid2VicGFjazovLy8uL34vYXhpb3MvbGliL2hlbHBlcnMvY29tYmluZVVSTHMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9heGlvcy9saWIvaGVscGVycy9jb29raWVzLmpzIiwid2VicGFjazovLy8uL34vYXhpb3MvbGliL2hlbHBlcnMvaXNBYnNvbHV0ZVVSTC5qcyIsIndlYnBhY2s6Ly8vLi9+L2F4aW9zL2xpYi9oZWxwZXJzL2lzVVJMU2FtZU9yaWdpbi5qcyIsIndlYnBhY2s6Ly8vLi9+L2F4aW9zL2xpYi9oZWxwZXJzL25vcm1hbGl6ZUhlYWRlck5hbWUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9heGlvcy9saWIvaGVscGVycy9wYXJzZUhlYWRlcnMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9heGlvcy9saWIvaGVscGVycy9zZXR0bGUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9heGlvcy9saWIvaGVscGVycy9zcHJlYWQuanMiLCJ3ZWJwYWNrOi8vLy4vfi9lczYtcHJvbWlzZS9kaXN0L2VzNi1wcm9taXNlLmpzIiwid2VicGFjazovLy8uL3NyYy9zZGsuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0b3JhZ2UuanMiLCJ3ZWJwYWNrOi8vLy4vfi9sb2Rhc2guYXNzaWduL2luZGV4LmpzIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9hbWQtZGVmaW5lLmpzIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9tb2R1bGUuanMiLCJ3ZWJwYWNrOi8vL3ZlcnR4IChpZ25vcmVkKSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsTztBQ1ZBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHVCQUFlO0FBQ2Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7O0FDdENBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFlBQVcsT0FBTztBQUNsQixjQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsWUFBVyxPQUFPO0FBQ2xCLGNBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxZQUFXLE9BQU87QUFDbEIsY0FBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNB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QUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esd0JBQXVCLHNCQUFzQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFxQjtBQUNyQjs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsNEJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBLDZCQUE0QixVQUFVOzs7Ozs7O0FDbkx0Qzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwyQ0FBMEM7QUFDMUM7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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QUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUE4QixzQkFBc0I7O0FBRXBEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esc0JBQXFCLCtCQUErQjtBQUNwRDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLO0FBQ0w7QUFDQSxNQUFLO0FBQ0w7QUFDQSxNQUFLO0FBQ0w7QUFDQSxNQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNULFFBQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxRQUFPO0FBQ1A7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXVCLFFBQVE7QUFDL0I7QUFDQTtBQUNBO0FBQ0EsWUFBVztBQUNYO0FBQ0E7QUFDQSxVQUFTO0FBQ1Qsd0JBQXVCLFFBQVE7QUFDL0I7O0FBRUE7QUFDQSxVQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBTztBQUNQOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQU87QUFDUDtBQUNBLFFBQU87QUFDUDtBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0EsVUFBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQU87QUFDUDtBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0EsVUFBUztBQUNUO0FBQ0EsVUFBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQU87QUFDUDtBQUNBLFFBQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLG1FQUFrRSxRQUFROztBQUUxRTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsbUVBQWtFLFFBQVE7QUFDMUU7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLHNDQUFxQyxRQUFROztBQUU3Qzs7QUFFQSxzQkFBcUIsd0JBQXdCO0FBQzdDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFVBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsUUFBTztBQUNQO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsUUFBTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsUUFBTztBQUNQO0FBQ0EsUUFBTztBQUNQO0FBQ0EsUUFBTztBQUNQO0FBQ0EsUUFBTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVM7QUFDVDtBQUNBLFVBQVM7QUFDVCxRQUFPO0FBQ1A7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxVQUFTO0FBQ1QsUUFBTztBQUNQO0FBQ0E7QUFDQSwwQkFBeUIsWUFBWTtBQUNyQztBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxRQUFPOztBQUVQO0FBQ0E7QUFDQSxRQUFPO0FBQ1A7QUFDQSxRQUFPO0FBQ1A7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNUOztBQUVBO0FBQ0E7QUFDQSxRQUFPO0FBQ1A7QUFDQSxRQUFPO0FBQ1A7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxRQUFPO0FBQ1A7O0FBRUE7QUFDQSxlQUFjLFNBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQU87QUFDUDtBQUNBLFFBQU87QUFDUDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxRQUFPO0FBQ1A7QUFDQSxRQUFPO0FBQ1A7QUFDQTtBQUNBLFFBQU87O0FBRVA7QUFDQTtBQUNBLFFBQU87QUFDUDtBQUNBLFFBQU87QUFDUDtBQUNBLFFBQU87QUFDUDtBQUNBO0FBQ0EsUUFBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsUUFBTztBQUNQO0FBQ0EsUUFBTztBQUNQO0FBQ0EsUUFBTztBQUNQO0FBQ0EsUUFBTztBQUNQOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsUUFBTztBQUNQO0FBQ0EsUUFBTztBQUNQOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQU87QUFDUDtBQUNBLFFBQU87QUFDUDtBQUNBLFFBQU87QUFDUDs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsUUFBTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVM7QUFDVDtBQUNBO0FBQ0EsUUFBTztBQUNQOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQU87QUFDUDtBQUNBLFFBQU87QUFDUDs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFPO0FBQ1A7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWU7QUFDZjtBQUNBO0FBQ0Esa0JBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLGNBQWE7QUFDYixZQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFPO0FBQ1A7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQU87QUFDUDtBQUNBLFFBQU87QUFDUDs7QUFFQTtBQUNBLGVBQWMsU0FBUztBQUN2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QUFFO0FBQ2IsY0FBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFXLEVBQUU7QUFDYixjQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBVyxFQUFFO0FBQ2IsY0FBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVcsRUFBRTtBQUNiLGNBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFXLEVBQUU7QUFDYixjQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBVyxFQUFFO0FBQ2IsY0FBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQSxpQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFXLEVBQUU7QUFDYixjQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBLHFCQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBVyxFQUFFO0FBQ2IsY0FBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFXLE9BQU87QUFDbEIsWUFBVyxVQUFVO0FBQ3JCLGNBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYSxTQUFTO0FBQ3RCLFdBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBVyxPQUFPO0FBQ2xCLGNBQWEsTUFBTTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOzs7Ozs7O0FDdHNCQSw4QkFBNkIsbURBQW1EOzs7Ozs7O0FDQWhGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7O0FDVEEsZ0IiLCJmaWxlIjoid2ViLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoXCJTREtcIiwgW10sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wiU0RLXCJdID0gZmFjdG9yeSgpO1xuXHRlbHNlXG5cdFx0cm9vdFtcIlNES1wiXSA9IGZhY3RvcnkoKTtcbn0pKHRoaXMsIGZ1bmN0aW9uKCkge1xucmV0dXJuIFxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIHdlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvblxuICoqLyIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuXG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRleHBvcnRzOiB7fSxcbiBcdFx0XHRpZDogbW9kdWxlSWQsXG4gXHRcdFx0bG9hZGVkOiBmYWxzZVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogd2VicGFjay9ib290c3RyYXAgY2I0M2QzMDRiMjA1ZjQ3OGI4ZDJcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbi8qZ2xvYmFsIHRvU3RyaW5nOnRydWUqL1xuXG4vLyB1dGlscyBpcyBhIGxpYnJhcnkgb2YgZ2VuZXJpYyBoZWxwZXIgZnVuY3Rpb25zIG5vbi1zcGVjaWZpYyB0byBheGlvc1xuXG52YXIgdG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGFuIEFycmF5XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYW4gQXJyYXksIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0FycmF5KHZhbCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBBcnJheV0nO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGFuIEFycmF5QnVmZmVyXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYW4gQXJyYXlCdWZmZXIsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0FycmF5QnVmZmVyKHZhbCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBBcnJheUJ1ZmZlcl0nO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRm9ybURhdGFcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhbiBGb3JtRGF0YSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRm9ybURhdGEodmFsKSB7XG4gIHJldHVybiAodHlwZW9mIEZvcm1EYXRhICE9PSAndW5kZWZpbmVkJykgJiYgKHZhbCBpbnN0YW5jZW9mIEZvcm1EYXRhKTtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIHZpZXcgb24gYW4gQXJyYXlCdWZmZXJcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIHZpZXcgb24gYW4gQXJyYXlCdWZmZXIsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0FycmF5QnVmZmVyVmlldyh2YWwpIHtcbiAgdmFyIHJlc3VsdDtcbiAgaWYgKCh0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnKSAmJiAoQXJyYXlCdWZmZXIuaXNWaWV3KSkge1xuICAgIHJlc3VsdCA9IEFycmF5QnVmZmVyLmlzVmlldyh2YWwpO1xuICB9IGVsc2Uge1xuICAgIHJlc3VsdCA9ICh2YWwpICYmICh2YWwuYnVmZmVyKSAmJiAodmFsLmJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgU3RyaW5nXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBTdHJpbmcsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc1N0cmluZyh2YWwpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgTnVtYmVyXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBOdW1iZXIsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc051bWJlcih2YWwpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWwgPT09ICdudW1iZXInO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIHVuZGVmaW5lZFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSB2YWx1ZSBpcyB1bmRlZmluZWQsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc1VuZGVmaW5lZCh2YWwpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWwgPT09ICd1bmRlZmluZWQnO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGFuIE9iamVjdFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGFuIE9iamVjdCwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0KHZhbCkge1xuICByZXR1cm4gdmFsICE9PSBudWxsICYmIHR5cGVvZiB2YWwgPT09ICdvYmplY3QnO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRGF0ZVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgRGF0ZSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRGF0ZSh2YWwpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgRGF0ZV0nO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRmlsZVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgRmlsZSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRmlsZSh2YWwpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgRmlsZV0nO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgQmxvYlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgQmxvYiwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQmxvYih2YWwpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgQmxvYl0nO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRnVuY3Rpb25cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIEZ1bmN0aW9uLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNGdW5jdGlvbih2YWwpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIFN0cmVhbVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgU3RyZWFtLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNTdHJlYW0odmFsKSB7XG4gIHJldHVybiBpc09iamVjdCh2YWwpICYmIGlzRnVuY3Rpb24odmFsLnBpcGUpO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgVVJMU2VhcmNoUGFyYW1zIG9iamVjdFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgVVJMU2VhcmNoUGFyYW1zIG9iamVjdCwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzVVJMU2VhcmNoUGFyYW1zKHZhbCkge1xuICByZXR1cm4gdHlwZW9mIFVSTFNlYXJjaFBhcmFtcyAhPT0gJ3VuZGVmaW5lZCcgJiYgdmFsIGluc3RhbmNlb2YgVVJMU2VhcmNoUGFyYW1zO1xufVxuXG4vKipcbiAqIFRyaW0gZXhjZXNzIHdoaXRlc3BhY2Ugb2ZmIHRoZSBiZWdpbm5pbmcgYW5kIGVuZCBvZiBhIHN0cmluZ1xuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHIgVGhlIFN0cmluZyB0byB0cmltXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgU3RyaW5nIGZyZWVkIG9mIGV4Y2VzcyB3aGl0ZXNwYWNlXG4gKi9cbmZ1bmN0aW9uIHRyaW0oc3RyKSB7XG4gIHJldHVybiBzdHIucmVwbGFjZSgvXlxccyovLCAnJykucmVwbGFjZSgvXFxzKiQvLCAnJyk7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIHdlJ3JlIHJ1bm5pbmcgaW4gYSBzdGFuZGFyZCBicm93c2VyIGVudmlyb25tZW50XG4gKlxuICogVGhpcyBhbGxvd3MgYXhpb3MgdG8gcnVuIGluIGEgd2ViIHdvcmtlciwgYW5kIHJlYWN0LW5hdGl2ZS5cbiAqIEJvdGggZW52aXJvbm1lbnRzIHN1cHBvcnQgWE1MSHR0cFJlcXVlc3QsIGJ1dCBub3QgZnVsbHkgc3RhbmRhcmQgZ2xvYmFscy5cbiAqXG4gKiB3ZWIgd29ya2VyczpcbiAqICB0eXBlb2Ygd2luZG93IC0+IHVuZGVmaW5lZFxuICogIHR5cGVvZiBkb2N1bWVudCAtPiB1bmRlZmluZWRcbiAqXG4gKiByZWFjdC1uYXRpdmU6XG4gKiAgdHlwZW9mIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgLT4gdW5kZWZpbmVkXG4gKi9cbmZ1bmN0aW9uIGlzU3RhbmRhcmRCcm93c2VyRW52KCkge1xuICByZXR1cm4gKFxuICAgIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmXG4gICAgdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJlxuICAgIHR5cGVvZiBkb2N1bWVudC5jcmVhdGVFbGVtZW50ID09PSAnZnVuY3Rpb24nXG4gICk7XG59XG5cbi8qKlxuICogSXRlcmF0ZSBvdmVyIGFuIEFycmF5IG9yIGFuIE9iamVjdCBpbnZva2luZyBhIGZ1bmN0aW9uIGZvciBlYWNoIGl0ZW0uXG4gKlxuICogSWYgYG9iamAgaXMgYW4gQXJyYXkgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgcGFzc2luZ1xuICogdGhlIHZhbHVlLCBpbmRleCwgYW5kIGNvbXBsZXRlIGFycmF5IGZvciBlYWNoIGl0ZW0uXG4gKlxuICogSWYgJ29iaicgaXMgYW4gT2JqZWN0IGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkIHBhc3NpbmdcbiAqIHRoZSB2YWx1ZSwga2V5LCBhbmQgY29tcGxldGUgb2JqZWN0IGZvciBlYWNoIHByb3BlcnR5LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fEFycmF5fSBvYmogVGhlIG9iamVjdCB0byBpdGVyYXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgY2FsbGJhY2sgdG8gaW52b2tlIGZvciBlYWNoIGl0ZW1cbiAqL1xuZnVuY3Rpb24gZm9yRWFjaChvYmosIGZuKSB7XG4gIC8vIERvbid0IGJvdGhlciBpZiBubyB2YWx1ZSBwcm92aWRlZFxuICBpZiAob2JqID09PSBudWxsIHx8IHR5cGVvZiBvYmogPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gRm9yY2UgYW4gYXJyYXkgaWYgbm90IGFscmVhZHkgc29tZXRoaW5nIGl0ZXJhYmxlXG4gIGlmICh0eXBlb2Ygb2JqICE9PSAnb2JqZWN0JyAmJiAhaXNBcnJheShvYmopKSB7XG4gICAgLyplc2xpbnQgbm8tcGFyYW0tcmVhc3NpZ246MCovXG4gICAgb2JqID0gW29ial07XG4gIH1cblxuICBpZiAoaXNBcnJheShvYmopKSB7XG4gICAgLy8gSXRlcmF0ZSBvdmVyIGFycmF5IHZhbHVlc1xuICAgIGZvciAodmFyIGkgPSAwLCBsID0gb2JqLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgZm4uY2FsbChudWxsLCBvYmpbaV0sIGksIG9iaik7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIEl0ZXJhdGUgb3ZlciBvYmplY3Qga2V5c1xuICAgIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICBmbi5jYWxsKG51bGwsIG9ialtrZXldLCBrZXksIG9iaik7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQWNjZXB0cyB2YXJhcmdzIGV4cGVjdGluZyBlYWNoIGFyZ3VtZW50IHRvIGJlIGFuIG9iamVjdCwgdGhlblxuICogaW1tdXRhYmx5IG1lcmdlcyB0aGUgcHJvcGVydGllcyBvZiBlYWNoIG9iamVjdCBhbmQgcmV0dXJucyByZXN1bHQuXG4gKlxuICogV2hlbiBtdWx0aXBsZSBvYmplY3RzIGNvbnRhaW4gdGhlIHNhbWUga2V5IHRoZSBsYXRlciBvYmplY3QgaW5cbiAqIHRoZSBhcmd1bWVudHMgbGlzdCB3aWxsIHRha2UgcHJlY2VkZW5jZS5cbiAqXG4gKiBFeGFtcGxlOlxuICpcbiAqIGBgYGpzXG4gKiB2YXIgcmVzdWx0ID0gbWVyZ2Uoe2ZvbzogMTIzfSwge2ZvbzogNDU2fSk7XG4gKiBjb25zb2xlLmxvZyhyZXN1bHQuZm9vKTsgLy8gb3V0cHV0cyA0NTZcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmoxIE9iamVjdCB0byBtZXJnZVxuICogQHJldHVybnMge09iamVjdH0gUmVzdWx0IG9mIGFsbCBtZXJnZSBwcm9wZXJ0aWVzXG4gKi9cbmZ1bmN0aW9uIG1lcmdlKC8qIG9iajEsIG9iajIsIG9iajMsIC4uLiAqLykge1xuICB2YXIgcmVzdWx0ID0ge307XG4gIGZ1bmN0aW9uIGFzc2lnblZhbHVlKHZhbCwga2V5KSB7XG4gICAgaWYgKHR5cGVvZiByZXN1bHRba2V5XSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIHZhbCA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHJlc3VsdFtrZXldID0gbWVyZ2UocmVzdWx0W2tleV0sIHZhbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdFtrZXldID0gdmFsO1xuICAgIH1cbiAgfVxuXG4gIGZvciAodmFyIGkgPSAwLCBsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGZvckVhY2goYXJndW1lbnRzW2ldLCBhc3NpZ25WYWx1ZSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGlzQXJyYXk6IGlzQXJyYXksXG4gIGlzQXJyYXlCdWZmZXI6IGlzQXJyYXlCdWZmZXIsXG4gIGlzRm9ybURhdGE6IGlzRm9ybURhdGEsXG4gIGlzQXJyYXlCdWZmZXJWaWV3OiBpc0FycmF5QnVmZmVyVmlldyxcbiAgaXNTdHJpbmc6IGlzU3RyaW5nLFxuICBpc051bWJlcjogaXNOdW1iZXIsXG4gIGlzT2JqZWN0OiBpc09iamVjdCxcbiAgaXNVbmRlZmluZWQ6IGlzVW5kZWZpbmVkLFxuICBpc0RhdGU6IGlzRGF0ZSxcbiAgaXNGaWxlOiBpc0ZpbGUsXG4gIGlzQmxvYjogaXNCbG9iLFxuICBpc0Z1bmN0aW9uOiBpc0Z1bmN0aW9uLFxuICBpc1N0cmVhbTogaXNTdHJlYW0sXG4gIGlzVVJMU2VhcmNoUGFyYW1zOiBpc1VSTFNlYXJjaFBhcmFtcyxcbiAgaXNTdGFuZGFyZEJyb3dzZXJFbnY6IGlzU3RhbmRhcmRCcm93c2VyRW52LFxuICBmb3JFYWNoOiBmb3JFYWNoLFxuICBtZXJnZTogbWVyZ2UsXG4gIHRyaW06IHRyaW1cbn07XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9heGlvcy9saWIvdXRpbHMuanNcbiAqKiBtb2R1bGUgaWQgPSAxXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG4oZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgIH1cbn0gKCkpXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcHJvY2Vzcy9icm93c2VyLmpzXG4gKiogbW9kdWxlIGlkID0gMlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG52YXIgYnVpbGRVUkwgPSByZXF1aXJlKCcuLy4uL2hlbHBlcnMvYnVpbGRVUkwnKTtcbnZhciBwYXJzZUhlYWRlcnMgPSByZXF1aXJlKCcuLy4uL2hlbHBlcnMvcGFyc2VIZWFkZXJzJyk7XG52YXIgdHJhbnNmb3JtRGF0YSA9IHJlcXVpcmUoJy4vLi4vaGVscGVycy90cmFuc2Zvcm1EYXRhJyk7XG52YXIgaXNVUkxTYW1lT3JpZ2luID0gcmVxdWlyZSgnLi8uLi9oZWxwZXJzL2lzVVJMU2FtZU9yaWdpbicpO1xudmFyIGJ0b2EgPSAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmJ0b2EpIHx8IHJlcXVpcmUoJy4vLi4vaGVscGVycy9idG9hJyk7XG52YXIgc2V0dGxlID0gcmVxdWlyZSgnLi4vaGVscGVycy9zZXR0bGUnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB4aHJBZGFwdGVyKHJlc29sdmUsIHJlamVjdCwgY29uZmlnKSB7XG4gIHZhciByZXF1ZXN0RGF0YSA9IGNvbmZpZy5kYXRhO1xuICB2YXIgcmVxdWVzdEhlYWRlcnMgPSBjb25maWcuaGVhZGVycztcblxuICBpZiAodXRpbHMuaXNGb3JtRGF0YShyZXF1ZXN0RGF0YSkpIHtcbiAgICBkZWxldGUgcmVxdWVzdEhlYWRlcnNbJ0NvbnRlbnQtVHlwZSddOyAvLyBMZXQgdGhlIGJyb3dzZXIgc2V0IGl0XG4gIH1cblxuICB2YXIgcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICB2YXIgbG9hZEV2ZW50ID0gJ29ucmVhZHlzdGF0ZWNoYW5nZSc7XG4gIHZhciB4RG9tYWluID0gZmFsc2U7XG5cbiAgLy8gRm9yIElFIDgvOSBDT1JTIHN1cHBvcnRcbiAgLy8gT25seSBzdXBwb3J0cyBQT1NUIGFuZCBHRVQgY2FsbHMgYW5kIGRvZXNuJ3QgcmV0dXJucyB0aGUgcmVzcG9uc2UgaGVhZGVycy5cbiAgLy8gRE9OJ1QgZG8gdGhpcyBmb3IgdGVzdGluZyBiL2MgWE1MSHR0cFJlcXVlc3QgaXMgbW9ja2VkLCBub3QgWERvbWFpblJlcXVlc3QuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Rlc3QnICYmIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5YRG9tYWluUmVxdWVzdCAmJiAhKCd3aXRoQ3JlZGVudGlhbHMnIGluIHJlcXVlc3QpICYmICFpc1VSTFNhbWVPcmlnaW4oY29uZmlnLnVybCkpIHtcbiAgICByZXF1ZXN0ID0gbmV3IHdpbmRvdy5YRG9tYWluUmVxdWVzdCgpO1xuICAgIGxvYWRFdmVudCA9ICdvbmxvYWQnO1xuICAgIHhEb21haW4gPSB0cnVlO1xuICAgIHJlcXVlc3Qub25wcm9ncmVzcyA9IGZ1bmN0aW9uIGhhbmRsZVByb2dyZXNzKCkge307XG4gICAgcmVxdWVzdC5vbnRpbWVvdXQgPSBmdW5jdGlvbiBoYW5kbGVUaW1lb3V0KCkge307XG4gIH1cblxuICAvLyBIVFRQIGJhc2ljIGF1dGhlbnRpY2F0aW9uXG4gIGlmIChjb25maWcuYXV0aCkge1xuICAgIHZhciB1c2VybmFtZSA9IGNvbmZpZy5hdXRoLnVzZXJuYW1lIHx8ICcnO1xuICAgIHZhciBwYXNzd29yZCA9IGNvbmZpZy5hdXRoLnBhc3N3b3JkIHx8ICcnO1xuICAgIHJlcXVlc3RIZWFkZXJzLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArIGJ0b2EodXNlcm5hbWUgKyAnOicgKyBwYXNzd29yZCk7XG4gIH1cblxuICByZXF1ZXN0Lm9wZW4oY29uZmlnLm1ldGhvZC50b1VwcGVyQ2FzZSgpLCBidWlsZFVSTChjb25maWcudXJsLCBjb25maWcucGFyYW1zLCBjb25maWcucGFyYW1zU2VyaWFsaXplciksIHRydWUpO1xuXG4gIC8vIFNldCB0aGUgcmVxdWVzdCB0aW1lb3V0IGluIE1TXG4gIHJlcXVlc3QudGltZW91dCA9IGNvbmZpZy50aW1lb3V0O1xuXG4gIC8vIExpc3RlbiBmb3IgcmVhZHkgc3RhdGVcbiAgcmVxdWVzdFtsb2FkRXZlbnRdID0gZnVuY3Rpb24gaGFuZGxlTG9hZCgpIHtcbiAgICBpZiAoIXJlcXVlc3QgfHwgKHJlcXVlc3QucmVhZHlTdGF0ZSAhPT0gNCAmJiAheERvbWFpbikpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBUaGUgcmVxdWVzdCBlcnJvcmVkIG91dCBhbmQgd2UgZGlkbid0IGdldCBhIHJlc3BvbnNlLCB0aGlzIHdpbGwgYmVcbiAgICAvLyBoYW5kbGVkIGJ5IG9uZXJyb3IgaW5zdGVhZFxuICAgIGlmIChyZXF1ZXN0LnN0YXR1cyA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFByZXBhcmUgdGhlIHJlc3BvbnNlXG4gICAgdmFyIHJlc3BvbnNlSGVhZGVycyA9ICdnZXRBbGxSZXNwb25zZUhlYWRlcnMnIGluIHJlcXVlc3QgPyBwYXJzZUhlYWRlcnMocmVxdWVzdC5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSkgOiBudWxsO1xuICAgIHZhciByZXNwb25zZURhdGEgPSAhY29uZmlnLnJlc3BvbnNlVHlwZSB8fCBjb25maWcucmVzcG9uc2VUeXBlID09PSAndGV4dCcgPyByZXF1ZXN0LnJlc3BvbnNlVGV4dCA6IHJlcXVlc3QucmVzcG9uc2U7XG4gICAgdmFyIHJlc3BvbnNlID0ge1xuICAgICAgZGF0YTogdHJhbnNmb3JtRGF0YShcbiAgICAgICAgcmVzcG9uc2VEYXRhLFxuICAgICAgICByZXNwb25zZUhlYWRlcnMsXG4gICAgICAgIGNvbmZpZy50cmFuc2Zvcm1SZXNwb25zZVxuICAgICAgKSxcbiAgICAgIC8vIElFIHNlbmRzIDEyMjMgaW5zdGVhZCBvZiAyMDQgKGh0dHBzOi8vZ2l0aHViLmNvbS9temFicmlza2llL2F4aW9zL2lzc3Vlcy8yMDEpXG4gICAgICBzdGF0dXM6IHJlcXVlc3Quc3RhdHVzID09PSAxMjIzID8gMjA0IDogcmVxdWVzdC5zdGF0dXMsXG4gICAgICBzdGF0dXNUZXh0OiByZXF1ZXN0LnN0YXR1cyA9PT0gMTIyMyA/ICdObyBDb250ZW50JyA6IHJlcXVlc3Quc3RhdHVzVGV4dCxcbiAgICAgIGhlYWRlcnM6IHJlc3BvbnNlSGVhZGVycyxcbiAgICAgIGNvbmZpZzogY29uZmlnLFxuICAgICAgcmVxdWVzdDogcmVxdWVzdFxuICAgIH07XG5cbiAgICBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCByZXNwb25zZSk7XG5cbiAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG4gICAgcmVxdWVzdCA9IG51bGw7XG4gIH07XG5cbiAgLy8gSGFuZGxlIGxvdyBsZXZlbCBuZXR3b3JrIGVycm9yc1xuICByZXF1ZXN0Lm9uZXJyb3IgPSBmdW5jdGlvbiBoYW5kbGVFcnJvcigpIHtcbiAgICAvLyBSZWFsIGVycm9ycyBhcmUgaGlkZGVuIGZyb20gdXMgYnkgdGhlIGJyb3dzZXJcbiAgICAvLyBvbmVycm9yIHNob3VsZCBvbmx5IGZpcmUgaWYgaXQncyBhIG5ldHdvcmsgZXJyb3JcbiAgICByZWplY3QobmV3IEVycm9yKCdOZXR3b3JrIEVycm9yJykpO1xuXG4gICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgIHJlcXVlc3QgPSBudWxsO1xuICB9O1xuXG4gIC8vIEhhbmRsZSB0aW1lb3V0XG4gIHJlcXVlc3Qub250aW1lb3V0ID0gZnVuY3Rpb24gaGFuZGxlVGltZW91dCgpIHtcbiAgICB2YXIgZXJyID0gbmV3IEVycm9yKCd0aW1lb3V0IG9mICcgKyBjb25maWcudGltZW91dCArICdtcyBleGNlZWRlZCcpO1xuICAgIGVyci50aW1lb3V0ID0gY29uZmlnLnRpbWVvdXQ7XG4gICAgZXJyLmNvZGUgPSAnRUNPTk5BQk9SVEVEJztcbiAgICByZWplY3QoZXJyKTtcblxuICAgIC8vIENsZWFuIHVwIHJlcXVlc3RcbiAgICByZXF1ZXN0ID0gbnVsbDtcbiAgfTtcblxuICAvLyBBZGQgeHNyZiBoZWFkZXJcbiAgLy8gVGhpcyBpcyBvbmx5IGRvbmUgaWYgcnVubmluZyBpbiBhIHN0YW5kYXJkIGJyb3dzZXIgZW52aXJvbm1lbnQuXG4gIC8vIFNwZWNpZmljYWxseSBub3QgaWYgd2UncmUgaW4gYSB3ZWIgd29ya2VyLCBvciByZWFjdC1uYXRpdmUuXG4gIGlmICh1dGlscy5pc1N0YW5kYXJkQnJvd3NlckVudigpKSB7XG4gICAgdmFyIGNvb2tpZXMgPSByZXF1aXJlKCcuLy4uL2hlbHBlcnMvY29va2llcycpO1xuXG4gICAgLy8gQWRkIHhzcmYgaGVhZGVyXG4gICAgdmFyIHhzcmZWYWx1ZSA9IGNvbmZpZy53aXRoQ3JlZGVudGlhbHMgfHwgaXNVUkxTYW1lT3JpZ2luKGNvbmZpZy51cmwpID9cbiAgICAgICAgY29va2llcy5yZWFkKGNvbmZpZy54c3JmQ29va2llTmFtZSkgOlxuICAgICAgICB1bmRlZmluZWQ7XG5cbiAgICBpZiAoeHNyZlZhbHVlKSB7XG4gICAgICByZXF1ZXN0SGVhZGVyc1tjb25maWcueHNyZkhlYWRlck5hbWVdID0geHNyZlZhbHVlO1xuICAgIH1cbiAgfVxuXG4gIC8vIEFkZCBoZWFkZXJzIHRvIHRoZSByZXF1ZXN0XG4gIGlmICgnc2V0UmVxdWVzdEhlYWRlcicgaW4gcmVxdWVzdCkge1xuICAgIHV0aWxzLmZvckVhY2gocmVxdWVzdEhlYWRlcnMsIGZ1bmN0aW9uIHNldFJlcXVlc3RIZWFkZXIodmFsLCBrZXkpIHtcbiAgICAgIGlmICh0eXBlb2YgcmVxdWVzdERhdGEgPT09ICd1bmRlZmluZWQnICYmIGtleS50b0xvd2VyQ2FzZSgpID09PSAnY29udGVudC10eXBlJykge1xuICAgICAgICAvLyBSZW1vdmUgQ29udGVudC1UeXBlIGlmIGRhdGEgaXMgdW5kZWZpbmVkXG4gICAgICAgIGRlbGV0ZSByZXF1ZXN0SGVhZGVyc1trZXldO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gT3RoZXJ3aXNlIGFkZCBoZWFkZXIgdG8gdGhlIHJlcXVlc3RcbiAgICAgICAgcmVxdWVzdC5zZXRSZXF1ZXN0SGVhZGVyKGtleSwgdmFsKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8vIEFkZCB3aXRoQ3JlZGVudGlhbHMgdG8gcmVxdWVzdCBpZiBuZWVkZWRcbiAgaWYgKGNvbmZpZy53aXRoQ3JlZGVudGlhbHMpIHtcbiAgICByZXF1ZXN0LndpdGhDcmVkZW50aWFscyA9IHRydWU7XG4gIH1cblxuICAvLyBBZGQgcmVzcG9uc2VUeXBlIHRvIHJlcXVlc3QgaWYgbmVlZGVkXG4gIGlmIChjb25maWcucmVzcG9uc2VUeXBlKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJlcXVlc3QucmVzcG9uc2VUeXBlID0gY29uZmlnLnJlc3BvbnNlVHlwZTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBpZiAocmVxdWVzdC5yZXNwb25zZVR5cGUgIT09ICdqc29uJykge1xuICAgICAgICB0aHJvdyBlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIEhhbmRsZSBwcm9ncmVzcyBpZiBuZWVkZWRcbiAgaWYgKGNvbmZpZy5wcm9ncmVzcykge1xuICAgIGlmIChjb25maWcubWV0aG9kID09PSAncG9zdCcgfHwgY29uZmlnLm1ldGhvZCA9PT0gJ3B1dCcpIHtcbiAgICAgIHJlcXVlc3QudXBsb2FkLmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgY29uZmlnLnByb2dyZXNzKTtcbiAgICB9IGVsc2UgaWYgKGNvbmZpZy5tZXRob2QgPT09ICdnZXQnKSB7XG4gICAgICByZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgY29uZmlnLnByb2dyZXNzKTtcbiAgICB9XG4gIH1cblxuICBpZiAocmVxdWVzdERhdGEgPT09IHVuZGVmaW5lZCkge1xuICAgIHJlcXVlc3REYXRhID0gbnVsbDtcbiAgfVxuXG4gIC8vIFNlbmQgdGhlIHJlcXVlc3RcbiAgcmVxdWVzdC5zZW5kKHJlcXVlc3REYXRhKTtcbn07XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9heGlvcy9saWIvYWRhcHRlcnMveGhyLmpzXG4gKiogbW9kdWxlIGlkID0gM1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG5cbi8qKlxuICogVHJhbnNmb3JtIHRoZSBkYXRhIGZvciBhIHJlcXVlc3Qgb3IgYSByZXNwb25zZVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fFN0cmluZ30gZGF0YSBUaGUgZGF0YSB0byBiZSB0cmFuc2Zvcm1lZFxuICogQHBhcmFtIHtBcnJheX0gaGVhZGVycyBUaGUgaGVhZGVycyBmb3IgdGhlIHJlcXVlc3Qgb3IgcmVzcG9uc2VcbiAqIEBwYXJhbSB7QXJyYXl8RnVuY3Rpb259IGZucyBBIHNpbmdsZSBmdW5jdGlvbiBvciBBcnJheSBvZiBmdW5jdGlvbnNcbiAqIEByZXR1cm5zIHsqfSBUaGUgcmVzdWx0aW5nIHRyYW5zZm9ybWVkIGRhdGFcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB0cmFuc2Zvcm1EYXRhKGRhdGEsIGhlYWRlcnMsIGZucykge1xuICAvKmVzbGludCBuby1wYXJhbS1yZWFzc2lnbjowKi9cbiAgdXRpbHMuZm9yRWFjaChmbnMsIGZ1bmN0aW9uIHRyYW5zZm9ybShmbikge1xuICAgIGRhdGEgPSBmbihkYXRhLCBoZWFkZXJzKTtcbiAgfSk7XG5cbiAgcmV0dXJuIGRhdGE7XG59O1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYXhpb3MvbGliL2hlbHBlcnMvdHJhbnNmb3JtRGF0YS5qc1xuICoqIG1vZHVsZSBpZCA9IDRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9saWIvYXhpb3MnKTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9heGlvcy9pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxudmFyIGRlZmF1bHRzID0gcmVxdWlyZSgnLi9kZWZhdWx0cycpO1xudmFyIHV0aWxzID0gcmVxdWlyZSgnLi91dGlscycpO1xudmFyIGRpc3BhdGNoUmVxdWVzdCA9IHJlcXVpcmUoJy4vY29yZS9kaXNwYXRjaFJlcXVlc3QnKTtcbnZhciBJbnRlcmNlcHRvck1hbmFnZXIgPSByZXF1aXJlKCcuL2NvcmUvSW50ZXJjZXB0b3JNYW5hZ2VyJyk7XG52YXIgaXNBYnNvbHV0ZVVSTCA9IHJlcXVpcmUoJy4vaGVscGVycy9pc0Fic29sdXRlVVJMJyk7XG52YXIgY29tYmluZVVSTHMgPSByZXF1aXJlKCcuL2hlbHBlcnMvY29tYmluZVVSTHMnKTtcbnZhciBiaW5kID0gcmVxdWlyZSgnLi9oZWxwZXJzL2JpbmQnKTtcbnZhciB0cmFuc2Zvcm1EYXRhID0gcmVxdWlyZSgnLi9oZWxwZXJzL3RyYW5zZm9ybURhdGEnKTtcblxuZnVuY3Rpb24gQXhpb3MoZGVmYXVsdENvbmZpZykge1xuICB0aGlzLmRlZmF1bHRzID0gdXRpbHMubWVyZ2Uoe30sIGRlZmF1bHRDb25maWcpO1xuICB0aGlzLmludGVyY2VwdG9ycyA9IHtcbiAgICByZXF1ZXN0OiBuZXcgSW50ZXJjZXB0b3JNYW5hZ2VyKCksXG4gICAgcmVzcG9uc2U6IG5ldyBJbnRlcmNlcHRvck1hbmFnZXIoKVxuICB9O1xufVxuXG5BeGlvcy5wcm90b3R5cGUucmVxdWVzdCA9IGZ1bmN0aW9uIHJlcXVlc3QoY29uZmlnKSB7XG4gIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICAvLyBBbGxvdyBmb3IgYXhpb3MoJ2V4YW1wbGUvdXJsJ1ssIGNvbmZpZ10pIGEgbGEgZmV0Y2ggQVBJXG4gIGlmICh0eXBlb2YgY29uZmlnID09PSAnc3RyaW5nJykge1xuICAgIGNvbmZpZyA9IHV0aWxzLm1lcmdlKHtcbiAgICAgIHVybDogYXJndW1lbnRzWzBdXG4gICAgfSwgYXJndW1lbnRzWzFdKTtcbiAgfVxuXG4gIGNvbmZpZyA9IHV0aWxzLm1lcmdlKGRlZmF1bHRzLCB0aGlzLmRlZmF1bHRzLCB7IG1ldGhvZDogJ2dldCcgfSwgY29uZmlnKTtcblxuICAvLyBTdXBwb3J0IGJhc2VVUkwgY29uZmlnXG4gIGlmIChjb25maWcuYmFzZVVSTCAmJiAhaXNBYnNvbHV0ZVVSTChjb25maWcudXJsKSkge1xuICAgIGNvbmZpZy51cmwgPSBjb21iaW5lVVJMcyhjb25maWcuYmFzZVVSTCwgY29uZmlnLnVybCk7XG4gIH1cblxuICAvLyBEb24ndCBhbGxvdyBvdmVycmlkaW5nIGRlZmF1bHRzLndpdGhDcmVkZW50aWFsc1xuICBjb25maWcud2l0aENyZWRlbnRpYWxzID0gY29uZmlnLndpdGhDcmVkZW50aWFscyB8fCB0aGlzLmRlZmF1bHRzLndpdGhDcmVkZW50aWFscztcblxuICAvLyBUcmFuc2Zvcm0gcmVxdWVzdCBkYXRhXG4gIGNvbmZpZy5kYXRhID0gdHJhbnNmb3JtRGF0YShcbiAgICBjb25maWcuZGF0YSxcbiAgICBjb25maWcuaGVhZGVycyxcbiAgICBjb25maWcudHJhbnNmb3JtUmVxdWVzdFxuICApO1xuXG4gIC8vIEZsYXR0ZW4gaGVhZGVyc1xuICBjb25maWcuaGVhZGVycyA9IHV0aWxzLm1lcmdlKFxuICAgIGNvbmZpZy5oZWFkZXJzLmNvbW1vbiB8fCB7fSxcbiAgICBjb25maWcuaGVhZGVyc1tjb25maWcubWV0aG9kXSB8fCB7fSxcbiAgICBjb25maWcuaGVhZGVycyB8fCB7fVxuICApO1xuXG4gIHV0aWxzLmZvckVhY2goXG4gICAgWydkZWxldGUnLCAnZ2V0JywgJ2hlYWQnLCAncG9zdCcsICdwdXQnLCAncGF0Y2gnLCAnY29tbW9uJ10sXG4gICAgZnVuY3Rpb24gY2xlYW5IZWFkZXJDb25maWcobWV0aG9kKSB7XG4gICAgICBkZWxldGUgY29uZmlnLmhlYWRlcnNbbWV0aG9kXTtcbiAgICB9XG4gICk7XG5cbiAgLy8gSG9vayB1cCBpbnRlcmNlcHRvcnMgbWlkZGxld2FyZVxuICB2YXIgY2hhaW4gPSBbZGlzcGF0Y2hSZXF1ZXN0LCB1bmRlZmluZWRdO1xuICB2YXIgcHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZShjb25maWcpO1xuXG4gIHRoaXMuaW50ZXJjZXB0b3JzLnJlcXVlc3QuZm9yRWFjaChmdW5jdGlvbiB1bnNoaWZ0UmVxdWVzdEludGVyY2VwdG9ycyhpbnRlcmNlcHRvcikge1xuICAgIGNoYWluLnVuc2hpZnQoaW50ZXJjZXB0b3IuZnVsZmlsbGVkLCBpbnRlcmNlcHRvci5yZWplY3RlZCk7XG4gIH0pO1xuXG4gIHRoaXMuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLmZvckVhY2goZnVuY3Rpb24gcHVzaFJlc3BvbnNlSW50ZXJjZXB0b3JzKGludGVyY2VwdG9yKSB7XG4gICAgY2hhaW4ucHVzaChpbnRlcmNlcHRvci5mdWxmaWxsZWQsIGludGVyY2VwdG9yLnJlamVjdGVkKTtcbiAgfSk7XG5cbiAgd2hpbGUgKGNoYWluLmxlbmd0aCkge1xuICAgIHByb21pc2UgPSBwcm9taXNlLnRoZW4oY2hhaW4uc2hpZnQoKSwgY2hhaW4uc2hpZnQoKSk7XG4gIH1cblxuICByZXR1cm4gcHJvbWlzZTtcbn07XG5cbnZhciBkZWZhdWx0SW5zdGFuY2UgPSBuZXcgQXhpb3MoZGVmYXVsdHMpO1xudmFyIGF4aW9zID0gbW9kdWxlLmV4cG9ydHMgPSBiaW5kKEF4aW9zLnByb3RvdHlwZS5yZXF1ZXN0LCBkZWZhdWx0SW5zdGFuY2UpO1xuYXhpb3MucmVxdWVzdCA9IGJpbmQoQXhpb3MucHJvdG90eXBlLnJlcXVlc3QsIGRlZmF1bHRJbnN0YW5jZSk7XG5cbi8vIEV4cG9zZSBBeGlvcyBjbGFzcyB0byBhbGxvdyBjbGFzcyBpbmhlcml0YW5jZVxuYXhpb3MuQXhpb3MgPSBBeGlvcztcblxuLy8gRXhwb3NlIHByb3BlcnRpZXMgZnJvbSBkZWZhdWx0SW5zdGFuY2VcbmF4aW9zLmRlZmF1bHRzID0gZGVmYXVsdEluc3RhbmNlLmRlZmF1bHRzO1xuYXhpb3MuaW50ZXJjZXB0b3JzID0gZGVmYXVsdEluc3RhbmNlLmludGVyY2VwdG9ycztcblxuLy8gRmFjdG9yeSBmb3IgY3JlYXRpbmcgbmV3IGluc3RhbmNlc1xuYXhpb3MuY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKGRlZmF1bHRDb25maWcpIHtcbiAgcmV0dXJuIG5ldyBBeGlvcyhkZWZhdWx0Q29uZmlnKTtcbn07XG5cbi8vIEV4cG9zZSBhbGwvc3ByZWFkXG5heGlvcy5hbGwgPSBmdW5jdGlvbiBhbGwocHJvbWlzZXMpIHtcbiAgcmV0dXJuIFByb21pc2UuYWxsKHByb21pc2VzKTtcbn07XG5heGlvcy5zcHJlYWQgPSByZXF1aXJlKCcuL2hlbHBlcnMvc3ByZWFkJyk7XG5cbi8vIFByb3ZpZGUgYWxpYXNlcyBmb3Igc3VwcG9ydGVkIHJlcXVlc3QgbWV0aG9kc1xudXRpbHMuZm9yRWFjaChbJ2RlbGV0ZScsICdnZXQnLCAnaGVhZCddLCBmdW5jdGlvbiBmb3JFYWNoTWV0aG9kTm9EYXRhKG1ldGhvZCkge1xuICAvKmVzbGludCBmdW5jLW5hbWVzOjAqL1xuICBBeGlvcy5wcm90b3R5cGVbbWV0aG9kXSA9IGZ1bmN0aW9uKHVybCwgY29uZmlnKSB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdCh1dGlscy5tZXJnZShjb25maWcgfHwge30sIHtcbiAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgdXJsOiB1cmxcbiAgICB9KSk7XG4gIH07XG4gIGF4aW9zW21ldGhvZF0gPSBiaW5kKEF4aW9zLnByb3RvdHlwZVttZXRob2RdLCBkZWZhdWx0SW5zdGFuY2UpO1xufSk7XG5cbnV0aWxzLmZvckVhY2goWydwb3N0JywgJ3B1dCcsICdwYXRjaCddLCBmdW5jdGlvbiBmb3JFYWNoTWV0aG9kV2l0aERhdGEobWV0aG9kKSB7XG4gIC8qZXNsaW50IGZ1bmMtbmFtZXM6MCovXG4gIEF4aW9zLnByb3RvdHlwZVttZXRob2RdID0gZnVuY3Rpb24odXJsLCBkYXRhLCBjb25maWcpIHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KHV0aWxzLm1lcmdlKGNvbmZpZyB8fCB7fSwge1xuICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICB1cmw6IHVybCxcbiAgICAgIGRhdGE6IGRhdGFcbiAgICB9KSk7XG4gIH07XG4gIGF4aW9zW21ldGhvZF0gPSBiaW5kKEF4aW9zLnByb3RvdHlwZVttZXRob2RdLCBkZWZhdWx0SW5zdGFuY2UpO1xufSk7XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9heGlvcy9saWIvYXhpb3MuanNcbiAqKiBtb2R1bGUgaWQgPSA2XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcblxuZnVuY3Rpb24gSW50ZXJjZXB0b3JNYW5hZ2VyKCkge1xuICB0aGlzLmhhbmRsZXJzID0gW107XG59XG5cbi8qKlxuICogQWRkIGEgbmV3IGludGVyY2VwdG9yIHRvIHRoZSBzdGFja1xuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bGZpbGxlZCBUaGUgZnVuY3Rpb24gdG8gaGFuZGxlIGB0aGVuYCBmb3IgYSBgUHJvbWlzZWBcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHJlamVjdGVkIFRoZSBmdW5jdGlvbiB0byBoYW5kbGUgYHJlamVjdGAgZm9yIGEgYFByb21pc2VgXG4gKlxuICogQHJldHVybiB7TnVtYmVyfSBBbiBJRCB1c2VkIHRvIHJlbW92ZSBpbnRlcmNlcHRvciBsYXRlclxuICovXG5JbnRlcmNlcHRvck1hbmFnZXIucHJvdG90eXBlLnVzZSA9IGZ1bmN0aW9uIHVzZShmdWxmaWxsZWQsIHJlamVjdGVkKSB7XG4gIHRoaXMuaGFuZGxlcnMucHVzaCh7XG4gICAgZnVsZmlsbGVkOiBmdWxmaWxsZWQsXG4gICAgcmVqZWN0ZWQ6IHJlamVjdGVkXG4gIH0pO1xuICByZXR1cm4gdGhpcy5oYW5kbGVycy5sZW5ndGggLSAxO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgYW4gaW50ZXJjZXB0b3IgZnJvbSB0aGUgc3RhY2tcbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gaWQgVGhlIElEIHRoYXQgd2FzIHJldHVybmVkIGJ5IGB1c2VgXG4gKi9cbkludGVyY2VwdG9yTWFuYWdlci5wcm90b3R5cGUuZWplY3QgPSBmdW5jdGlvbiBlamVjdChpZCkge1xuICBpZiAodGhpcy5oYW5kbGVyc1tpZF0pIHtcbiAgICB0aGlzLmhhbmRsZXJzW2lkXSA9IG51bGw7XG4gIH1cbn07XG5cbi8qKlxuICogSXRlcmF0ZSBvdmVyIGFsbCB0aGUgcmVnaXN0ZXJlZCBpbnRlcmNlcHRvcnNcbiAqXG4gKiBUaGlzIG1ldGhvZCBpcyBwYXJ0aWN1bGFybHkgdXNlZnVsIGZvciBza2lwcGluZyBvdmVyIGFueVxuICogaW50ZXJjZXB0b3JzIHRoYXQgbWF5IGhhdmUgYmVjb21lIGBudWxsYCBjYWxsaW5nIGBlamVjdGAuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGZ1bmN0aW9uIHRvIGNhbGwgZm9yIGVhY2ggaW50ZXJjZXB0b3JcbiAqL1xuSW50ZXJjZXB0b3JNYW5hZ2VyLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gZm9yRWFjaChmbikge1xuICB1dGlscy5mb3JFYWNoKHRoaXMuaGFuZGxlcnMsIGZ1bmN0aW9uIGZvckVhY2hIYW5kbGVyKGgpIHtcbiAgICBpZiAoaCAhPT0gbnVsbCkge1xuICAgICAgZm4oaCk7XG4gICAgfVxuICB9KTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gSW50ZXJjZXB0b3JNYW5hZ2VyO1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYXhpb3MvbGliL2NvcmUvSW50ZXJjZXB0b3JNYW5hZ2VyLmpzXG4gKiogbW9kdWxlIGlkID0gN1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIERpc3BhdGNoIGEgcmVxdWVzdCB0byB0aGUgc2VydmVyIHVzaW5nIHdoaWNoZXZlciBhZGFwdGVyXG4gKiBpcyBzdXBwb3J0ZWQgYnkgdGhlIGN1cnJlbnQgZW52aXJvbm1lbnQuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IGNvbmZpZyBUaGUgY29uZmlnIHRoYXQgaXMgdG8gYmUgdXNlZCBmb3IgdGhlIHJlcXVlc3RcbiAqIEByZXR1cm5zIHtQcm9taXNlfSBUaGUgUHJvbWlzZSB0byBiZSBmdWxmaWxsZWRcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBkaXNwYXRjaFJlcXVlc3QoY29uZmlnKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiBleGVjdXRvcihyZXNvbHZlLCByZWplY3QpIHtcbiAgICB0cnkge1xuICAgICAgdmFyIGFkYXB0ZXI7XG5cbiAgICAgIGlmICh0eXBlb2YgY29uZmlnLmFkYXB0ZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgLy8gRm9yIGN1c3RvbSBhZGFwdGVyIHN1cHBvcnRcbiAgICAgICAgYWRhcHRlciA9IGNvbmZpZy5hZGFwdGVyO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgWE1MSHR0cFJlcXVlc3QgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIC8vIEZvciBicm93c2VycyB1c2UgWEhSIGFkYXB0ZXJcbiAgICAgICAgYWRhcHRlciA9IHJlcXVpcmUoJy4uL2FkYXB0ZXJzL3hocicpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgLy8gRm9yIG5vZGUgdXNlIEhUVFAgYWRhcHRlclxuICAgICAgICBhZGFwdGVyID0gcmVxdWlyZSgnLi4vYWRhcHRlcnMvaHR0cCcpO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIGFkYXB0ZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgYWRhcHRlcihyZXNvbHZlLCByZWplY3QsIGNvbmZpZyk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmVqZWN0KGUpO1xuICAgIH1cbiAgfSk7XG59O1xuXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9heGlvcy9saWIvY29yZS9kaXNwYXRjaFJlcXVlc3QuanNcbiAqKiBtb2R1bGUgaWQgPSA4XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vdXRpbHMnKTtcbnZhciBub3JtYWxpemVIZWFkZXJOYW1lID0gcmVxdWlyZSgnLi9oZWxwZXJzL25vcm1hbGl6ZUhlYWRlck5hbWUnKTtcblxudmFyIFBST1RFQ1RJT05fUFJFRklYID0gL15cXClcXF1cXH0nLD9cXG4vO1xudmFyIERFRkFVTFRfQ09OVEVOVF9UWVBFID0ge1xuICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCdcbn07XG5cbmZ1bmN0aW9uIHNldENvbnRlbnRUeXBlSWZVbnNldChoZWFkZXJzLCB2YWx1ZSkge1xuICBpZiAoIXV0aWxzLmlzVW5kZWZpbmVkKGhlYWRlcnMpICYmIHV0aWxzLmlzVW5kZWZpbmVkKGhlYWRlcnNbJ0NvbnRlbnQtVHlwZSddKSkge1xuICAgIGhlYWRlcnNbJ0NvbnRlbnQtVHlwZSddID0gdmFsdWU7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHRyYW5zZm9ybVJlcXVlc3Q6IFtmdW5jdGlvbiB0cmFuc2Zvcm1SZXF1ZXN0KGRhdGEsIGhlYWRlcnMpIHtcbiAgICBub3JtYWxpemVIZWFkZXJOYW1lKGhlYWRlcnMsICdDb250ZW50LVR5cGUnKTtcbiAgICBpZiAodXRpbHMuaXNGb3JtRGF0YShkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNBcnJheUJ1ZmZlcihkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNTdHJlYW0oZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzRmlsZShkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNCbG9iKGRhdGEpXG4gICAgKSB7XG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG4gICAgaWYgKHV0aWxzLmlzQXJyYXlCdWZmZXJWaWV3KGRhdGEpKSB7XG4gICAgICByZXR1cm4gZGF0YS5idWZmZXI7XG4gICAgfVxuICAgIGlmICh1dGlscy5pc1VSTFNlYXJjaFBhcmFtcyhkYXRhKSkge1xuICAgICAgc2V0Q29udGVudFR5cGVJZlVuc2V0KGhlYWRlcnMsICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD11dGYtOCcpO1xuICAgICAgcmV0dXJuIGRhdGEudG9TdHJpbmcoKTtcbiAgICB9XG4gICAgaWYgKHV0aWxzLmlzT2JqZWN0KGRhdGEpKSB7XG4gICAgICBzZXRDb250ZW50VHlwZUlmVW5zZXQoaGVhZGVycywgJ2FwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtOCcpO1xuICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGRhdGEpO1xuICAgIH1cbiAgICByZXR1cm4gZGF0YTtcbiAgfV0sXG5cbiAgdHJhbnNmb3JtUmVzcG9uc2U6IFtmdW5jdGlvbiB0cmFuc2Zvcm1SZXNwb25zZShkYXRhKSB7XG4gICAgLyplc2xpbnQgbm8tcGFyYW0tcmVhc3NpZ246MCovXG4gICAgaWYgKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJykge1xuICAgICAgZGF0YSA9IGRhdGEucmVwbGFjZShQUk9URUNUSU9OX1BSRUZJWCwgJycpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgZGF0YSA9IEpTT04ucGFyc2UoZGF0YSk7XG4gICAgICB9IGNhdGNoIChlKSB7IC8qIElnbm9yZSAqLyB9XG4gICAgfVxuICAgIHJldHVybiBkYXRhO1xuICB9XSxcblxuICBoZWFkZXJzOiB7XG4gICAgY29tbW9uOiB7XG4gICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24sIHRleHQvcGxhaW4sICovKidcbiAgICB9LFxuICAgIHBhdGNoOiB1dGlscy5tZXJnZShERUZBVUxUX0NPTlRFTlRfVFlQRSksXG4gICAgcG9zdDogdXRpbHMubWVyZ2UoREVGQVVMVF9DT05URU5UX1RZUEUpLFxuICAgIHB1dDogdXRpbHMubWVyZ2UoREVGQVVMVF9DT05URU5UX1RZUEUpXG4gIH0sXG5cbiAgdGltZW91dDogMCxcblxuICB4c3JmQ29va2llTmFtZTogJ1hTUkYtVE9LRU4nLFxuICB4c3JmSGVhZGVyTmFtZTogJ1gtWFNSRi1UT0tFTicsXG5cbiAgbWF4Q29udGVudExlbmd0aDogLTEsXG5cbiAgdmFsaWRhdGVTdGF0dXM6IGZ1bmN0aW9uIHZhbGlkYXRlU3RhdHVzKHN0YXR1cykge1xuICAgIHJldHVybiBzdGF0dXMgPj0gMjAwICYmIHN0YXR1cyA8IDMwMDtcbiAgfVxufTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2F4aW9zL2xpYi9kZWZhdWx0cy5qc1xuICoqIG1vZHVsZSBpZCA9IDlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBiaW5kKGZuLCB0aGlzQXJnKSB7XG4gIHJldHVybiBmdW5jdGlvbiB3cmFwKCkge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xuICAgICAgYXJnc1tpXSA9IGFyZ3VtZW50c1tpXTtcbiAgICB9XG4gICAgcmV0dXJuIGZuLmFwcGx5KHRoaXNBcmcsIGFyZ3MpO1xuICB9O1xufTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2F4aW9zL2xpYi9oZWxwZXJzL2JpbmQuanNcbiAqKiBtb2R1bGUgaWQgPSAxMFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG4vLyBidG9hIHBvbHlmaWxsIGZvciBJRTwxMCBjb3VydGVzeSBodHRwczovL2dpdGh1Yi5jb20vZGF2aWRjaGFtYmVycy9CYXNlNjQuanNcblxudmFyIGNoYXJzID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky89JztcblxuZnVuY3Rpb24gRSgpIHtcbiAgdGhpcy5tZXNzYWdlID0gJ1N0cmluZyBjb250YWlucyBhbiBpbnZhbGlkIGNoYXJhY3Rlcic7XG59XG5FLnByb3RvdHlwZSA9IG5ldyBFcnJvcjtcbkUucHJvdG90eXBlLmNvZGUgPSA1O1xuRS5wcm90b3R5cGUubmFtZSA9ICdJbnZhbGlkQ2hhcmFjdGVyRXJyb3InO1xuXG5mdW5jdGlvbiBidG9hKGlucHV0KSB7XG4gIHZhciBzdHIgPSBTdHJpbmcoaW5wdXQpO1xuICB2YXIgb3V0cHV0ID0gJyc7XG4gIGZvciAoXG4gICAgLy8gaW5pdGlhbGl6ZSByZXN1bHQgYW5kIGNvdW50ZXJcbiAgICB2YXIgYmxvY2ssIGNoYXJDb2RlLCBpZHggPSAwLCBtYXAgPSBjaGFycztcbiAgICAvLyBpZiB0aGUgbmV4dCBzdHIgaW5kZXggZG9lcyBub3QgZXhpc3Q6XG4gICAgLy8gICBjaGFuZ2UgdGhlIG1hcHBpbmcgdGFibGUgdG8gXCI9XCJcbiAgICAvLyAgIGNoZWNrIGlmIGQgaGFzIG5vIGZyYWN0aW9uYWwgZGlnaXRzXG4gICAgc3RyLmNoYXJBdChpZHggfCAwKSB8fCAobWFwID0gJz0nLCBpZHggJSAxKTtcbiAgICAvLyBcIjggLSBpZHggJSAxICogOFwiIGdlbmVyYXRlcyB0aGUgc2VxdWVuY2UgMiwgNCwgNiwgOFxuICAgIG91dHB1dCArPSBtYXAuY2hhckF0KDYzICYgYmxvY2sgPj4gOCAtIGlkeCAlIDEgKiA4KVxuICApIHtcbiAgICBjaGFyQ29kZSA9IHN0ci5jaGFyQ29kZUF0KGlkeCArPSAzIC8gNCk7XG4gICAgaWYgKGNoYXJDb2RlID4gMHhGRikge1xuICAgICAgdGhyb3cgbmV3IEUoKTtcbiAgICB9XG4gICAgYmxvY2sgPSBibG9jayA8PCA4IHwgY2hhckNvZGU7XG4gIH1cbiAgcmV0dXJuIG91dHB1dDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBidG9hO1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYXhpb3MvbGliL2hlbHBlcnMvYnRvYS5qc1xuICoqIG1vZHVsZSBpZCA9IDExXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcblxuZnVuY3Rpb24gZW5jb2RlKHZhbCkge1xuICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHZhbCkuXG4gICAgcmVwbGFjZSgvJTQwL2dpLCAnQCcpLlxuICAgIHJlcGxhY2UoLyUzQS9naSwgJzonKS5cbiAgICByZXBsYWNlKC8lMjQvZywgJyQnKS5cbiAgICByZXBsYWNlKC8lMkMvZ2ksICcsJykuXG4gICAgcmVwbGFjZSgvJTIwL2csICcrJykuXG4gICAgcmVwbGFjZSgvJTVCL2dpLCAnWycpLlxuICAgIHJlcGxhY2UoLyU1RC9naSwgJ10nKTtcbn1cblxuLyoqXG4gKiBCdWlsZCBhIFVSTCBieSBhcHBlbmRpbmcgcGFyYW1zIHRvIHRoZSBlbmRcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIFRoZSBiYXNlIG9mIHRoZSB1cmwgKGUuZy4sIGh0dHA6Ly93d3cuZ29vZ2xlLmNvbSlcbiAqIEBwYXJhbSB7b2JqZWN0fSBbcGFyYW1zXSBUaGUgcGFyYW1zIHRvIGJlIGFwcGVuZGVkXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgZm9ybWF0dGVkIHVybFxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGJ1aWxkVVJMKHVybCwgcGFyYW1zLCBwYXJhbXNTZXJpYWxpemVyKSB7XG4gIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICBpZiAoIXBhcmFtcykge1xuICAgIHJldHVybiB1cmw7XG4gIH1cblxuICB2YXIgc2VyaWFsaXplZFBhcmFtcztcbiAgaWYgKHBhcmFtc1NlcmlhbGl6ZXIpIHtcbiAgICBzZXJpYWxpemVkUGFyYW1zID0gcGFyYW1zU2VyaWFsaXplcihwYXJhbXMpO1xuICB9IGVsc2UgaWYgKHV0aWxzLmlzVVJMU2VhcmNoUGFyYW1zKHBhcmFtcykpIHtcbiAgICBzZXJpYWxpemVkUGFyYW1zID0gcGFyYW1zLnRvU3RyaW5nKCk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHBhcnRzID0gW107XG5cbiAgICB1dGlscy5mb3JFYWNoKHBhcmFtcywgZnVuY3Rpb24gc2VyaWFsaXplKHZhbCwga2V5KSB7XG4gICAgICBpZiAodmFsID09PSBudWxsIHx8IHR5cGVvZiB2YWwgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHV0aWxzLmlzQXJyYXkodmFsKSkge1xuICAgICAgICBrZXkgPSBrZXkgKyAnW10nO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXV0aWxzLmlzQXJyYXkodmFsKSkge1xuICAgICAgICB2YWwgPSBbdmFsXTtcbiAgICAgIH1cblxuICAgICAgdXRpbHMuZm9yRWFjaCh2YWwsIGZ1bmN0aW9uIHBhcnNlVmFsdWUodikge1xuICAgICAgICBpZiAodXRpbHMuaXNEYXRlKHYpKSB7XG4gICAgICAgICAgdiA9IHYudG9JU09TdHJpbmcoKTtcbiAgICAgICAgfSBlbHNlIGlmICh1dGlscy5pc09iamVjdCh2KSkge1xuICAgICAgICAgIHYgPSBKU09OLnN0cmluZ2lmeSh2KTtcbiAgICAgICAgfVxuICAgICAgICBwYXJ0cy5wdXNoKGVuY29kZShrZXkpICsgJz0nICsgZW5jb2RlKHYpKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgc2VyaWFsaXplZFBhcmFtcyA9IHBhcnRzLmpvaW4oJyYnKTtcbiAgfVxuXG4gIGlmIChzZXJpYWxpemVkUGFyYW1zKSB7XG4gICAgdXJsICs9ICh1cmwuaW5kZXhPZignPycpID09PSAtMSA/ICc/JyA6ICcmJykgKyBzZXJpYWxpemVkUGFyYW1zO1xuICB9XG5cbiAgcmV0dXJuIHVybDtcbn07XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9heGlvcy9saWIvaGVscGVycy9idWlsZFVSTC5qc1xuICoqIG1vZHVsZSBpZCA9IDEyXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBVUkwgYnkgY29tYmluaW5nIHRoZSBzcGVjaWZpZWQgVVJMc1xuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBiYXNlVVJMIFRoZSBiYXNlIFVSTFxuICogQHBhcmFtIHtzdHJpbmd9IHJlbGF0aXZlVVJMIFRoZSByZWxhdGl2ZSBVUkxcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBjb21iaW5lZCBVUkxcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjb21iaW5lVVJMcyhiYXNlVVJMLCByZWxhdGl2ZVVSTCkge1xuICByZXR1cm4gYmFzZVVSTC5yZXBsYWNlKC9cXC8rJC8sICcnKSArICcvJyArIHJlbGF0aXZlVVJMLnJlcGxhY2UoL15cXC8rLywgJycpO1xufTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2F4aW9zL2xpYi9oZWxwZXJzL2NvbWJpbmVVUkxzLmpzXG4gKiogbW9kdWxlIGlkID0gMTNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IChcbiAgdXRpbHMuaXNTdGFuZGFyZEJyb3dzZXJFbnYoKSA/XG5cbiAgLy8gU3RhbmRhcmQgYnJvd3NlciBlbnZzIHN1cHBvcnQgZG9jdW1lbnQuY29va2llXG4gIChmdW5jdGlvbiBzdGFuZGFyZEJyb3dzZXJFbnYoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHdyaXRlOiBmdW5jdGlvbiB3cml0ZShuYW1lLCB2YWx1ZSwgZXhwaXJlcywgcGF0aCwgZG9tYWluLCBzZWN1cmUpIHtcbiAgICAgICAgdmFyIGNvb2tpZSA9IFtdO1xuICAgICAgICBjb29raWUucHVzaChuYW1lICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKSk7XG5cbiAgICAgICAgaWYgKHV0aWxzLmlzTnVtYmVyKGV4cGlyZXMpKSB7XG4gICAgICAgICAgY29va2llLnB1c2goJ2V4cGlyZXM9JyArIG5ldyBEYXRlKGV4cGlyZXMpLnRvR01UU3RyaW5nKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHV0aWxzLmlzU3RyaW5nKHBhdGgpKSB7XG4gICAgICAgICAgY29va2llLnB1c2goJ3BhdGg9JyArIHBhdGgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHV0aWxzLmlzU3RyaW5nKGRvbWFpbikpIHtcbiAgICAgICAgICBjb29raWUucHVzaCgnZG9tYWluPScgKyBkb21haW4pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNlY3VyZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgIGNvb2tpZS5wdXNoKCdzZWN1cmUnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRvY3VtZW50LmNvb2tpZSA9IGNvb2tpZS5qb2luKCc7ICcpO1xuICAgICAgfSxcblxuICAgICAgcmVhZDogZnVuY3Rpb24gcmVhZChuYW1lKSB7XG4gICAgICAgIHZhciBtYXRjaCA9IGRvY3VtZW50LmNvb2tpZS5tYXRjaChuZXcgUmVnRXhwKCcoXnw7XFxcXHMqKSgnICsgbmFtZSArICcpPShbXjtdKiknKSk7XG4gICAgICAgIHJldHVybiAobWF0Y2ggPyBkZWNvZGVVUklDb21wb25lbnQobWF0Y2hbM10pIDogbnVsbCk7XG4gICAgICB9LFxuXG4gICAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZShuYW1lKSB7XG4gICAgICAgIHRoaXMud3JpdGUobmFtZSwgJycsIERhdGUubm93KCkgLSA4NjQwMDAwMCk7XG4gICAgICB9XG4gICAgfTtcbiAgfSkoKSA6XG5cbiAgLy8gTm9uIHN0YW5kYXJkIGJyb3dzZXIgZW52ICh3ZWIgd29ya2VycywgcmVhY3QtbmF0aXZlKSBsYWNrIG5lZWRlZCBzdXBwb3J0LlxuICAoZnVuY3Rpb24gbm9uU3RhbmRhcmRCcm93c2VyRW52KCkge1xuICAgIHJldHVybiB7XG4gICAgICB3cml0ZTogZnVuY3Rpb24gd3JpdGUoKSB7fSxcbiAgICAgIHJlYWQ6IGZ1bmN0aW9uIHJlYWQoKSB7IHJldHVybiBudWxsOyB9LFxuICAgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7fVxuICAgIH07XG4gIH0pKClcbik7XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9heGlvcy9saWIvaGVscGVycy9jb29raWVzLmpzXG4gKiogbW9kdWxlIGlkID0gMTRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBEZXRlcm1pbmVzIHdoZXRoZXIgdGhlIHNwZWNpZmllZCBVUkwgaXMgYWJzb2x1dGVcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIFRoZSBVUkwgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIHNwZWNpZmllZCBVUkwgaXMgYWJzb2x1dGUsIG90aGVyd2lzZSBmYWxzZVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGlzQWJzb2x1dGVVUkwodXJsKSB7XG4gIC8vIEEgVVJMIGlzIGNvbnNpZGVyZWQgYWJzb2x1dGUgaWYgaXQgYmVnaW5zIHdpdGggXCI8c2NoZW1lPjovL1wiIG9yIFwiLy9cIiAocHJvdG9jb2wtcmVsYXRpdmUgVVJMKS5cbiAgLy8gUkZDIDM5ODYgZGVmaW5lcyBzY2hlbWUgbmFtZSBhcyBhIHNlcXVlbmNlIG9mIGNoYXJhY3RlcnMgYmVnaW5uaW5nIHdpdGggYSBsZXR0ZXIgYW5kIGZvbGxvd2VkXG4gIC8vIGJ5IGFueSBjb21iaW5hdGlvbiBvZiBsZXR0ZXJzLCBkaWdpdHMsIHBsdXMsIHBlcmlvZCwgb3IgaHlwaGVuLlxuICByZXR1cm4gL14oW2Etel1bYS16XFxkXFwrXFwtXFwuXSo6KT9cXC9cXC8vaS50ZXN0KHVybCk7XG59O1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYXhpb3MvbGliL2hlbHBlcnMvaXNBYnNvbHV0ZVVSTC5qc1xuICoqIG1vZHVsZSBpZCA9IDE1XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSAoXG4gIHV0aWxzLmlzU3RhbmRhcmRCcm93c2VyRW52KCkgP1xuXG4gIC8vIFN0YW5kYXJkIGJyb3dzZXIgZW52cyBoYXZlIGZ1bGwgc3VwcG9ydCBvZiB0aGUgQVBJcyBuZWVkZWQgdG8gdGVzdFxuICAvLyB3aGV0aGVyIHRoZSByZXF1ZXN0IFVSTCBpcyBvZiB0aGUgc2FtZSBvcmlnaW4gYXMgY3VycmVudCBsb2NhdGlvbi5cbiAgKGZ1bmN0aW9uIHN0YW5kYXJkQnJvd3NlckVudigpIHtcbiAgICB2YXIgbXNpZSA9IC8obXNpZXx0cmlkZW50KS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4gICAgdmFyIHVybFBhcnNpbmdOb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgIHZhciBvcmlnaW5VUkw7XG5cbiAgICAvKipcbiAgICAqIFBhcnNlIGEgVVJMIHRvIGRpc2NvdmVyIGl0J3MgY29tcG9uZW50c1xuICAgICpcbiAgICAqIEBwYXJhbSB7U3RyaW5nfSB1cmwgVGhlIFVSTCB0byBiZSBwYXJzZWRcbiAgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAgKi9cbiAgICBmdW5jdGlvbiByZXNvbHZlVVJMKHVybCkge1xuICAgICAgdmFyIGhyZWYgPSB1cmw7XG5cbiAgICAgIGlmIChtc2llKSB7XG4gICAgICAgIC8vIElFIG5lZWRzIGF0dHJpYnV0ZSBzZXQgdHdpY2UgdG8gbm9ybWFsaXplIHByb3BlcnRpZXNcbiAgICAgICAgdXJsUGFyc2luZ05vZGUuc2V0QXR0cmlidXRlKCdocmVmJywgaHJlZik7XG4gICAgICAgIGhyZWYgPSB1cmxQYXJzaW5nTm9kZS5ocmVmO1xuICAgICAgfVxuXG4gICAgICB1cmxQYXJzaW5nTm9kZS5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBocmVmKTtcblxuICAgICAgLy8gdXJsUGFyc2luZ05vZGUgcHJvdmlkZXMgdGhlIFVybFV0aWxzIGludGVyZmFjZSAtIGh0dHA6Ly91cmwuc3BlYy53aGF0d2cub3JnLyN1cmx1dGlsc1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaHJlZjogdXJsUGFyc2luZ05vZGUuaHJlZixcbiAgICAgICAgcHJvdG9jb2w6IHVybFBhcnNpbmdOb2RlLnByb3RvY29sID8gdXJsUGFyc2luZ05vZGUucHJvdG9jb2wucmVwbGFjZSgvOiQvLCAnJykgOiAnJyxcbiAgICAgICAgaG9zdDogdXJsUGFyc2luZ05vZGUuaG9zdCxcbiAgICAgICAgc2VhcmNoOiB1cmxQYXJzaW5nTm9kZS5zZWFyY2ggPyB1cmxQYXJzaW5nTm9kZS5zZWFyY2gucmVwbGFjZSgvXlxcPy8sICcnKSA6ICcnLFxuICAgICAgICBoYXNoOiB1cmxQYXJzaW5nTm9kZS5oYXNoID8gdXJsUGFyc2luZ05vZGUuaGFzaC5yZXBsYWNlKC9eIy8sICcnKSA6ICcnLFxuICAgICAgICBob3N0bmFtZTogdXJsUGFyc2luZ05vZGUuaG9zdG5hbWUsXG4gICAgICAgIHBvcnQ6IHVybFBhcnNpbmdOb2RlLnBvcnQsXG4gICAgICAgIHBhdGhuYW1lOiAodXJsUGFyc2luZ05vZGUucGF0aG5hbWUuY2hhckF0KDApID09PSAnLycpID9cbiAgICAgICAgICAgICAgICAgIHVybFBhcnNpbmdOb2RlLnBhdGhuYW1lIDpcbiAgICAgICAgICAgICAgICAgICcvJyArIHVybFBhcnNpbmdOb2RlLnBhdGhuYW1lXG4gICAgICB9O1xuICAgIH1cblxuICAgIG9yaWdpblVSTCA9IHJlc29sdmVVUkwod2luZG93LmxvY2F0aW9uLmhyZWYpO1xuXG4gICAgLyoqXG4gICAgKiBEZXRlcm1pbmUgaWYgYSBVUkwgc2hhcmVzIHRoZSBzYW1lIG9yaWdpbiBhcyB0aGUgY3VycmVudCBsb2NhdGlvblxuICAgICpcbiAgICAqIEBwYXJhbSB7U3RyaW5nfSByZXF1ZXN0VVJMIFRoZSBVUkwgdG8gdGVzdFxuICAgICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgVVJMIHNoYXJlcyB0aGUgc2FtZSBvcmlnaW4sIG90aGVyd2lzZSBmYWxzZVxuICAgICovXG4gICAgcmV0dXJuIGZ1bmN0aW9uIGlzVVJMU2FtZU9yaWdpbihyZXF1ZXN0VVJMKSB7XG4gICAgICB2YXIgcGFyc2VkID0gKHV0aWxzLmlzU3RyaW5nKHJlcXVlc3RVUkwpKSA/IHJlc29sdmVVUkwocmVxdWVzdFVSTCkgOiByZXF1ZXN0VVJMO1xuICAgICAgcmV0dXJuIChwYXJzZWQucHJvdG9jb2wgPT09IG9yaWdpblVSTC5wcm90b2NvbCAmJlxuICAgICAgICAgICAgcGFyc2VkLmhvc3QgPT09IG9yaWdpblVSTC5ob3N0KTtcbiAgICB9O1xuICB9KSgpIDpcblxuICAvLyBOb24gc3RhbmRhcmQgYnJvd3NlciBlbnZzICh3ZWIgd29ya2VycywgcmVhY3QtbmF0aXZlKSBsYWNrIG5lZWRlZCBzdXBwb3J0LlxuICAoZnVuY3Rpb24gbm9uU3RhbmRhcmRCcm93c2VyRW52KCkge1xuICAgIHJldHVybiBmdW5jdGlvbiBpc1VSTFNhbWVPcmlnaW4oKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICB9KSgpXG4pO1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYXhpb3MvbGliL2hlbHBlcnMvaXNVUkxTYW1lT3JpZ2luLmpzXG4gKiogbW9kdWxlIGlkID0gMTZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBub3JtYWxpemVIZWFkZXJOYW1lKGhlYWRlcnMsIG5vcm1hbGl6ZWROYW1lKSB7XG4gIHV0aWxzLmZvckVhY2goaGVhZGVycywgZnVuY3Rpb24gcHJvY2Vzc0hlYWRlcih2YWx1ZSwgbmFtZSkge1xuICAgIGlmIChuYW1lICE9PSBub3JtYWxpemVkTmFtZSAmJiBuYW1lLnRvVXBwZXJDYXNlKCkgPT09IG5vcm1hbGl6ZWROYW1lLnRvVXBwZXJDYXNlKCkpIHtcbiAgICAgIGhlYWRlcnNbbm9ybWFsaXplZE5hbWVdID0gdmFsdWU7XG4gICAgICBkZWxldGUgaGVhZGVyc1tuYW1lXTtcbiAgICB9XG4gIH0pO1xufTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2F4aW9zL2xpYi9oZWxwZXJzL25vcm1hbGl6ZUhlYWRlck5hbWUuanNcbiAqKiBtb2R1bGUgaWQgPSAxN1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG5cbi8qKlxuICogUGFyc2UgaGVhZGVycyBpbnRvIGFuIG9iamVjdFxuICpcbiAqIGBgYFxuICogRGF0ZTogV2VkLCAyNyBBdWcgMjAxNCAwODo1ODo0OSBHTVRcbiAqIENvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vanNvblxuICogQ29ubmVjdGlvbjoga2VlcC1hbGl2ZVxuICogVHJhbnNmZXItRW5jb2Rpbmc6IGNodW5rZWRcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBoZWFkZXJzIEhlYWRlcnMgbmVlZGluZyB0byBiZSBwYXJzZWRcbiAqIEByZXR1cm5zIHtPYmplY3R9IEhlYWRlcnMgcGFyc2VkIGludG8gYW4gb2JqZWN0XG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gcGFyc2VIZWFkZXJzKGhlYWRlcnMpIHtcbiAgdmFyIHBhcnNlZCA9IHt9O1xuICB2YXIga2V5O1xuICB2YXIgdmFsO1xuICB2YXIgaTtcblxuICBpZiAoIWhlYWRlcnMpIHsgcmV0dXJuIHBhcnNlZDsgfVxuXG4gIHV0aWxzLmZvckVhY2goaGVhZGVycy5zcGxpdCgnXFxuJyksIGZ1bmN0aW9uIHBhcnNlcihsaW5lKSB7XG4gICAgaSA9IGxpbmUuaW5kZXhPZignOicpO1xuICAgIGtleSA9IHV0aWxzLnRyaW0obGluZS5zdWJzdHIoMCwgaSkpLnRvTG93ZXJDYXNlKCk7XG4gICAgdmFsID0gdXRpbHMudHJpbShsaW5lLnN1YnN0cihpICsgMSkpO1xuXG4gICAgaWYgKGtleSkge1xuICAgICAgcGFyc2VkW2tleV0gPSBwYXJzZWRba2V5XSA/IHBhcnNlZFtrZXldICsgJywgJyArIHZhbCA6IHZhbDtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBwYXJzZWQ7XG59O1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYXhpb3MvbGliL2hlbHBlcnMvcGFyc2VIZWFkZXJzLmpzXG4gKiogbW9kdWxlIGlkID0gMThcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBSZXNvbHZlIG9yIHJlamVjdCBhIFByb21pc2UgYmFzZWQgb24gcmVzcG9uc2Ugc3RhdHVzLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHJlc29sdmUgQSBmdW5jdGlvbiB0aGF0IHJlc29sdmVzIHRoZSBwcm9taXNlLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcmVqZWN0IEEgZnVuY3Rpb24gdGhhdCByZWplY3RzIHRoZSBwcm9taXNlLlxuICogQHBhcmFtIHtvYmplY3R9IHJlc3BvbnNlIFRoZSByZXNwb25zZS5cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCByZXNwb25zZSkge1xuICB2YXIgdmFsaWRhdGVTdGF0dXMgPSByZXNwb25zZS5jb25maWcudmFsaWRhdGVTdGF0dXM7XG4gIC8vIE5vdGU6IHN0YXR1cyBpcyBub3QgZXhwb3NlZCBieSBYRG9tYWluUmVxdWVzdFxuICBpZiAoIXJlc3BvbnNlLnN0YXR1cyB8fCAhdmFsaWRhdGVTdGF0dXMgfHwgdmFsaWRhdGVTdGF0dXMocmVzcG9uc2Uuc3RhdHVzKSkge1xuICAgIHJlc29sdmUocmVzcG9uc2UpO1xuICB9IGVsc2Uge1xuICAgIHJlamVjdChyZXNwb25zZSk7XG4gIH1cbn07XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9heGlvcy9saWIvaGVscGVycy9zZXR0bGUuanNcbiAqKiBtb2R1bGUgaWQgPSAxOVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIFN5bnRhY3RpYyBzdWdhciBmb3IgaW52b2tpbmcgYSBmdW5jdGlvbiBhbmQgZXhwYW5kaW5nIGFuIGFycmF5IGZvciBhcmd1bWVudHMuXG4gKlxuICogQ29tbW9uIHVzZSBjYXNlIHdvdWxkIGJlIHRvIHVzZSBgRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5YC5cbiAqXG4gKiAgYGBganNcbiAqICBmdW5jdGlvbiBmKHgsIHksIHopIHt9XG4gKiAgdmFyIGFyZ3MgPSBbMSwgMiwgM107XG4gKiAgZi5hcHBseShudWxsLCBhcmdzKTtcbiAqICBgYGBcbiAqXG4gKiBXaXRoIGBzcHJlYWRgIHRoaXMgZXhhbXBsZSBjYW4gYmUgcmUtd3JpdHRlbi5cbiAqXG4gKiAgYGBganNcbiAqICBzcHJlYWQoZnVuY3Rpb24oeCwgeSwgeikge30pKFsxLCAyLCAzXSk7XG4gKiAgYGBgXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqIEByZXR1cm5zIHtGdW5jdGlvbn1cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBzcHJlYWQoY2FsbGJhY2spIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIHdyYXAoYXJyKSB7XG4gICAgcmV0dXJuIGNhbGxiYWNrLmFwcGx5KG51bGwsIGFycik7XG4gIH07XG59O1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYXhpb3MvbGliL2hlbHBlcnMvc3ByZWFkLmpzXG4gKiogbW9kdWxlIGlkID0gMjBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8qIVxuICogQG92ZXJ2aWV3IGVzNi1wcm9taXNlIC0gYSB0aW55IGltcGxlbWVudGF0aW9uIG9mIFByb21pc2VzL0ErLlxuICogQGNvcHlyaWdodCBDb3B5cmlnaHQgKGMpIDIwMTQgWWVodWRhIEthdHosIFRvbSBEYWxlLCBTdGVmYW4gUGVubmVyIGFuZCBjb250cmlidXRvcnMgKENvbnZlcnNpb24gdG8gRVM2IEFQSSBieSBKYWtlIEFyY2hpYmFsZClcbiAqIEBsaWNlbnNlICAgTGljZW5zZWQgdW5kZXIgTUlUIGxpY2Vuc2VcbiAqICAgICAgICAgICAgU2VlIGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9qYWtlYXJjaGliYWxkL2VzNi1wcm9taXNlL21hc3Rlci9MSUNFTlNFXG4gKiBAdmVyc2lvbiAgIDMuMi4xXG4gKi9cblxuKGZ1bmN0aW9uKCkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSR1dGlscyQkb2JqZWN0T3JGdW5jdGlvbih4KSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHggPT09ICdmdW5jdGlvbicgfHwgKHR5cGVvZiB4ID09PSAnb2JqZWN0JyAmJiB4ICE9PSBudWxsKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkdXRpbHMkJGlzRnVuY3Rpb24oeCkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB4ID09PSAnZnVuY3Rpb24nO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSR1dGlscyQkaXNNYXliZVRoZW5hYmxlKHgpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgeCA9PT0gJ29iamVjdCcgJiYgeCAhPT0gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJHV0aWxzJCRfaXNBcnJheTtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkpIHtcbiAgICAgIGxpYiRlczYkcHJvbWlzZSR1dGlscyQkX2lzQXJyYXkgPSBmdW5jdGlvbiAoeCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHgpID09PSAnW29iamVjdCBBcnJheV0nO1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGliJGVzNiRwcm9taXNlJHV0aWxzJCRfaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG4gICAgfVxuXG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSR1dGlscyQkaXNBcnJheSA9IGxpYiRlczYkcHJvbWlzZSR1dGlscyQkX2lzQXJyYXk7XG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRsZW4gPSAwO1xuICAgIHZhciBsaWIkZXM2JHByb21pc2UkYXNhcCQkdmVydHhOZXh0O1xuICAgIHZhciBsaWIkZXM2JHByb21pc2UkYXNhcCQkY3VzdG9tU2NoZWR1bGVyRm47XG5cbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJGFzYXAkJGFzYXAgPSBmdW5jdGlvbiBhc2FwKGNhbGxiYWNrLCBhcmcpIHtcbiAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRxdWV1ZVtsaWIkZXM2JHByb21pc2UkYXNhcCQkbGVuXSA9IGNhbGxiYWNrO1xuICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJHF1ZXVlW2xpYiRlczYkcHJvbWlzZSRhc2FwJCRsZW4gKyAxXSA9IGFyZztcbiAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRsZW4gKz0gMjtcbiAgICAgIGlmIChsaWIkZXM2JHByb21pc2UkYXNhcCQkbGVuID09PSAyKSB7XG4gICAgICAgIC8vIElmIGxlbiBpcyAyLCB0aGF0IG1lYW5zIHRoYXQgd2UgbmVlZCB0byBzY2hlZHVsZSBhbiBhc3luYyBmbHVzaC5cbiAgICAgICAgLy8gSWYgYWRkaXRpb25hbCBjYWxsYmFja3MgYXJlIHF1ZXVlZCBiZWZvcmUgdGhlIHF1ZXVlIGlzIGZsdXNoZWQsIHRoZXlcbiAgICAgICAgLy8gd2lsbCBiZSBwcm9jZXNzZWQgYnkgdGhpcyBmbHVzaCB0aGF0IHdlIGFyZSBzY2hlZHVsaW5nLlxuICAgICAgICBpZiAobGliJGVzNiRwcm9taXNlJGFzYXAkJGN1c3RvbVNjaGVkdWxlckZuKSB7XG4gICAgICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJGN1c3RvbVNjaGVkdWxlckZuKGxpYiRlczYkcHJvbWlzZSRhc2FwJCRmbHVzaCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJHNjaGVkdWxlRmx1c2goKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRzZXRTY2hlZHVsZXIoc2NoZWR1bGVGbikge1xuICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJGN1c3RvbVNjaGVkdWxlckZuID0gc2NoZWR1bGVGbjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkYXNhcCQkc2V0QXNhcChhc2FwRm4pIHtcbiAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRhc2FwID0gYXNhcEZuO1xuICAgIH1cblxuICAgIHZhciBsaWIkZXM2JHByb21pc2UkYXNhcCQkYnJvd3NlcldpbmRvdyA9ICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykgPyB3aW5kb3cgOiB1bmRlZmluZWQ7XG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRicm93c2VyR2xvYmFsID0gbGliJGVzNiRwcm9taXNlJGFzYXAkJGJyb3dzZXJXaW5kb3cgfHwge307XG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRCcm93c2VyTXV0YXRpb25PYnNlcnZlciA9IGxpYiRlczYkcHJvbWlzZSRhc2FwJCRicm93c2VyR2xvYmFsLk11dGF0aW9uT2JzZXJ2ZXIgfHwgbGliJGVzNiRwcm9taXNlJGFzYXAkJGJyb3dzZXJHbG9iYWwuV2ViS2l0TXV0YXRpb25PYnNlcnZlcjtcbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJGFzYXAkJGlzTm9kZSA9IHR5cGVvZiBzZWxmID09PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYge30udG9TdHJpbmcuY2FsbChwcm9jZXNzKSA9PT0gJ1tvYmplY3QgcHJvY2Vzc10nO1xuXG4gICAgLy8gdGVzdCBmb3Igd2ViIHdvcmtlciBidXQgbm90IGluIElFMTBcbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJGFzYXAkJGlzV29ya2VyID0gdHlwZW9mIFVpbnQ4Q2xhbXBlZEFycmF5ICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgdHlwZW9mIGltcG9ydFNjcmlwdHMgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICB0eXBlb2YgTWVzc2FnZUNoYW5uZWwgIT09ICd1bmRlZmluZWQnO1xuXG4gICAgLy8gbm9kZVxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSRhc2FwJCR1c2VOZXh0VGljaygpIHtcbiAgICAgIC8vIG5vZGUgdmVyc2lvbiAwLjEwLnggZGlzcGxheXMgYSBkZXByZWNhdGlvbiB3YXJuaW5nIHdoZW4gbmV4dFRpY2sgaXMgdXNlZCByZWN1cnNpdmVseVxuICAgICAgLy8gc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9jdWpvanMvd2hlbi9pc3N1ZXMvNDEwIGZvciBkZXRhaWxzXG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIHByb2Nlc3MubmV4dFRpY2sobGliJGVzNiRwcm9taXNlJGFzYXAkJGZsdXNoKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gdmVydHhcbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkYXNhcCQkdXNlVmVydHhUaW1lcigpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJHZlcnR4TmV4dChsaWIkZXM2JHByb21pc2UkYXNhcCQkZmx1c2gpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkYXNhcCQkdXNlTXV0YXRpb25PYnNlcnZlcigpIHtcbiAgICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICAgIHZhciBvYnNlcnZlciA9IG5ldyBsaWIkZXM2JHByb21pc2UkYXNhcCQkQnJvd3Nlck11dGF0aW9uT2JzZXJ2ZXIobGliJGVzNiRwcm9taXNlJGFzYXAkJGZsdXNoKTtcbiAgICAgIHZhciBub2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpO1xuICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShub2RlLCB7IGNoYXJhY3RlckRhdGE6IHRydWUgfSk7XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgbm9kZS5kYXRhID0gKGl0ZXJhdGlvbnMgPSArK2l0ZXJhdGlvbnMgJSAyKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gd2ViIHdvcmtlclxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSRhc2FwJCR1c2VNZXNzYWdlQ2hhbm5lbCgpIHtcbiAgICAgIHZhciBjaGFubmVsID0gbmV3IE1lc3NhZ2VDaGFubmVsKCk7XG4gICAgICBjaGFubmVsLnBvcnQxLm9ubWVzc2FnZSA9IGxpYiRlczYkcHJvbWlzZSRhc2FwJCRmbHVzaDtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNoYW5uZWwucG9ydDIucG9zdE1lc3NhZ2UoMCk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSRhc2FwJCR1c2VTZXRUaW1lb3V0KCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICBzZXRUaW1lb3V0KGxpYiRlczYkcHJvbWlzZSRhc2FwJCRmbHVzaCwgMSk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIHZhciBsaWIkZXM2JHByb21pc2UkYXNhcCQkcXVldWUgPSBuZXcgQXJyYXkoMTAwMCk7XG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJGFzYXAkJGZsdXNoKCkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaWIkZXM2JHByb21pc2UkYXNhcCQkbGVuOyBpKz0yKSB7XG4gICAgICAgIHZhciBjYWxsYmFjayA9IGxpYiRlczYkcHJvbWlzZSRhc2FwJCRxdWV1ZVtpXTtcbiAgICAgICAgdmFyIGFyZyA9IGxpYiRlczYkcHJvbWlzZSRhc2FwJCRxdWV1ZVtpKzFdO1xuXG4gICAgICAgIGNhbGxiYWNrKGFyZyk7XG5cbiAgICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJHF1ZXVlW2ldID0gdW5kZWZpbmVkO1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkYXNhcCQkcXVldWVbaSsxXSA9IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJGxlbiA9IDA7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJGFzYXAkJGF0dGVtcHRWZXJ0eCgpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciByID0gcmVxdWlyZTtcbiAgICAgICAgdmFyIHZlcnR4ID0gcigndmVydHgnKTtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJHZlcnR4TmV4dCA9IHZlcnR4LnJ1bk9uTG9vcCB8fCB2ZXJ0eC5ydW5PbkNvbnRleHQ7XG4gICAgICAgIHJldHVybiBsaWIkZXM2JHByb21pc2UkYXNhcCQkdXNlVmVydHhUaW1lcigpO1xuICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgIHJldHVybiBsaWIkZXM2JHByb21pc2UkYXNhcCQkdXNlU2V0VGltZW91dCgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBsaWIkZXM2JHByb21pc2UkYXNhcCQkc2NoZWR1bGVGbHVzaDtcbiAgICAvLyBEZWNpZGUgd2hhdCBhc3luYyBtZXRob2QgdG8gdXNlIHRvIHRyaWdnZXJpbmcgcHJvY2Vzc2luZyBvZiBxdWV1ZWQgY2FsbGJhY2tzOlxuICAgIGlmIChsaWIkZXM2JHByb21pc2UkYXNhcCQkaXNOb2RlKSB7XG4gICAgICBsaWIkZXM2JHByb21pc2UkYXNhcCQkc2NoZWR1bGVGbHVzaCA9IGxpYiRlczYkcHJvbWlzZSRhc2FwJCR1c2VOZXh0VGljaygpO1xuICAgIH0gZWxzZSBpZiAobGliJGVzNiRwcm9taXNlJGFzYXAkJEJyb3dzZXJNdXRhdGlvbk9ic2VydmVyKSB7XG4gICAgICBsaWIkZXM2JHByb21pc2UkYXNhcCQkc2NoZWR1bGVGbHVzaCA9IGxpYiRlczYkcHJvbWlzZSRhc2FwJCR1c2VNdXRhdGlvbk9ic2VydmVyKCk7XG4gICAgfSBlbHNlIGlmIChsaWIkZXM2JHByb21pc2UkYXNhcCQkaXNXb3JrZXIpIHtcbiAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRzY2hlZHVsZUZsdXNoID0gbGliJGVzNiRwcm9taXNlJGFzYXAkJHVzZU1lc3NhZ2VDaGFubmVsKCk7XG4gICAgfSBlbHNlIGlmIChsaWIkZXM2JHByb21pc2UkYXNhcCQkYnJvd3NlcldpbmRvdyA9PT0gdW5kZWZpbmVkICYmIHR5cGVvZiByZXF1aXJlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBsaWIkZXM2JHByb21pc2UkYXNhcCQkc2NoZWR1bGVGbHVzaCA9IGxpYiRlczYkcHJvbWlzZSRhc2FwJCRhdHRlbXB0VmVydHgoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJHNjaGVkdWxlRmx1c2ggPSBsaWIkZXM2JHByb21pc2UkYXNhcCQkdXNlU2V0VGltZW91dCgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkdGhlbiQkdGhlbihvbkZ1bGZpbGxtZW50LCBvblJlamVjdGlvbikge1xuICAgICAgdmFyIHBhcmVudCA9IHRoaXM7XG5cbiAgICAgIHZhciBjaGlsZCA9IG5ldyB0aGlzLmNvbnN0cnVjdG9yKGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJG5vb3ApO1xuXG4gICAgICBpZiAoY2hpbGRbbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkUFJPTUlTRV9JRF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRtYWtlUHJvbWlzZShjaGlsZCk7XG4gICAgICB9XG5cbiAgICAgIHZhciBzdGF0ZSA9IHBhcmVudC5fc3RhdGU7XG5cbiAgICAgIGlmIChzdGF0ZSkge1xuICAgICAgICB2YXIgY2FsbGJhY2sgPSBhcmd1bWVudHNbc3RhdGUgLSAxXTtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJGFzYXAoZnVuY3Rpb24oKXtcbiAgICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRpbnZva2VDYWxsYmFjayhzdGF0ZSwgY2hpbGQsIGNhbGxiYWNrLCBwYXJlbnQuX3Jlc3VsdCk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkc3Vic2NyaWJlKHBhcmVudCwgY2hpbGQsIG9uRnVsZmlsbG1lbnQsIG9uUmVqZWN0aW9uKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNoaWxkO1xuICAgIH1cbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJHRoZW4kJGRlZmF1bHQgPSBsaWIkZXM2JHByb21pc2UkdGhlbiQkdGhlbjtcbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSRyZXNvbHZlJCRyZXNvbHZlKG9iamVjdCkge1xuICAgICAgLypqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi9cbiAgICAgIHZhciBDb25zdHJ1Y3RvciA9IHRoaXM7XG5cbiAgICAgIGlmIChvYmplY3QgJiYgdHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCcgJiYgb2JqZWN0LmNvbnN0cnVjdG9yID09PSBDb25zdHJ1Y3Rvcikge1xuICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgfVxuXG4gICAgICB2YXIgcHJvbWlzZSA9IG5ldyBDb25zdHJ1Y3RvcihsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRub29wKTtcbiAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlc29sdmUocHJvbWlzZSwgb2JqZWN0KTtcbiAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH1cbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJHByb21pc2UkcmVzb2x2ZSQkZGVmYXVsdCA9IGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJHJlc29sdmUkJHJlc29sdmU7XG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFBST01JU0VfSUQgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMTYpO1xuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkbm9vcCgpIHt9XG5cbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkUEVORElORyAgID0gdm9pZCAwO1xuICAgIHZhciBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRGVUxGSUxMRUQgPSAxO1xuICAgIHZhciBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRSRUpFQ1RFRCAgPSAyO1xuXG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJEdFVF9USEVOX0VSUk9SID0gbmV3IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJEVycm9yT2JqZWN0KCk7XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRzZWxmRnVsZmlsbG1lbnQoKSB7XG4gICAgICByZXR1cm4gbmV3IFR5cGVFcnJvcihcIllvdSBjYW5ub3QgcmVzb2x2ZSBhIHByb21pc2Ugd2l0aCBpdHNlbGZcIik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkY2Fubm90UmV0dXJuT3duKCkge1xuICAgICAgcmV0dXJuIG5ldyBUeXBlRXJyb3IoJ0EgcHJvbWlzZXMgY2FsbGJhY2sgY2Fubm90IHJldHVybiB0aGF0IHNhbWUgcHJvbWlzZS4nKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRnZXRUaGVuKHByb21pc2UpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBwcm9taXNlLnRoZW47XG4gICAgICB9IGNhdGNoKGVycm9yKSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJEdFVF9USEVOX0VSUk9SLmVycm9yID0gZXJyb3I7XG4gICAgICAgIHJldHVybiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRHRVRfVEhFTl9FUlJPUjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCR0cnlUaGVuKHRoZW4sIHZhbHVlLCBmdWxmaWxsbWVudEhhbmRsZXIsIHJlamVjdGlvbkhhbmRsZXIpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRoZW4uY2FsbCh2YWx1ZSwgZnVsZmlsbG1lbnRIYW5kbGVyLCByZWplY3Rpb25IYW5kbGVyKTtcbiAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICByZXR1cm4gZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRoYW5kbGVGb3JlaWduVGhlbmFibGUocHJvbWlzZSwgdGhlbmFibGUsIHRoZW4pIHtcbiAgICAgICBsaWIkZXM2JHByb21pc2UkYXNhcCQkYXNhcChmdW5jdGlvbihwcm9taXNlKSB7XG4gICAgICAgIHZhciBzZWFsZWQgPSBmYWxzZTtcbiAgICAgICAgdmFyIGVycm9yID0gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkdHJ5VGhlbih0aGVuLCB0aGVuYWJsZSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICBpZiAoc2VhbGVkKSB7IHJldHVybjsgfVxuICAgICAgICAgIHNlYWxlZCA9IHRydWU7XG4gICAgICAgICAgaWYgKHRoZW5hYmxlICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGZ1bGZpbGwocHJvbWlzZSwgdmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgZnVuY3Rpb24ocmVhc29uKSB7XG4gICAgICAgICAgaWYgKHNlYWxlZCkgeyByZXR1cm47IH1cbiAgICAgICAgICBzZWFsZWQgPSB0cnVlO1xuXG4gICAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVqZWN0KHByb21pc2UsIHJlYXNvbik7XG4gICAgICAgIH0sICdTZXR0bGU6ICcgKyAocHJvbWlzZS5fbGFiZWwgfHwgJyB1bmtub3duIHByb21pc2UnKSk7XG5cbiAgICAgICAgaWYgKCFzZWFsZWQgJiYgZXJyb3IpIHtcbiAgICAgICAgICBzZWFsZWQgPSB0cnVlO1xuICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlamVjdChwcm9taXNlLCBlcnJvcik7XG4gICAgICAgIH1cbiAgICAgIH0sIHByb21pc2UpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGhhbmRsZU93blRoZW5hYmxlKHByb21pc2UsIHRoZW5hYmxlKSB7XG4gICAgICBpZiAodGhlbmFibGUuX3N0YXRlID09PSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRGVUxGSUxMRUQpIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkZnVsZmlsbChwcm9taXNlLCB0aGVuYWJsZS5fcmVzdWx0KTtcbiAgICAgIH0gZWxzZSBpZiAodGhlbmFibGUuX3N0YXRlID09PSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRSRUpFQ1RFRCkge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZWplY3QocHJvbWlzZSwgdGhlbmFibGUuX3Jlc3VsdCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRzdWJzY3JpYmUodGhlbmFibGUsIHVuZGVmaW5lZCwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZXNvbHZlKHByb21pc2UsIHZhbHVlKTtcbiAgICAgICAgfSwgZnVuY3Rpb24ocmVhc29uKSB7XG4gICAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVqZWN0KHByb21pc2UsIHJlYXNvbik7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGhhbmRsZU1heWJlVGhlbmFibGUocHJvbWlzZSwgbWF5YmVUaGVuYWJsZSwgdGhlbikge1xuICAgICAgaWYgKG1heWJlVGhlbmFibGUuY29uc3RydWN0b3IgPT09IHByb21pc2UuY29uc3RydWN0b3IgJiZcbiAgICAgICAgICB0aGVuID09PSBsaWIkZXM2JHByb21pc2UkdGhlbiQkZGVmYXVsdCAmJlxuICAgICAgICAgIGNvbnN0cnVjdG9yLnJlc29sdmUgPT09IGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJHJlc29sdmUkJGRlZmF1bHQpIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkaGFuZGxlT3duVGhlbmFibGUocHJvbWlzZSwgbWF5YmVUaGVuYWJsZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAodGhlbiA9PT0gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkR0VUX1RIRU5fRVJST1IpIHtcbiAgICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZWplY3QocHJvbWlzZSwgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkR0VUX1RIRU5fRVJST1IuZXJyb3IpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoZW4gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGZ1bGZpbGwocHJvbWlzZSwgbWF5YmVUaGVuYWJsZSk7XG4gICAgICAgIH0gZWxzZSBpZiAobGliJGVzNiRwcm9taXNlJHV0aWxzJCRpc0Z1bmN0aW9uKHRoZW4pKSB7XG4gICAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkaGFuZGxlRm9yZWlnblRoZW5hYmxlKHByb21pc2UsIG1heWJlVGhlbmFibGUsIHRoZW4pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGZ1bGZpbGwocHJvbWlzZSwgbWF5YmVUaGVuYWJsZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZXNvbHZlKHByb21pc2UsIHZhbHVlKSB7XG4gICAgICBpZiAocHJvbWlzZSA9PT0gdmFsdWUpIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVqZWN0KHByb21pc2UsIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHNlbGZGdWxmaWxsbWVudCgpKTtcbiAgICAgIH0gZWxzZSBpZiAobGliJGVzNiRwcm9taXNlJHV0aWxzJCRvYmplY3RPckZ1bmN0aW9uKHZhbHVlKSkge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRoYW5kbGVNYXliZVRoZW5hYmxlKHByb21pc2UsIHZhbHVlLCBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRnZXRUaGVuKHZhbHVlKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRmdWxmaWxsKHByb21pc2UsIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRwdWJsaXNoUmVqZWN0aW9uKHByb21pc2UpIHtcbiAgICAgIGlmIChwcm9taXNlLl9vbmVycm9yKSB7XG4gICAgICAgIHByb21pc2UuX29uZXJyb3IocHJvbWlzZS5fcmVzdWx0KTtcbiAgICAgIH1cblxuICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcHVibGlzaChwcm9taXNlKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRmdWxmaWxsKHByb21pc2UsIHZhbHVlKSB7XG4gICAgICBpZiAocHJvbWlzZS5fc3RhdGUgIT09IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFBFTkRJTkcpIHsgcmV0dXJuOyB9XG5cbiAgICAgIHByb21pc2UuX3Jlc3VsdCA9IHZhbHVlO1xuICAgICAgcHJvbWlzZS5fc3RhdGUgPSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRGVUxGSUxMRUQ7XG5cbiAgICAgIGlmIChwcm9taXNlLl9zdWJzY3JpYmVycy5sZW5ndGggIT09IDApIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJGFzYXAobGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcHVibGlzaCwgcHJvbWlzZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVqZWN0KHByb21pc2UsIHJlYXNvbikge1xuICAgICAgaWYgKHByb21pc2UuX3N0YXRlICE9PSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRQRU5ESU5HKSB7IHJldHVybjsgfVxuICAgICAgcHJvbWlzZS5fc3RhdGUgPSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRSRUpFQ1RFRDtcbiAgICAgIHByb21pc2UuX3Jlc3VsdCA9IHJlYXNvbjtcblxuICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJGFzYXAobGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcHVibGlzaFJlamVjdGlvbiwgcHJvbWlzZSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkc3Vic2NyaWJlKHBhcmVudCwgY2hpbGQsIG9uRnVsZmlsbG1lbnQsIG9uUmVqZWN0aW9uKSB7XG4gICAgICB2YXIgc3Vic2NyaWJlcnMgPSBwYXJlbnQuX3N1YnNjcmliZXJzO1xuICAgICAgdmFyIGxlbmd0aCA9IHN1YnNjcmliZXJzLmxlbmd0aDtcblxuICAgICAgcGFyZW50Ll9vbmVycm9yID0gbnVsbDtcblxuICAgICAgc3Vic2NyaWJlcnNbbGVuZ3RoXSA9IGNoaWxkO1xuICAgICAgc3Vic2NyaWJlcnNbbGVuZ3RoICsgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkRlVMRklMTEVEXSA9IG9uRnVsZmlsbG1lbnQ7XG4gICAgICBzdWJzY3JpYmVyc1tsZW5ndGggKyBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRSRUpFQ1RFRF0gID0gb25SZWplY3Rpb247XG5cbiAgICAgIGlmIChsZW5ndGggPT09IDAgJiYgcGFyZW50Ll9zdGF0ZSkge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkYXNhcCQkYXNhcChsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRwdWJsaXNoLCBwYXJlbnQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHB1Ymxpc2gocHJvbWlzZSkge1xuICAgICAgdmFyIHN1YnNjcmliZXJzID0gcHJvbWlzZS5fc3Vic2NyaWJlcnM7XG4gICAgICB2YXIgc2V0dGxlZCA9IHByb21pc2UuX3N0YXRlO1xuXG4gICAgICBpZiAoc3Vic2NyaWJlcnMubGVuZ3RoID09PSAwKSB7IHJldHVybjsgfVxuXG4gICAgICB2YXIgY2hpbGQsIGNhbGxiYWNrLCBkZXRhaWwgPSBwcm9taXNlLl9yZXN1bHQ7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3Vic2NyaWJlcnMubGVuZ3RoOyBpICs9IDMpIHtcbiAgICAgICAgY2hpbGQgPSBzdWJzY3JpYmVyc1tpXTtcbiAgICAgICAgY2FsbGJhY2sgPSBzdWJzY3JpYmVyc1tpICsgc2V0dGxlZF07XG5cbiAgICAgICAgaWYgKGNoaWxkKSB7XG4gICAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkaW52b2tlQ2FsbGJhY2soc2V0dGxlZCwgY2hpbGQsIGNhbGxiYWNrLCBkZXRhaWwpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNhbGxiYWNrKGRldGFpbCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcHJvbWlzZS5fc3Vic2NyaWJlcnMubGVuZ3RoID0gMDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRFcnJvck9iamVjdCgpIHtcbiAgICAgIHRoaXMuZXJyb3IgPSBudWxsO1xuICAgIH1cblxuICAgIHZhciBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRUUllfQ0FUQ0hfRVJST1IgPSBuZXcgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkRXJyb3JPYmplY3QoKTtcblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHRyeUNhdGNoKGNhbGxiYWNrLCBkZXRhaWwpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayhkZXRhaWwpO1xuICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFRSWV9DQVRDSF9FUlJPUi5lcnJvciA9IGU7XG4gICAgICAgIHJldHVybiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRUUllfQ0FUQ0hfRVJST1I7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkaW52b2tlQ2FsbGJhY2soc2V0dGxlZCwgcHJvbWlzZSwgY2FsbGJhY2ssIGRldGFpbCkge1xuICAgICAgdmFyIGhhc0NhbGxiYWNrID0gbGliJGVzNiRwcm9taXNlJHV0aWxzJCRpc0Z1bmN0aW9uKGNhbGxiYWNrKSxcbiAgICAgICAgICB2YWx1ZSwgZXJyb3IsIHN1Y2NlZWRlZCwgZmFpbGVkO1xuXG4gICAgICBpZiAoaGFzQ2FsbGJhY2spIHtcbiAgICAgICAgdmFsdWUgPSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCR0cnlDYXRjaChjYWxsYmFjaywgZGV0YWlsKTtcblxuICAgICAgICBpZiAodmFsdWUgPT09IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFRSWV9DQVRDSF9FUlJPUikge1xuICAgICAgICAgIGZhaWxlZCA9IHRydWU7XG4gICAgICAgICAgZXJyb3IgPSB2YWx1ZS5lcnJvcjtcbiAgICAgICAgICB2YWx1ZSA9IG51bGw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3VjY2VlZGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwcm9taXNlID09PSB2YWx1ZSkge1xuICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlamVjdChwcm9taXNlLCBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRjYW5ub3RSZXR1cm5Pd24oKSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbHVlID0gZGV0YWlsO1xuICAgICAgICBzdWNjZWVkZWQgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAocHJvbWlzZS5fc3RhdGUgIT09IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFBFTkRJTkcpIHtcbiAgICAgICAgLy8gbm9vcFxuICAgICAgfSBlbHNlIGlmIChoYXNDYWxsYmFjayAmJiBzdWNjZWVkZWQpIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSk7XG4gICAgICB9IGVsc2UgaWYgKGZhaWxlZCkge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZWplY3QocHJvbWlzZSwgZXJyb3IpO1xuICAgICAgfSBlbHNlIGlmIChzZXR0bGVkID09PSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRGVUxGSUxMRUQpIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkZnVsZmlsbChwcm9taXNlLCB2YWx1ZSk7XG4gICAgICB9IGVsc2UgaWYgKHNldHRsZWQgPT09IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFJFSkVDVEVEKSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlamVjdChwcm9taXNlLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkaW5pdGlhbGl6ZVByb21pc2UocHJvbWlzZSwgcmVzb2x2ZXIpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJlc29sdmVyKGZ1bmN0aW9uIHJlc29sdmVQcm9taXNlKHZhbHVlKXtcbiAgICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZXNvbHZlKHByb21pc2UsIHZhbHVlKTtcbiAgICAgICAgfSwgZnVuY3Rpb24gcmVqZWN0UHJvbWlzZShyZWFzb24pIHtcbiAgICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZWplY3QocHJvbWlzZSwgcmVhc29uKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVqZWN0KHByb21pc2UsIGUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRpZCA9IDA7XG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkbmV4dElkKCkge1xuICAgICAgcmV0dXJuIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGlkKys7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkbWFrZVByb21pc2UocHJvbWlzZSkge1xuICAgICAgcHJvbWlzZVtsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRQUk9NSVNFX0lEXSA9IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGlkKys7XG4gICAgICBwcm9taXNlLl9zdGF0ZSA9IHVuZGVmaW5lZDtcbiAgICAgIHByb21pc2UuX3Jlc3VsdCA9IHVuZGVmaW5lZDtcbiAgICAgIHByb21pc2UuX3N1YnNjcmliZXJzID0gW107XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJHByb21pc2UkYWxsJCRhbGwoZW50cmllcykge1xuICAgICAgcmV0dXJuIG5ldyBsaWIkZXM2JHByb21pc2UkZW51bWVyYXRvciQkZGVmYXVsdCh0aGlzLCBlbnRyaWVzKS5wcm9taXNlO1xuICAgIH1cbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJHByb21pc2UkYWxsJCRkZWZhdWx0ID0gbGliJGVzNiRwcm9taXNlJHByb21pc2UkYWxsJCRhbGw7XG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJHByb21pc2UkcmFjZSQkcmFjZShlbnRyaWVzKSB7XG4gICAgICAvKmpzaGludCB2YWxpZHRoaXM6dHJ1ZSAqL1xuICAgICAgdmFyIENvbnN0cnVjdG9yID0gdGhpcztcblxuICAgICAgaWYgKCFsaWIkZXM2JHByb21pc2UkdXRpbHMkJGlzQXJyYXkoZW50cmllcykpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDb25zdHJ1Y3RvcihmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICByZWplY3QobmV3IFR5cGVFcnJvcignWW91IG11c3QgcGFzcyBhbiBhcnJheSB0byByYWNlLicpKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbmV3IENvbnN0cnVjdG9yKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgIHZhciBsZW5ndGggPSBlbnRyaWVzLmxlbmd0aDtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBDb25zdHJ1Y3Rvci5yZXNvbHZlKGVudHJpZXNbaV0pLnRoZW4ocmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJHByb21pc2UkcmFjZSQkZGVmYXVsdCA9IGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJHJhY2UkJHJhY2U7XG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJHByb21pc2UkcmVqZWN0JCRyZWplY3QocmVhc29uKSB7XG4gICAgICAvKmpzaGludCB2YWxpZHRoaXM6dHJ1ZSAqL1xuICAgICAgdmFyIENvbnN0cnVjdG9yID0gdGhpcztcbiAgICAgIHZhciBwcm9taXNlID0gbmV3IENvbnN0cnVjdG9yKGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJG5vb3ApO1xuICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVqZWN0KHByb21pc2UsIHJlYXNvbik7XG4gICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9XG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJHJlamVjdCQkZGVmYXVsdCA9IGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJHJlamVjdCQkcmVqZWN0O1xuXG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkbmVlZHNSZXNvbHZlcigpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1lvdSBtdXN0IHBhc3MgYSByZXNvbHZlciBmdW5jdGlvbiBhcyB0aGUgZmlyc3QgYXJndW1lbnQgdG8gdGhlIHByb21pc2UgY29uc3RydWN0b3InKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkbmVlZHNOZXcoKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRmFpbGVkIHRvIGNvbnN0cnVjdCAnUHJvbWlzZSc6IFBsZWFzZSB1c2UgdGhlICduZXcnIG9wZXJhdG9yLCB0aGlzIG9iamVjdCBjb25zdHJ1Y3RvciBjYW5ub3QgYmUgY2FsbGVkIGFzIGEgZnVuY3Rpb24uXCIpO1xuICAgIH1cblxuICAgIHZhciBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkZGVmYXVsdCA9IGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRQcm9taXNlO1xuICAgIC8qKlxuICAgICAgUHJvbWlzZSBvYmplY3RzIHJlcHJlc2VudCB0aGUgZXZlbnR1YWwgcmVzdWx0IG9mIGFuIGFzeW5jaHJvbm91cyBvcGVyYXRpb24uIFRoZVxuICAgICAgcHJpbWFyeSB3YXkgb2YgaW50ZXJhY3Rpbmcgd2l0aCBhIHByb21pc2UgaXMgdGhyb3VnaCBpdHMgYHRoZW5gIG1ldGhvZCwgd2hpY2hcbiAgICAgIHJlZ2lzdGVycyBjYWxsYmFja3MgdG8gcmVjZWl2ZSBlaXRoZXIgYSBwcm9taXNlJ3MgZXZlbnR1YWwgdmFsdWUgb3IgdGhlIHJlYXNvblxuICAgICAgd2h5IHRoZSBwcm9taXNlIGNhbm5vdCBiZSBmdWxmaWxsZWQuXG5cbiAgICAgIFRlcm1pbm9sb2d5XG4gICAgICAtLS0tLS0tLS0tLVxuXG4gICAgICAtIGBwcm9taXNlYCBpcyBhbiBvYmplY3Qgb3IgZnVuY3Rpb24gd2l0aCBhIGB0aGVuYCBtZXRob2Qgd2hvc2UgYmVoYXZpb3IgY29uZm9ybXMgdG8gdGhpcyBzcGVjaWZpY2F0aW9uLlxuICAgICAgLSBgdGhlbmFibGVgIGlzIGFuIG9iamVjdCBvciBmdW5jdGlvbiB0aGF0IGRlZmluZXMgYSBgdGhlbmAgbWV0aG9kLlxuICAgICAgLSBgdmFsdWVgIGlzIGFueSBsZWdhbCBKYXZhU2NyaXB0IHZhbHVlIChpbmNsdWRpbmcgdW5kZWZpbmVkLCBhIHRoZW5hYmxlLCBvciBhIHByb21pc2UpLlxuICAgICAgLSBgZXhjZXB0aW9uYCBpcyBhIHZhbHVlIHRoYXQgaXMgdGhyb3duIHVzaW5nIHRoZSB0aHJvdyBzdGF0ZW1lbnQuXG4gICAgICAtIGByZWFzb25gIGlzIGEgdmFsdWUgdGhhdCBpbmRpY2F0ZXMgd2h5IGEgcHJvbWlzZSB3YXMgcmVqZWN0ZWQuXG4gICAgICAtIGBzZXR0bGVkYCB0aGUgZmluYWwgcmVzdGluZyBzdGF0ZSBvZiBhIHByb21pc2UsIGZ1bGZpbGxlZCBvciByZWplY3RlZC5cblxuICAgICAgQSBwcm9taXNlIGNhbiBiZSBpbiBvbmUgb2YgdGhyZWUgc3RhdGVzOiBwZW5kaW5nLCBmdWxmaWxsZWQsIG9yIHJlamVjdGVkLlxuXG4gICAgICBQcm9taXNlcyB0aGF0IGFyZSBmdWxmaWxsZWQgaGF2ZSBhIGZ1bGZpbGxtZW50IHZhbHVlIGFuZCBhcmUgaW4gdGhlIGZ1bGZpbGxlZFxuICAgICAgc3RhdGUuICBQcm9taXNlcyB0aGF0IGFyZSByZWplY3RlZCBoYXZlIGEgcmVqZWN0aW9uIHJlYXNvbiBhbmQgYXJlIGluIHRoZVxuICAgICAgcmVqZWN0ZWQgc3RhdGUuICBBIGZ1bGZpbGxtZW50IHZhbHVlIGlzIG5ldmVyIGEgdGhlbmFibGUuXG5cbiAgICAgIFByb21pc2VzIGNhbiBhbHNvIGJlIHNhaWQgdG8gKnJlc29sdmUqIGEgdmFsdWUuICBJZiB0aGlzIHZhbHVlIGlzIGFsc28gYVxuICAgICAgcHJvbWlzZSwgdGhlbiB0aGUgb3JpZ2luYWwgcHJvbWlzZSdzIHNldHRsZWQgc3RhdGUgd2lsbCBtYXRjaCB0aGUgdmFsdWUnc1xuICAgICAgc2V0dGxlZCBzdGF0ZS4gIFNvIGEgcHJvbWlzZSB0aGF0ICpyZXNvbHZlcyogYSBwcm9taXNlIHRoYXQgcmVqZWN0cyB3aWxsXG4gICAgICBpdHNlbGYgcmVqZWN0LCBhbmQgYSBwcm9taXNlIHRoYXQgKnJlc29sdmVzKiBhIHByb21pc2UgdGhhdCBmdWxmaWxscyB3aWxsXG4gICAgICBpdHNlbGYgZnVsZmlsbC5cblxuXG4gICAgICBCYXNpYyBVc2FnZTpcbiAgICAgIC0tLS0tLS0tLS0tLVxuXG4gICAgICBgYGBqc1xuICAgICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgLy8gb24gc3VjY2Vzc1xuICAgICAgICByZXNvbHZlKHZhbHVlKTtcblxuICAgICAgICAvLyBvbiBmYWlsdXJlXG4gICAgICAgIHJlamVjdChyZWFzb24pO1xuICAgICAgfSk7XG5cbiAgICAgIHByb21pc2UudGhlbihmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAvLyBvbiBmdWxmaWxsbWVudFxuICAgICAgfSwgZnVuY3Rpb24ocmVhc29uKSB7XG4gICAgICAgIC8vIG9uIHJlamVjdGlvblxuICAgICAgfSk7XG4gICAgICBgYGBcblxuICAgICAgQWR2YW5jZWQgVXNhZ2U6XG4gICAgICAtLS0tLS0tLS0tLS0tLS1cblxuICAgICAgUHJvbWlzZXMgc2hpbmUgd2hlbiBhYnN0cmFjdGluZyBhd2F5IGFzeW5jaHJvbm91cyBpbnRlcmFjdGlvbnMgc3VjaCBhc1xuICAgICAgYFhNTEh0dHBSZXF1ZXN0YHMuXG5cbiAgICAgIGBgYGpzXG4gICAgICBmdW5jdGlvbiBnZXRKU09OKHVybCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICAgICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cbiAgICAgICAgICB4aHIub3BlbignR0VUJywgdXJsKTtcbiAgICAgICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gaGFuZGxlcjtcbiAgICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gJ2pzb24nO1xuICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKCdBY2NlcHQnLCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgICAgIHhoci5zZW5kKCk7XG5cbiAgICAgICAgICBmdW5jdGlvbiBoYW5kbGVyKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PT0gdGhpcy5ET05FKSB7XG4gICAgICAgICAgICAgIGlmICh0aGlzLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh0aGlzLnJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdnZXRKU09OOiBgJyArIHVybCArICdgIGZhaWxlZCB3aXRoIHN0YXR1czogWycgKyB0aGlzLnN0YXR1cyArICddJykpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGdldEpTT04oJy9wb3N0cy5qc29uJykudGhlbihmdW5jdGlvbihqc29uKSB7XG4gICAgICAgIC8vIG9uIGZ1bGZpbGxtZW50XG4gICAgICB9LCBmdW5jdGlvbihyZWFzb24pIHtcbiAgICAgICAgLy8gb24gcmVqZWN0aW9uXG4gICAgICB9KTtcbiAgICAgIGBgYFxuXG4gICAgICBVbmxpa2UgY2FsbGJhY2tzLCBwcm9taXNlcyBhcmUgZ3JlYXQgY29tcG9zYWJsZSBwcmltaXRpdmVzLlxuXG4gICAgICBgYGBqc1xuICAgICAgUHJvbWlzZS5hbGwoW1xuICAgICAgICBnZXRKU09OKCcvcG9zdHMnKSxcbiAgICAgICAgZ2V0SlNPTignL2NvbW1lbnRzJylcbiAgICAgIF0pLnRoZW4oZnVuY3Rpb24odmFsdWVzKXtcbiAgICAgICAgdmFsdWVzWzBdIC8vID0+IHBvc3RzSlNPTlxuICAgICAgICB2YWx1ZXNbMV0gLy8gPT4gY29tbWVudHNKU09OXG5cbiAgICAgICAgcmV0dXJuIHZhbHVlcztcbiAgICAgIH0pO1xuICAgICAgYGBgXG5cbiAgICAgIEBjbGFzcyBQcm9taXNlXG4gICAgICBAcGFyYW0ge2Z1bmN0aW9ufSByZXNvbHZlclxuICAgICAgVXNlZnVsIGZvciB0b29saW5nLlxuICAgICAgQGNvbnN0cnVjdG9yXG4gICAgKi9cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkUHJvbWlzZShyZXNvbHZlcikge1xuICAgICAgdGhpc1tsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRQUk9NSVNFX0lEXSA9IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJG5leHRJZCgpO1xuICAgICAgdGhpcy5fcmVzdWx0ID0gdGhpcy5fc3RhdGUgPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLl9zdWJzY3JpYmVycyA9IFtdO1xuXG4gICAgICBpZiAobGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkbm9vcCAhPT0gcmVzb2x2ZXIpIHtcbiAgICAgICAgdHlwZW9mIHJlc29sdmVyICE9PSAnZnVuY3Rpb24nICYmIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRuZWVkc1Jlc29sdmVyKCk7XG4gICAgICAgIHRoaXMgaW5zdGFuY2VvZiBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkUHJvbWlzZSA/IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGluaXRpYWxpemVQcm9taXNlKHRoaXMsIHJlc29sdmVyKSA6IGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRuZWVkc05ldygpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRQcm9taXNlLmFsbCA9IGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJGFsbCQkZGVmYXVsdDtcbiAgICBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkUHJvbWlzZS5yYWNlID0gbGliJGVzNiRwcm9taXNlJHByb21pc2UkcmFjZSQkZGVmYXVsdDtcbiAgICBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkUHJvbWlzZS5yZXNvbHZlID0gbGliJGVzNiRwcm9taXNlJHByb21pc2UkcmVzb2x2ZSQkZGVmYXVsdDtcbiAgICBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkUHJvbWlzZS5yZWplY3QgPSBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSRyZWplY3QkJGRlZmF1bHQ7XG4gICAgbGliJGVzNiRwcm9taXNlJHByb21pc2UkJFByb21pc2UuX3NldFNjaGVkdWxlciA9IGxpYiRlczYkcHJvbWlzZSRhc2FwJCRzZXRTY2hlZHVsZXI7XG4gICAgbGliJGVzNiRwcm9taXNlJHByb21pc2UkJFByb21pc2UuX3NldEFzYXAgPSBsaWIkZXM2JHByb21pc2UkYXNhcCQkc2V0QXNhcDtcbiAgICBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkUHJvbWlzZS5fYXNhcCA9IGxpYiRlczYkcHJvbWlzZSRhc2FwJCRhc2FwO1xuXG4gICAgbGliJGVzNiRwcm9taXNlJHByb21pc2UkJFByb21pc2UucHJvdG90eXBlID0ge1xuICAgICAgY29uc3RydWN0b3I6IGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRQcm9taXNlLFxuXG4gICAgLyoqXG4gICAgICBUaGUgcHJpbWFyeSB3YXkgb2YgaW50ZXJhY3Rpbmcgd2l0aCBhIHByb21pc2UgaXMgdGhyb3VnaCBpdHMgYHRoZW5gIG1ldGhvZCxcbiAgICAgIHdoaWNoIHJlZ2lzdGVycyBjYWxsYmFja3MgdG8gcmVjZWl2ZSBlaXRoZXIgYSBwcm9taXNlJ3MgZXZlbnR1YWwgdmFsdWUgb3IgdGhlXG4gICAgICByZWFzb24gd2h5IHRoZSBwcm9taXNlIGNhbm5vdCBiZSBmdWxmaWxsZWQuXG5cbiAgICAgIGBgYGpzXG4gICAgICBmaW5kVXNlcigpLnRoZW4oZnVuY3Rpb24odXNlcil7XG4gICAgICAgIC8vIHVzZXIgaXMgYXZhaWxhYmxlXG4gICAgICB9LCBmdW5jdGlvbihyZWFzb24pe1xuICAgICAgICAvLyB1c2VyIGlzIHVuYXZhaWxhYmxlLCBhbmQgeW91IGFyZSBnaXZlbiB0aGUgcmVhc29uIHdoeVxuICAgICAgfSk7XG4gICAgICBgYGBcblxuICAgICAgQ2hhaW5pbmdcbiAgICAgIC0tLS0tLS0tXG5cbiAgICAgIFRoZSByZXR1cm4gdmFsdWUgb2YgYHRoZW5gIGlzIGl0c2VsZiBhIHByb21pc2UuICBUaGlzIHNlY29uZCwgJ2Rvd25zdHJlYW0nXG4gICAgICBwcm9taXNlIGlzIHJlc29sdmVkIHdpdGggdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgZmlyc3QgcHJvbWlzZSdzIGZ1bGZpbGxtZW50XG4gICAgICBvciByZWplY3Rpb24gaGFuZGxlciwgb3IgcmVqZWN0ZWQgaWYgdGhlIGhhbmRsZXIgdGhyb3dzIGFuIGV4Y2VwdGlvbi5cblxuICAgICAgYGBganNcbiAgICAgIGZpbmRVc2VyKCkudGhlbihmdW5jdGlvbiAodXNlcikge1xuICAgICAgICByZXR1cm4gdXNlci5uYW1lO1xuICAgICAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgICByZXR1cm4gJ2RlZmF1bHQgbmFtZSc7XG4gICAgICB9KS50aGVuKGZ1bmN0aW9uICh1c2VyTmFtZSkge1xuICAgICAgICAvLyBJZiBgZmluZFVzZXJgIGZ1bGZpbGxlZCwgYHVzZXJOYW1lYCB3aWxsIGJlIHRoZSB1c2VyJ3MgbmFtZSwgb3RoZXJ3aXNlIGl0XG4gICAgICAgIC8vIHdpbGwgYmUgYCdkZWZhdWx0IG5hbWUnYFxuICAgICAgfSk7XG5cbiAgICAgIGZpbmRVc2VyKCkudGhlbihmdW5jdGlvbiAodXNlcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZvdW5kIHVzZXIsIGJ1dCBzdGlsbCB1bmhhcHB5Jyk7XG4gICAgICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignYGZpbmRVc2VyYCByZWplY3RlZCBhbmQgd2UncmUgdW5oYXBweScpO1xuICAgICAgfSkudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgLy8gbmV2ZXIgcmVhY2hlZFxuICAgICAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgICAvLyBpZiBgZmluZFVzZXJgIGZ1bGZpbGxlZCwgYHJlYXNvbmAgd2lsbCBiZSAnRm91bmQgdXNlciwgYnV0IHN0aWxsIHVuaGFwcHknLlxuICAgICAgICAvLyBJZiBgZmluZFVzZXJgIHJlamVjdGVkLCBgcmVhc29uYCB3aWxsIGJlICdgZmluZFVzZXJgIHJlamVjdGVkIGFuZCB3ZSdyZSB1bmhhcHB5Jy5cbiAgICAgIH0pO1xuICAgICAgYGBgXG4gICAgICBJZiB0aGUgZG93bnN0cmVhbSBwcm9taXNlIGRvZXMgbm90IHNwZWNpZnkgYSByZWplY3Rpb24gaGFuZGxlciwgcmVqZWN0aW9uIHJlYXNvbnMgd2lsbCBiZSBwcm9wYWdhdGVkIGZ1cnRoZXIgZG93bnN0cmVhbS5cblxuICAgICAgYGBganNcbiAgICAgIGZpbmRVc2VyKCkudGhlbihmdW5jdGlvbiAodXNlcikge1xuICAgICAgICB0aHJvdyBuZXcgUGVkYWdvZ2ljYWxFeGNlcHRpb24oJ1Vwc3RyZWFtIGVycm9yJyk7XG4gICAgICB9KS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAvLyBuZXZlciByZWFjaGVkXG4gICAgICB9KS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAvLyBuZXZlciByZWFjaGVkXG4gICAgICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICAgIC8vIFRoZSBgUGVkZ2Fnb2NpYWxFeGNlcHRpb25gIGlzIHByb3BhZ2F0ZWQgYWxsIHRoZSB3YXkgZG93biB0byBoZXJlXG4gICAgICB9KTtcbiAgICAgIGBgYFxuXG4gICAgICBBc3NpbWlsYXRpb25cbiAgICAgIC0tLS0tLS0tLS0tLVxuXG4gICAgICBTb21ldGltZXMgdGhlIHZhbHVlIHlvdSB3YW50IHRvIHByb3BhZ2F0ZSB0byBhIGRvd25zdHJlYW0gcHJvbWlzZSBjYW4gb25seSBiZVxuICAgICAgcmV0cmlldmVkIGFzeW5jaHJvbm91c2x5LiBUaGlzIGNhbiBiZSBhY2hpZXZlZCBieSByZXR1cm5pbmcgYSBwcm9taXNlIGluIHRoZVxuICAgICAgZnVsZmlsbG1lbnQgb3IgcmVqZWN0aW9uIGhhbmRsZXIuIFRoZSBkb3duc3RyZWFtIHByb21pc2Ugd2lsbCB0aGVuIGJlIHBlbmRpbmdcbiAgICAgIHVudGlsIHRoZSByZXR1cm5lZCBwcm9taXNlIGlzIHNldHRsZWQuIFRoaXMgaXMgY2FsbGVkICphc3NpbWlsYXRpb24qLlxuXG4gICAgICBgYGBqc1xuICAgICAgZmluZFVzZXIoKS50aGVuKGZ1bmN0aW9uICh1c2VyKSB7XG4gICAgICAgIHJldHVybiBmaW5kQ29tbWVudHNCeUF1dGhvcih1c2VyKTtcbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGNvbW1lbnRzKSB7XG4gICAgICAgIC8vIFRoZSB1c2VyJ3MgY29tbWVudHMgYXJlIG5vdyBhdmFpbGFibGVcbiAgICAgIH0pO1xuICAgICAgYGBgXG5cbiAgICAgIElmIHRoZSBhc3NpbWxpYXRlZCBwcm9taXNlIHJlamVjdHMsIHRoZW4gdGhlIGRvd25zdHJlYW0gcHJvbWlzZSB3aWxsIGFsc28gcmVqZWN0LlxuXG4gICAgICBgYGBqc1xuICAgICAgZmluZFVzZXIoKS50aGVuKGZ1bmN0aW9uICh1c2VyKSB7XG4gICAgICAgIHJldHVybiBmaW5kQ29tbWVudHNCeUF1dGhvcih1c2VyKTtcbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGNvbW1lbnRzKSB7XG4gICAgICAgIC8vIElmIGBmaW5kQ29tbWVudHNCeUF1dGhvcmAgZnVsZmlsbHMsIHdlJ2xsIGhhdmUgdGhlIHZhbHVlIGhlcmVcbiAgICAgIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgICAgLy8gSWYgYGZpbmRDb21tZW50c0J5QXV0aG9yYCByZWplY3RzLCB3ZSdsbCBoYXZlIHRoZSByZWFzb24gaGVyZVxuICAgICAgfSk7XG4gICAgICBgYGBcblxuICAgICAgU2ltcGxlIEV4YW1wbGVcbiAgICAgIC0tLS0tLS0tLS0tLS0tXG5cbiAgICAgIFN5bmNocm9ub3VzIEV4YW1wbGVcblxuICAgICAgYGBgamF2YXNjcmlwdFxuICAgICAgdmFyIHJlc3VsdDtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgcmVzdWx0ID0gZmluZFJlc3VsdCgpO1xuICAgICAgICAvLyBzdWNjZXNzXG4gICAgICB9IGNhdGNoKHJlYXNvbikge1xuICAgICAgICAvLyBmYWlsdXJlXG4gICAgICB9XG4gICAgICBgYGBcblxuICAgICAgRXJyYmFjayBFeGFtcGxlXG5cbiAgICAgIGBgYGpzXG4gICAgICBmaW5kUmVzdWx0KGZ1bmN0aW9uKHJlc3VsdCwgZXJyKXtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIC8vIGZhaWx1cmVcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBzdWNjZXNzXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgYGBgXG5cbiAgICAgIFByb21pc2UgRXhhbXBsZTtcblxuICAgICAgYGBgamF2YXNjcmlwdFxuICAgICAgZmluZFJlc3VsdCgpLnRoZW4oZnVuY3Rpb24ocmVzdWx0KXtcbiAgICAgICAgLy8gc3VjY2Vzc1xuICAgICAgfSwgZnVuY3Rpb24ocmVhc29uKXtcbiAgICAgICAgLy8gZmFpbHVyZVxuICAgICAgfSk7XG4gICAgICBgYGBcblxuICAgICAgQWR2YW5jZWQgRXhhbXBsZVxuICAgICAgLS0tLS0tLS0tLS0tLS1cblxuICAgICAgU3luY2hyb25vdXMgRXhhbXBsZVxuXG4gICAgICBgYGBqYXZhc2NyaXB0XG4gICAgICB2YXIgYXV0aG9yLCBib29rcztcblxuICAgICAgdHJ5IHtcbiAgICAgICAgYXV0aG9yID0gZmluZEF1dGhvcigpO1xuICAgICAgICBib29rcyAgPSBmaW5kQm9va3NCeUF1dGhvcihhdXRob3IpO1xuICAgICAgICAvLyBzdWNjZXNzXG4gICAgICB9IGNhdGNoKHJlYXNvbikge1xuICAgICAgICAvLyBmYWlsdXJlXG4gICAgICB9XG4gICAgICBgYGBcblxuICAgICAgRXJyYmFjayBFeGFtcGxlXG5cbiAgICAgIGBgYGpzXG5cbiAgICAgIGZ1bmN0aW9uIGZvdW5kQm9va3MoYm9va3MpIHtcblxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBmYWlsdXJlKHJlYXNvbikge1xuXG4gICAgICB9XG5cbiAgICAgIGZpbmRBdXRob3IoZnVuY3Rpb24oYXV0aG9yLCBlcnIpe1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgZmFpbHVyZShlcnIpO1xuICAgICAgICAgIC8vIGZhaWx1cmVcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgZmluZEJvb29rc0J5QXV0aG9yKGF1dGhvciwgZnVuY3Rpb24oYm9va3MsIGVycikge1xuICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgZmFpbHVyZShlcnIpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICBmb3VuZEJvb2tzKGJvb2tzKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoKHJlYXNvbikge1xuICAgICAgICAgICAgICAgICAgZmFpbHVyZShyZWFzb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBjYXRjaChlcnJvcikge1xuICAgICAgICAgICAgZmFpbHVyZShlcnIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBzdWNjZXNzXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgYGBgXG5cbiAgICAgIFByb21pc2UgRXhhbXBsZTtcblxuICAgICAgYGBgamF2YXNjcmlwdFxuICAgICAgZmluZEF1dGhvcigpLlxuICAgICAgICB0aGVuKGZpbmRCb29rc0J5QXV0aG9yKS5cbiAgICAgICAgdGhlbihmdW5jdGlvbihib29rcyl7XG4gICAgICAgICAgLy8gZm91bmQgYm9va3NcbiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgICAgIC8vIHNvbWV0aGluZyB3ZW50IHdyb25nXG4gICAgICB9KTtcbiAgICAgIGBgYFxuXG4gICAgICBAbWV0aG9kIHRoZW5cbiAgICAgIEBwYXJhbSB7RnVuY3Rpb259IG9uRnVsZmlsbGVkXG4gICAgICBAcGFyYW0ge0Z1bmN0aW9ufSBvblJlamVjdGVkXG4gICAgICBVc2VmdWwgZm9yIHRvb2xpbmcuXG4gICAgICBAcmV0dXJuIHtQcm9taXNlfVxuICAgICovXG4gICAgICB0aGVuOiBsaWIkZXM2JHByb21pc2UkdGhlbiQkZGVmYXVsdCxcblxuICAgIC8qKlxuICAgICAgYGNhdGNoYCBpcyBzaW1wbHkgc3VnYXIgZm9yIGB0aGVuKHVuZGVmaW5lZCwgb25SZWplY3Rpb24pYCB3aGljaCBtYWtlcyBpdCB0aGUgc2FtZVxuICAgICAgYXMgdGhlIGNhdGNoIGJsb2NrIG9mIGEgdHJ5L2NhdGNoIHN0YXRlbWVudC5cblxuICAgICAgYGBganNcbiAgICAgIGZ1bmN0aW9uIGZpbmRBdXRob3IoKXtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjb3VsZG4ndCBmaW5kIHRoYXQgYXV0aG9yJyk7XG4gICAgICB9XG5cbiAgICAgIC8vIHN5bmNocm9ub3VzXG4gICAgICB0cnkge1xuICAgICAgICBmaW5kQXV0aG9yKCk7XG4gICAgICB9IGNhdGNoKHJlYXNvbikge1xuICAgICAgICAvLyBzb21ldGhpbmcgd2VudCB3cm9uZ1xuICAgICAgfVxuXG4gICAgICAvLyBhc3luYyB3aXRoIHByb21pc2VzXG4gICAgICBmaW5kQXV0aG9yKCkuY2F0Y2goZnVuY3Rpb24ocmVhc29uKXtcbiAgICAgICAgLy8gc29tZXRoaW5nIHdlbnQgd3JvbmdcbiAgICAgIH0pO1xuICAgICAgYGBgXG5cbiAgICAgIEBtZXRob2QgY2F0Y2hcbiAgICAgIEBwYXJhbSB7RnVuY3Rpb259IG9uUmVqZWN0aW9uXG4gICAgICBVc2VmdWwgZm9yIHRvb2xpbmcuXG4gICAgICBAcmV0dXJuIHtQcm9taXNlfVxuICAgICovXG4gICAgICAnY2F0Y2gnOiBmdW5jdGlvbihvblJlamVjdGlvbikge1xuICAgICAgICByZXR1cm4gdGhpcy50aGVuKG51bGwsIG9uUmVqZWN0aW9uKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHZhciBsaWIkZXM2JHByb21pc2UkZW51bWVyYXRvciQkZGVmYXVsdCA9IGxpYiRlczYkcHJvbWlzZSRlbnVtZXJhdG9yJCRFbnVtZXJhdG9yO1xuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSRlbnVtZXJhdG9yJCRFbnVtZXJhdG9yKENvbnN0cnVjdG9yLCBpbnB1dCkge1xuICAgICAgdGhpcy5faW5zdGFuY2VDb25zdHJ1Y3RvciA9IENvbnN0cnVjdG9yO1xuICAgICAgdGhpcy5wcm9taXNlID0gbmV3IENvbnN0cnVjdG9yKGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJG5vb3ApO1xuXG4gICAgICBpZiAoIXRoaXMucHJvbWlzZVtsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRQUk9NSVNFX0lEXSkge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRtYWtlUHJvbWlzZSh0aGlzLnByb21pc2UpO1xuICAgICAgfVxuXG4gICAgICBpZiAobGliJGVzNiRwcm9taXNlJHV0aWxzJCRpc0FycmF5KGlucHV0KSkge1xuICAgICAgICB0aGlzLl9pbnB1dCAgICAgPSBpbnB1dDtcbiAgICAgICAgdGhpcy5sZW5ndGggICAgID0gaW5wdXQubGVuZ3RoO1xuICAgICAgICB0aGlzLl9yZW1haW5pbmcgPSBpbnB1dC5sZW5ndGg7XG5cbiAgICAgICAgdGhpcy5fcmVzdWx0ID0gbmV3IEFycmF5KHRoaXMubGVuZ3RoKTtcblxuICAgICAgICBpZiAodGhpcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRmdWxmaWxsKHRoaXMucHJvbWlzZSwgdGhpcy5fcmVzdWx0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmxlbmd0aCA9IHRoaXMubGVuZ3RoIHx8IDA7XG4gICAgICAgICAgdGhpcy5fZW51bWVyYXRlKCk7XG4gICAgICAgICAgaWYgKHRoaXMuX3JlbWFpbmluZyA9PT0gMCkge1xuICAgICAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkZnVsZmlsbCh0aGlzLnByb21pc2UsIHRoaXMuX3Jlc3VsdCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZWplY3QodGhpcy5wcm9taXNlLCBsaWIkZXM2JHByb21pc2UkZW51bWVyYXRvciQkdmFsaWRhdGlvbkVycm9yKCkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSRlbnVtZXJhdG9yJCR2YWxpZGF0aW9uRXJyb3IoKSB7XG4gICAgICByZXR1cm4gbmV3IEVycm9yKCdBcnJheSBNZXRob2RzIG11c3QgYmUgcHJvdmlkZWQgYW4gQXJyYXknKTtcbiAgICB9XG5cbiAgICBsaWIkZXM2JHByb21pc2UkZW51bWVyYXRvciQkRW51bWVyYXRvci5wcm90b3R5cGUuX2VudW1lcmF0ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGxlbmd0aCAgPSB0aGlzLmxlbmd0aDtcbiAgICAgIHZhciBpbnB1dCAgID0gdGhpcy5faW5wdXQ7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyB0aGlzLl9zdGF0ZSA9PT0gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkUEVORElORyAmJiBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGhpcy5fZWFjaEVudHJ5KGlucHV0W2ldLCBpKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgbGliJGVzNiRwcm9taXNlJGVudW1lcmF0b3IkJEVudW1lcmF0b3IucHJvdG90eXBlLl9lYWNoRW50cnkgPSBmdW5jdGlvbihlbnRyeSwgaSkge1xuICAgICAgdmFyIGMgPSB0aGlzLl9pbnN0YW5jZUNvbnN0cnVjdG9yO1xuICAgICAgdmFyIHJlc29sdmUgPSBjLnJlc29sdmU7XG5cbiAgICAgIGlmIChyZXNvbHZlID09PSBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSRyZXNvbHZlJCRkZWZhdWx0KSB7XG4gICAgICAgIHZhciB0aGVuID0gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkZ2V0VGhlbihlbnRyeSk7XG5cbiAgICAgICAgaWYgKHRoZW4gPT09IGxpYiRlczYkcHJvbWlzZSR0aGVuJCRkZWZhdWx0ICYmXG4gICAgICAgICAgICBlbnRyeS5fc3RhdGUgIT09IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFBFTkRJTkcpIHtcbiAgICAgICAgICB0aGlzLl9zZXR0bGVkQXQoZW50cnkuX3N0YXRlLCBpLCBlbnRyeS5fcmVzdWx0KTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdGhlbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHRoaXMuX3JlbWFpbmluZy0tO1xuICAgICAgICAgIHRoaXMuX3Jlc3VsdFtpXSA9IGVudHJ5O1xuICAgICAgICB9IGVsc2UgaWYgKGMgPT09IGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRkZWZhdWx0KSB7XG4gICAgICAgICAgdmFyIHByb21pc2UgPSBuZXcgYyhsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRub29wKTtcbiAgICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRoYW5kbGVNYXliZVRoZW5hYmxlKHByb21pc2UsIGVudHJ5LCB0aGVuKTtcbiAgICAgICAgICB0aGlzLl93aWxsU2V0dGxlQXQocHJvbWlzZSwgaSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5fd2lsbFNldHRsZUF0KG5ldyBjKGZ1bmN0aW9uKHJlc29sdmUpIHsgcmVzb2x2ZShlbnRyeSk7IH0pLCBpKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fd2lsbFNldHRsZUF0KHJlc29sdmUoZW50cnkpLCBpKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgbGliJGVzNiRwcm9taXNlJGVudW1lcmF0b3IkJEVudW1lcmF0b3IucHJvdG90eXBlLl9zZXR0bGVkQXQgPSBmdW5jdGlvbihzdGF0ZSwgaSwgdmFsdWUpIHtcbiAgICAgIHZhciBwcm9taXNlID0gdGhpcy5wcm9taXNlO1xuXG4gICAgICBpZiAocHJvbWlzZS5fc3RhdGUgPT09IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFBFTkRJTkcpIHtcbiAgICAgICAgdGhpcy5fcmVtYWluaW5nLS07XG5cbiAgICAgICAgaWYgKHN0YXRlID09PSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRSRUpFQ1RFRCkge1xuICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlamVjdChwcm9taXNlLCB2YWx1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5fcmVzdWx0W2ldID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuX3JlbWFpbmluZyA9PT0gMCkge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRmdWxmaWxsKHByb21pc2UsIHRoaXMuX3Jlc3VsdCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGxpYiRlczYkcHJvbWlzZSRlbnVtZXJhdG9yJCRFbnVtZXJhdG9yLnByb3RvdHlwZS5fd2lsbFNldHRsZUF0ID0gZnVuY3Rpb24ocHJvbWlzZSwgaSkge1xuICAgICAgdmFyIGVudW1lcmF0b3IgPSB0aGlzO1xuXG4gICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRzdWJzY3JpYmUocHJvbWlzZSwgdW5kZWZpbmVkLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICBlbnVtZXJhdG9yLl9zZXR0bGVkQXQobGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkRlVMRklMTEVELCBpLCB2YWx1ZSk7XG4gICAgICB9LCBmdW5jdGlvbihyZWFzb24pIHtcbiAgICAgICAgZW51bWVyYXRvci5fc2V0dGxlZEF0KGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFJFSkVDVEVELCBpLCByZWFzb24pO1xuICAgICAgfSk7XG4gICAgfTtcbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkcG9seWZpbGwkJHBvbHlmaWxsKCkge1xuICAgICAgdmFyIGxvY2FsO1xuXG4gICAgICBpZiAodHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBsb2NhbCA9IGdsb2JhbDtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgbG9jYWwgPSBzZWxmO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBsb2NhbCA9IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3BvbHlmaWxsIGZhaWxlZCBiZWNhdXNlIGdsb2JhbCBvYmplY3QgaXMgdW5hdmFpbGFibGUgaW4gdGhpcyBlbnZpcm9ubWVudCcpO1xuICAgICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIFAgPSBsb2NhbC5Qcm9taXNlO1xuXG4gICAgICBpZiAoUCAmJiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoUC5yZXNvbHZlKCkpID09PSAnW29iamVjdCBQcm9taXNlXScgJiYgIVAuY2FzdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGxvY2FsLlByb21pc2UgPSBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkZGVmYXVsdDtcbiAgICB9XG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSRwb2x5ZmlsbCQkZGVmYXVsdCA9IGxpYiRlczYkcHJvbWlzZSRwb2x5ZmlsbCQkcG9seWZpbGw7XG5cbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJHVtZCQkRVM2UHJvbWlzZSA9IHtcbiAgICAgICdQcm9taXNlJzogbGliJGVzNiRwcm9taXNlJHByb21pc2UkJGRlZmF1bHQsXG4gICAgICAncG9seWZpbGwnOiBsaWIkZXM2JHByb21pc2UkcG9seWZpbGwkJGRlZmF1bHRcbiAgICB9O1xuXG4gICAgLyogZ2xvYmFsIGRlZmluZTp0cnVlIG1vZHVsZTp0cnVlIHdpbmRvdzogdHJ1ZSAqL1xuICAgIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZVsnYW1kJ10pIHtcbiAgICAgIGRlZmluZShmdW5jdGlvbigpIHsgcmV0dXJuIGxpYiRlczYkcHJvbWlzZSR1bWQkJEVTNlByb21pc2U7IH0pO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlWydleHBvcnRzJ10pIHtcbiAgICAgIG1vZHVsZVsnZXhwb3J0cyddID0gbGliJGVzNiRwcm9taXNlJHVtZCQkRVM2UHJvbWlzZTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiB0aGlzICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpc1snRVM2UHJvbWlzZSddID0gbGliJGVzNiRwcm9taXNlJHVtZCQkRVM2UHJvbWlzZTtcbiAgICB9XG5cbiAgICBsaWIkZXM2JHByb21pc2UkcG9seWZpbGwkJGRlZmF1bHQoKTtcbn0pLmNhbGwodGhpcyk7XG5cblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2VzNi1wcm9taXNlL2Rpc3QvZXM2LXByb21pc2UuanNcbiAqKiBtb2R1bGUgaWQgPSAyMVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLyoqXG4qIChDKSBDb3B5cmlnaHQgSUJNIENvcnAuIDIwMTYuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4qXG4qIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90XG4qIHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mXG4qIHRoZSBMaWNlbnNlIGF0XG4qXG4qIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuKlxuKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4qIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVFxuKiBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGVcbiogTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMgdW5kZXJcbiogdGhlIExpY2Vuc2UuXG4qL1xuXG5pZiAoIHR5cGVvZiBQcm9taXNlID09PSAndW5kZWZpbmVkJyApIHJlcXVpcmUoJ2VzNi1wcm9taXNlJykucG9seWZpbGwoKTtcblxudmFyIGFzc2lnbiA9IHJlcXVpcmUoJ2xvZGFzaC5hc3NpZ24nKTtcbnZhciBheGlvcyA9IHJlcXVpcmUoJ2F4aW9zJyk7XG52YXIgc3RvcmFnZSA9IHJlcXVpcmUoJy4vc3RvcmFnZScpO1xuXG52YXIgb3B0aW9ucyA9IHtcblx0YmFzZVVSTDogJ2h0dHBzOi8vZGV2LmFwaS5pYm0uY29tL3ZpcnR1YWxhZ2VudC9kZXZlbG9wbWVudC9hcGkvdjEvJyxcblx0dGltZW91dDogMzAgKiAxMDAwLFxuXHR1c2VySUQ6IG51bGwsXG5cdHdpdGhDcmVkZW50aWFsczogZmFsc2UsXG5cdFhJQk1DbGllbnRJRDogZmFsc2UsXG5cdFhJQk1DbGllbnRTZWNyZXQ6IGZhbHNlXG59O1xuXG52YXIgYXBpID0gYXhpb3MuY3JlYXRlKCBvcHRpb25zICk7XG5cbnZhciBwcm9maWxlRGF0YVJlID0gL1xcfCYoLio/KVxcfC9nO1xudmFyIGluc2VydFVzZXJQcm9maWxlRGF0YSA9IGZ1bmN0aW9uKG1zZykge1xuXHR2YXIgZmxhdHRlbiA9ICh0eXBlb2YgbXNnID09PSAnc3RyaW5nJykgPyBtc2cgOiBKU09OLnN0cmluZ2lmeShtc2cpO1xuXHR2YXIgbWF0Y2hlcyA9IChmbGF0dGVuLm1hdGNoKHByb2ZpbGVEYXRhUmUpIHx8IFtdKTtcblx0ZmxhdHRlbiA9IG1hdGNoZXMucmVkdWNlKGZ1bmN0aW9uKHJlc3VsdCwgcHJvZikge1xuXHRcdGNvbnN0IG5hbWUgPSBwcm9mLnNsaWNlKCAyLCAtMSApO1xuXHRcdGNvbnN0IHZhbHVlID0gc3RvcmFnZS5nZXQobmFtZSkgfHwgbmFtZTtcblx0XHRyZXR1cm4gcmVzdWx0LnJlcGxhY2UoIHByb2YsIHZhbHVlICk7XG5cdH0sIGZsYXR0ZW4pO1xuXHRyZXR1cm4gKHR5cGVvZiBtc2cgPT09ICdzdHJpbmcnKSA/IGZsYXR0ZW4gOiBKU09OLnBhcnNlKGZsYXR0ZW4pO1xufTtcblxuLyoqXG4gKiBAbmFtZXNwYWNlIFNES1xuICovXG5cbnZhciBTREsgPSBtb2R1bGUuZXhwb3J0cyA9IHtcblx0LyoqXG5cdCAqIENvbmZpZ3VyZSB0aGUgQ2xpZW50IFNES1xuXHQgKiBAZnVuY3Rpb24gY29uZmlndXJlXG5cdCAqIEBtZW1iZXJvZiBTREtcblx0ICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZ1xuXHQgKiBAcGFyYW0ge3N0cmluZ30gY29uZmlnLmJhc2VVUkw9aHR0cHM6Ly9kZXYuYXBpLmlibS5jb20vdmlydHVhbGFnZW50L2RldmVsb3BtZW50L2FwaS92MS8gLSBPcHRpb25hbDogVGhlIFVSTCB0aGUgU0RLIHNob3VsZCBwcmVwZW5kIHRvIHJlcXVlc3RzLlxuXHQgKiBAcGFyYW0ge2ludH0gY29uZmlnLnRpbWVvdXQ9MzAwMDAgLSBPcHRpb25hbDogSG93IGxvbmcgcmVxdWVzdHMgc2hvdWxkIHdhaXQgYmVmb3JlIHRoZXkgZXJyb3IuXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBjb25maWcudXNlcklEIC0gT3B0aW9uYWw6IEEgdXNlciBpZGVudGlmaWVyLCB0cmFuc2Zvcm1lZCBieSBhIG9uZS13YXkgaGFzaGluZyBhbGdvcml0aG0uIFVzZWQgYnkgeW91ciBNZXRyaWNzIERhc2hib2FyZCB0byB0cmFjayB1c2FnZS5cblx0ICogQHBhcmFtIHtzdHJpbmd9IGNvbmZpZy51c2VyTGF0TG9uIC0gT3B0aW9uYWw6IGxhdCxsb24gb3IgdXNlciAoIGVnLiAyOC4zODUyLC04MS41NjM5ICkuIFVzZWQgYnkgeW91ciBNZXRyaWNzIERhc2hib2FyZCB0byB0cmFjayB1c2FnZS5cblx0ICogQHBhcmFtIHtzdHJpbmd9IGNvbmZpZy53aXRoQ3JlZGVudGlhbHMgLSBPcHRpb25hbDogaW5kaWNhdGVzIHdoZXRoZXIgb3Igbm90IGNyb3NzLXNpdGUgQWNjZXNzLUNvbnRyb2wgcmVxdWVzdHMgc2hvdWxkIGJlIG1hZGUgdXNpbmcgY3JlZGVudGlhbHNcblx0ICogQHBhcmFtIHtzdHJpbmd9IGNvbmZpZy5YSUJNQ2xpZW50SUQgLSBPcHRpb25hbDogWW91ciBYLUlCTS1DbGllbnQtSWQuIFRoaXMgc2hvdWxkIG5vdCBiZSBtYWRlIHB1YmxpYyBpbiBhIHB1YmxpYyBlbnZpcm9ubWVudC4gSW5jbHVkaW5nIHRoaXMgd2lsbCBhZGQgWC1JQk0tQ2xpZW50LUlkIGFzIGEgaGVhZGVyIHRvIHlvdXIgcmVxdWVzdC5cblx0ICogQHBhcmFtIHtzdHJpbmd9IGNvbmZpZy5YSUJNQ2xpZW50U2VjcmV0IC0gT3B0aW9uYWw6IFlvdXIgWC1JQk0tQ2xpZW50LVNlY3JldC4gVGhpcyBzaG91bGQgbm90IGJlIG1hZGUgcHVibGljIGluIGEgcHVibGljIGVudmlyb25tZW50LiBJbmNsdWRpbmcgdGhpcyB3aWxsIGFkZCBYLUlCTS1DbGllbnQtU2VjcmV0IGFzIGEgaGVhZGVyIHRvIHlvdXIgcmVxdWVzdC5cblx0ICogQGV4YW1wbGVcblx0ICogU0RLLmNvbmZpZ3VyZSh7XG5cdCAqICAgYmFzZVVSTDogJ2h0dHBzOi8vc2VydmVyLm15c2l0ZS5jb20nLFxuXHQgKiAgIHVzZXJJRDogJ3BvaXV5dHJld3EnLFxuXHQgKiAgIHVzZXJMYXRMb246ICcyOC4zODUyLC04MS41NjM5J1xuXHQgKiB9KTtcblx0ICogQHJldHVybnMge1NES30gUmV0dXJuczogVGhlIFNESyBzaW5nbGV0b25cblx0ICovXG5cdGNvbmZpZ3VyZTogZnVuY3Rpb24oIGNvbmZpZyApIHtcblx0XHRhc3NpZ24oIG9wdGlvbnMsIGNvbmZpZyApO1xuXHRcdGFwaSA9IGF4aW9zLmNyZWF0ZSh7XG5cdFx0XHRiYXNlVVJMOiBvcHRpb25zLmJhc2VVUkwsXG5cdFx0XHR0aW1lb3V0OiBvcHRpb25zLnRpbWVvdXQsXG5cdFx0XHR3aXRoQ3JlZGVudGlhbHM6IG9wdGlvbnMud2l0aENyZWRlbnRpYWxzLFxuXHRcdFx0aGVhZGVyczogKG9wdGlvbnMuWElCTUNsaWVudElEICYmIG9wdGlvbnMuWElCTUNsaWVudFNlY3JldCkgPyB7XG5cdFx0XHRcdCdYLUlCTS1DbGllbnQtSWQnOiBvcHRpb25zLlhJQk1DbGllbnRJRCxcblx0XHRcdFx0J1gtSUJNLUNsaWVudC1TZWNyZXQnOiBvcHRpb25zLlhJQk1DbGllbnRTZWNyZXRcblx0XHRcdH0gOiB7fVxuXHRcdH0pO1xuXHRcdHJldHVybiBTREs7XG5cdH0sXG5cdC8qKlxuXHQgKiBTdGFydCBhIG5ldyBjaGF0IHNlc3Npb25cblx0ICogQGZ1bmN0aW9uIHN0YXJ0XG5cdCAqIEBtZW1iZXJvZiBTREtcblx0ICogQHBhcmFtIHtzdHJpbmd9IGJvdElEIC0gWW91ciBib3RJRC5cblx0ICogQGV4YW1wbGVcblx0ICogU0RLLnN0YXJ0KGJvdElEKVxuXHQgKiAgICAudGhlbihmdW5jdGlvbihyZXMpIHtcblx0ICogICAgICBjb25zb2xlLmxvZyhyZXMuY2hhdElELCByZXMubWVzc2FnZSk7XG5cdCAqICAgIH0pXG5cdCAqICAgIC5jYXRjaChmdW5jdGlvbihlcnIpIHtcblx0ICogICAgICBjb25zb2xlLmVycm9yKGVycik7XG5cdCAqICAgIH0pO1xuXHQgKiBAcmV0dXJucyB7UHJvbWlzZSh7IGNoYXRJRDogXCJzdHJpbmdcIiwgbWVzc2FnZTogXCJzdHJpbmdcIiB9KX0gUmV0dXJuczogQSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiB0aGUgY2hhdCBzZXNzaW9uIGlzIHN0YXJ0ZWQuXG5cdCAqL1xuXHRzdGFydDogZnVuY3Rpb24oIGJvdElEICkge1xuXHRcdHZhciByZXF1ZXN0SUQgPSB1dWlkKCk7XG5cdFx0dmFyIGRhdGEgPSB7IHVzZXJJRDogb3B0aW9ucy51c2VySUQsIHVzZXJMYXRMb246IG9wdGlvbnMudXNlckxhdExvbiB9O1xuXHRcdHZhciBlbmRwb2ludCA9ICcvYm90cy8nKyBib3RJRCArJy9kaWFsb2dzJztcblx0XHR2YXIgY29uZmlnID0geyAnaGVhZGVycyc6IHsgJ1gtUmVxdWVzdC1JRCc6IHJlcXVlc3RJRCB9IH07XG5cdFx0cmV0dXJuIGFwaVxuXHRcdFx0LnBvc3QoIGVuZHBvaW50LCBkYXRhLCBjb25maWcgKVxuXHRcdFx0LnRoZW4oIGZ1bmN0aW9uKCByZXMgKSB7XG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0Y2hhdElEOiByZXMuZGF0YS5kaWFsb2dfaWQsXG5cdFx0XHRcdFx0bWVzc2FnZTogaW5zZXJ0VXNlclByb2ZpbGVEYXRhKHJlcy5kYXRhLm1lc3NhZ2UpXG5cdFx0XHRcdH07XG5cdFx0XHR9KVsnY2F0Y2gnXSggZnVuY3Rpb24oIGVyciApIHtcblx0XHRcdFx0Y29uc29sZS5lcnJvcignUmVxdWVzdCBmYWlsZWQ6JywgcmVxdWVzdElEICk7XG5cdFx0XHRcdG9uRXJyb3IoIGVyciApO1xuXHRcdFx0fSk7XG5cdH0sXG5cdC8qKlxuXHQgKiBTZW5kIGEgbWVzc2FnZSB0byBhIGNoYXQgc2Vzc2lvblxuXHQgKiBAZnVuY3Rpb24gc2VuZFxuXHQgKiBAbWVtYmVyb2YgU0RLXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBib3RJRCAtIFlvdXIgYm90SURcblx0ICogQHBhcmFtIHtzdHJpbmd9IGNoYXRJRCAtIFlvdXIgY2hhdElEIHByb3ZpZGVkIGJ5IFNESy5zdGFydFxuXHQgKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSAtIFlvdXIgbWVzc2FnZVxuXHQgKiBAZXhhbXBsZVxuXHQgKiBTREsuc2VuZChib3RJRCwgY2hhdElELCAnSGVsbG8hJylcblx0ICogICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuXHQgKiAgICAgIGNvbnNvbGUubG9nKGRhdGEubWVzc2FnZSk7XG5cdCAqICAgIH0pXG5cdCAqICAgIC5jYXRjaChmdW5jdGlvbihlcnIpIHtcblx0ICogICAgICBjb25zb2xlLmVycm9yKGVycik7XG5cdCAqICAgIH0pO1xuXHQgKiBAcmV0dXJucyB7UHJvbWlzZSh7IG1lc3NhZ2U6IFwic3RyaW5nXCIgfSl9IFJldHVybnM6IEEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdGhlIGJvdCByZXNwb25kcy5cblx0ICovXG5cdHNlbmQ6IGZ1bmN0aW9uKCBib3RJRCwgY2hhdElELCBtZXNzYWdlICkge1xuXHRcdHZhciByZXF1ZXN0SUQgPSB1dWlkKCk7XG5cdFx0dmFyIGRhdGEgPSB7IG1lc3NhZ2U6IG1lc3NhZ2UsIHVzZXJJRDogb3B0aW9ucy51c2VySUQsIHVzZXJMYXRMb246IG9wdGlvbnMudXNlckxhdExvbiB9O1xuXHRcdHZhciBlbmRwb2ludCA9ICcvYm90cy8nKyBib3RJRCArJy9kaWFsb2dzLycrIGNoYXRJRCArJy9tZXNzYWdlcyc7XG5cdFx0dmFyIGNvbmZpZyA9IHsgJ2hlYWRlcnMnOiB7ICdYLVJlcXVlc3QtSUQnOiByZXF1ZXN0SUQgfSB9O1xuXHRcdHJldHVybiBhcGlcblx0XHRcdC5wb3N0KCBlbmRwb2ludCwgZGF0YSwgY29uZmlnIClcblx0XHRcdC50aGVuKCBmdW5jdGlvbiggcmVzICkge1xuXHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdG1lc3NhZ2U6IGluc2VydFVzZXJQcm9maWxlRGF0YShyZXMuZGF0YS5tZXNzYWdlKVxuXHRcdFx0XHR9O1xuXHRcdFx0fSlbJ2NhdGNoJ10oIGZ1bmN0aW9uKCBlcnIgKSB7XG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IoJ1JlcXVlc3QgZmFpbGVkOicsIHJlcXVlc3RJRCApO1xuXHRcdFx0XHRvbkVycm9yKCBlcnIgKTtcblx0XHRcdH0pO1xuXHR9LFxuXHQvKipcblx0KiBJdGVyYXRlIHByb2ZpbGUgZGF0YSBpbnRvIGEgZ2l2ZW4gbWVzc2FnZSBvYmplY3QuXG5cdCogQG1lbWJlcm9mIFNES1xuXHQqIEBmdW5jdGlvbiBwYXJzZVxuXHQqIEBwYXJhbSB7QW55fSBtZXNzYWdlIC0gQSBzdHJpbmcgb3IgbWVzc2FnZSBvYmplY3QgdG8gaW5zZXJ0IHByb2ZpbGUgZGF0YSBpbnRvLlxuXHQqIEByZXR1cm5zIHtBbnl9IFJldHVybnM6IFRoZSBtZXNzYWdlIGluIG9yaWdpbmFsIGZvcm1hdCB3aXRoIHZhcmlhYmxlcyByZXBsYWNlZC5cblx0KiBAZXhhbXBsZVxuXHQqIHZhciBtZXNzYWdlID0gXCJZb3Ugb3dlIHwmYmlsbF9hbW91bnR8LlwiO1xuXHQqIHZhciBwYXJzZWQgPSBTREsucGFyc2UobWVzc2FnZSk7XG5cdCovXG5cdHBhcnNlOiBpbnNlcnRVc2VyUHJvZmlsZURhdGEsXG5cdC8qKlxuXHQgKiBAbmFtZXNwYWNlIHByb2ZpbGVcblx0ICogQG1lbWJlcm9mIFNES1xuXHQgKi9cblx0cHJvZmlsZToge1xuXHRcdC8qKlxuXHRcdCogR2V0IGFuIGl0ZW0gZnJvbSB0aGUgdXNlciBwcm9maWxlIGJhc2VkIG9uIGtleS5cblx0XHQqIEBtZW1iZXJvZiBTREsucHJvZmlsZVxuXHRcdCogQGZ1bmN0aW9uIGdldFxuXHRcdCogQHBhcmFtIHtzdHJpbmd9IGtleSAtIFRoZSBuYW1lZCBrZXkgb2YgdGhlIHZhbHVlIHlvdSBhcmUgYWNjZXNzaW5nLlxuXHRcdCogQGV4YW1wbGVcblx0XHQqIFNESy5wcm9maWxlLmdldCgnZmlyc3RfbmFtZScpO1xuXHRcdCogQHJldHVybnMge0FueX0gUmV0dXJuczogdGhlIHZhbHVlIG9mIHRoZSBrZXkgaW4gdGhlIHByb2ZpbGUgbWFwLlxuXHRcdCovXG5cdFx0Z2V0OiBzdG9yYWdlLmdldCxcblx0XHQvKipcblx0XHQqIFNldCBhbiBpdGVtIGZyb20gdGhlIHVzZXIgcHJvZmlsZSBiYXNlZCBvbiBrZXkuXG5cdFx0KiBAbWVtYmVyb2YgU0RLLnByb2ZpbGVcblx0XHQqIEBmdW5jdGlvbiBzZXRcblx0XHQqIEBwYXJhbSB7c3RyaW5nfSBrZXkgLSBUaGUgbmFtZWQga2V5IG9mIHRoZSB2YWx1ZSB5b3UgYXJlIHNldHRpbmcuXG5cdFx0KiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgLSBUaGUgdmFsdWUgeW91IGFyZSBzZXR0aW5nLlxuXHRcdCogQHJldHVybnMge09iamVjdH0gUmV0dXJuczogQW4gaW5zdGFuY2Ugb2YgU0RLLnByb2ZpbGUgZm9yIGNoYWluaW5nLlxuXHRcdCogQGV4YW1wbGVcblx0XHQqIFNESy5wcm9maWxlLnNldCgnZmlyc3RfbmFtZScsICdqb2huJyk7XG5cdFx0Ki9cblx0XHRzZXQ6IHN0b3JhZ2Uuc2V0LFxuXHRcdC8qKlxuXHRcdCogU2VlIGlmIGFuIGl0ZW0gZnJvbSB0aGUgdXNlciBwcm9maWxlIGV4aXN0cyBiYXNlZCBvbiBrZXkuXG5cdFx0KiBAbWVtYmVyb2YgU0RLLnByb2ZpbGVcblx0XHQqIEBmdW5jdGlvbiBoYXNcblx0XHQqIEBwYXJhbSB7c3RyaW5nfSBrZXkgLSBUaGUgbmFtZWQga2V5IG9mIHRoZSB2YWx1ZSB5b3UgYXJlIGNoZWNraW5nIHRoZSBleGlzdGFuY2Ugb2YuXG5cdFx0KiBAZXhhbXBsZVxuXHRcdCogU0RLLnByb2ZpbGUuaGFzKCdmaXJzdF9uYW1lJyk7XG5cdFx0KiBAcmV0dXJucyB7Qm9vbGVhbn0gUmV0dXJuczogQm9vbGVhbiBpbmRpY2F0aW5nIGlmIHRoZSBrZXkgZXhpc3RzLlxuXHRcdCovXG5cdFx0aGFzOiBzdG9yYWdlLmhhcyxcblx0XHQvKipcblx0XHQqIENsZWFyIHRoZSBlbnRpcmUgdXNlciBwcm9maWxlLlxuXHRcdCogQG1lbWJlcm9mIFNESy5wcm9maWxlXG5cdFx0KiBAZnVuY3Rpb24gY2xlYXJcblx0XHQqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnM6IEFuIGluc3RhbmNlIG9mIFNESy5wcm9maWxlIGZvciBjaGFpbmluZy5cblx0XHQqIEBleGFtcGxlXG5cdFx0KiBTREsucHJvZmlsZS5jbGVhcigpO1xuXHRcdCovXG5cdFx0Y2xlYXI6IHN0b3JhZ2UuY2xlYXIsXG5cdFx0LyoqXG5cdFx0KiBEZWxldGUgYW4gaXRlbSBmcm9tIHRoZSB1c2VyIHByb2ZpbGUgYmFzZWQgb24ga2V5LlxuXHRcdCogQG1lbWJlcm9mIFNESy5wcm9maWxlXG5cdFx0KiBAZnVuY3Rpb24gZGVsZXRlXG5cdFx0KiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zOiBBbiBpbnN0YW5jZSBvZiBTREsucHJvZmlsZSBmb3IgY2hhaW5pbmcuXG5cdFx0KiBAcGFyYW0ge3N0cmluZ30ga2V5IC0gVGhlIG5hbWVkIGtleSBvZiB0aGUgdmFsdWUgeW91IGFyZSBkZWxldGluZy5cblx0XHQqIEBleGFtcGxlXG5cdFx0KiBTREsucHJvZmlsZS5kZWxldGUoJ2ZpcnN0X25hbWUnKTtcblx0XHQqL1xuXHRcdGRlbGV0ZTogc3RvcmFnZS5kZWxldGUsXG5cdFx0LyoqXG5cdFx0KiBJdGVyYXRlIG92ZXIgdGhlIHByb2ZpbGUuXG5cdFx0KiBAbWVtYmVyb2YgU0RLLnByb2ZpbGVcblx0XHQqIEBmdW5jdGlvbiBmb3JFYWNoXG5cdFx0KiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFjayAtIFRoZSBmdW5jdGlvbiB5b3UgYXJlIGNhbGxpbmcgb24gZWFjaCBpdGVtIGluIHRoZSBwcm9maWxlIG9iamVjdC4gVGhpcyBmdW5jdGlvbiBpcyBwYXNzZWQga2V5IGFzIHRoZSBmaXJzdCBhcmd1bWVudCBhbmQgdmFsdWUgYXMgdGhlIHNlY29uZCBhcmd1bWVudC5cblx0XHQqIEBwYXJhbSB7T2JqZWN0fSB0aGlzIC0gKG9wdGlvbmFsKSBUaGUgY29udGV4dCB5b3Ugd2lzaCB0byBjYWxsIHRoZSBjYWxsYmFjayBpbi5cblx0XHQqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnM6IEFuIGluc3RhbmNlIG9mIFNESy5wcm9maWxlIGZvciBjaGFpbmluZy5cblx0XHQqIEBleGFtcGxlXG5cdFx0KiBTREsucHJvZmlsZS5mb3JFYWNoKGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcblx0XHQqICAgY29uc29sZS5sb2coa2V5LCB2YWx1ZSk7XG5cdFx0KiB9KTtcblx0XHQqL1xuXHRcdGZvckVhY2g6IHN0b3JhZ2UuZm9yRWFjaFxuXHR9XG59O1xuXG52YXIgdXVpZCA9IGZ1bmN0aW9uKCApIHtcblx0cmV0dXJuICd4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHgnLnJlcGxhY2UoL1t4eV0vZywgZnVuY3Rpb24oYykge1xuXHRcdHZhciByID0gTWF0aC5yYW5kb20oKSoxNnwwLCB2ID0gYyA9PSAneCcgPyByIDogKHImMHgzfDB4OCk7XG5cdFx0cmV0dXJuIHYudG9TdHJpbmcoMTYpO1xuXHR9KTtcbn07XG5cbnZhciBvbkVycm9yID0gZnVuY3Rpb24oIGVyciApIHtcblx0aWYgKCAhZXJyLnN0YXR1cyApXG5cdFx0dGhyb3cgZXJyO1xuXHR2YXIgc3RhdHVzID0gZXJyLnN0YXR1cztcblx0dmFyIHN0YXR1c1RleHQgPSBlcnIuc3RhdHVzVGV4dDtcblx0dmFyIGVycm9yID0gbmV3IEVycm9yKCBzdGF0dXNUZXh0ICk7XG5cdGVycm9yLnN0YXR1cyA9IHN0YXR1cztcblx0dGhyb3cgZXJyb3I7XG59O1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL3NyYy9zZGsuanNcbiAqKiBtb2R1bGUgaWQgPSAyMlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLyoqXG4qIChDKSBDb3B5cmlnaHQgSUJNIENvcnAuIDIwMTYuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4qXG4qIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90XG4qIHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mXG4qIHRoZSBMaWNlbnNlIGF0XG4qXG4qIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuKlxuKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4qIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVFxuKiBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGVcbiogTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMgdW5kZXJcbiogdGhlIExpY2Vuc2UuXG4qL1xuXG52YXIgcHJvZmlsZSA9IHt9O1xudmFyIHN0b3JhZ2UgPSB7XG5cdHNldDogZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuXHRcdHByb2ZpbGVba2V5XSA9IHZhbHVlO1xuXHRcdHJldHVybiBzdG9yYWdlO1xuXHR9LFxuXHRnZXQ6IGZ1bmN0aW9uKGtleSkge1xuXHRcdHJldHVybiBwcm9maWxlW2tleV0gfHwgJyc7XG5cdH0sXG5cdGhhczogZnVuY3Rpb24oa2V5KSB7XG5cdFx0cmV0dXJuIChwcm9maWxlW2tleV0gIT09IHVuZGVmaW5lZCk7XG5cdH0sXG5cdGNsZWFyOiBmdW5jdGlvbigpIHtcblx0XHRwcm9maWxlID0ge307XG5cdFx0cmV0dXJuIHN0b3JhZ2U7XG5cdH0sXG5cdGRlbGV0ZTogZnVuY3Rpb24oa2V5KSB7XG5cdFx0ZGVsZXRlIHByb2ZpbGVba2V5XTtcblx0XHRyZXR1cm4gc3RvcmFnZTtcblx0fSxcblx0Zm9yRWFjaDogZnVuY3Rpb24oY2IsIGNvbnRleHQpIHtcblx0XHRPYmplY3Qua2V5cyhwcm9maWxlKS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuXHRcdFx0aWYgKGNvbnRleHQpXG5cdFx0XHRcdGNiKGtleSwgcHJvZmlsZVtrZXldKS5iaW5kKGNvbnRleHQpO1xuXHRcdFx0ZWxzZVxuXHRcdFx0XHRjYihrZXksIHByb2ZpbGVba2V5XSk7XG5cdFx0fSk7XG5cdFx0cmV0dXJuIHN0b3JhZ2U7XG5cdH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gc3RvcmFnZTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9zcmMvc3RvcmFnZS5qc1xuICoqIG1vZHVsZSBpZCA9IDIzXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvKipcbiAqIGxvZGFzaCAoQ3VzdG9tIEJ1aWxkKSA8aHR0cHM6Ly9sb2Rhc2guY29tLz5cbiAqIEJ1aWxkOiBgbG9kYXNoIG1vZHVsYXJpemUgZXhwb3J0cz1cIm5wbVwiIC1vIC4vYFxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnMgPGh0dHBzOi8vanF1ZXJ5Lm9yZy8+XG4gKiBSZWxlYXNlZCB1bmRlciBNSVQgbGljZW5zZSA8aHR0cHM6Ly9sb2Rhc2guY29tL2xpY2Vuc2U+XG4gKiBCYXNlZCBvbiBVbmRlcnNjb3JlLmpzIDEuOC4zIDxodHRwOi8vdW5kZXJzY29yZWpzLm9yZy9MSUNFTlNFPlxuICogQ29weXJpZ2h0IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4gKi9cblxuLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovXG52YXIgTUFYX1NBRkVfSU5URUdFUiA9IDkwMDcxOTkyNTQ3NDA5OTE7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBhcmdzVGFnID0gJ1tvYmplY3QgQXJndW1lbnRzXScsXG4gICAgZnVuY1RhZyA9ICdbb2JqZWN0IEZ1bmN0aW9uXScsXG4gICAgZ2VuVGFnID0gJ1tvYmplY3QgR2VuZXJhdG9yRnVuY3Rpb25dJyxcbiAgICBzdHJpbmdUYWcgPSAnW29iamVjdCBTdHJpbmddJztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IHVuc2lnbmVkIGludGVnZXIgdmFsdWVzLiAqL1xudmFyIHJlSXNVaW50ID0gL14oPzowfFsxLTldXFxkKikkLztcblxuLyoqXG4gKiBBIGZhc3RlciBhbHRlcm5hdGl2ZSB0byBgRnVuY3Rpb24jYXBwbHlgLCB0aGlzIGZ1bmN0aW9uIGludm9rZXMgYGZ1bmNgXG4gKiB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiBgdGhpc0FyZ2AgYW5kIHRoZSBhcmd1bWVudHMgb2YgYGFyZ3NgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBpbnZva2UuXG4gKiBAcGFyYW0geyp9IHRoaXNBcmcgVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBmdW5jYC5cbiAqIEBwYXJhbSB7QXJyYXl9IGFyZ3MgVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgYGZ1bmNgIHdpdGguXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzdWx0IG9mIGBmdW5jYC5cbiAqL1xuZnVuY3Rpb24gYXBwbHkoZnVuYywgdGhpc0FyZywgYXJncykge1xuICBzd2l0Y2ggKGFyZ3MubGVuZ3RoKSB7XG4gICAgY2FzZSAwOiByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcpO1xuICAgIGNhc2UgMTogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLCBhcmdzWzBdKTtcbiAgICBjYXNlIDI6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZywgYXJnc1swXSwgYXJnc1sxXSk7XG4gICAgY2FzZSAzOiByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsIGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICB9XG4gIHJldHVybiBmdW5jLmFwcGx5KHRoaXNBcmcsIGFyZ3MpO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnByb3BlcnR5YCB3aXRob3V0IHN1cHBvcnQgZm9yIGRlZXAgcGF0aHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWNjZXNzb3IgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGJhc2VQcm9wZXJ0eShrZXkpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IG9iamVjdFtrZXldO1xuICB9O1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnRpbWVzYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHNcbiAqIG9yIG1heCBhcnJheSBsZW5ndGggY2hlY2tzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIHRpbWVzIHRvIGludm9rZSBgaXRlcmF0ZWVgLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcmVzdWx0cy5cbiAqL1xuZnVuY3Rpb24gYmFzZVRpbWVzKG4sIGl0ZXJhdGVlKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgcmVzdWx0ID0gQXJyYXkobik7XG5cbiAgd2hpbGUgKCsraW5kZXggPCBuKSB7XG4gICAgcmVzdWx0W2luZGV4XSA9IGl0ZXJhdGVlKGluZGV4KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggaXRzIGZpcnN0IGFyZ3VtZW50IHRyYW5zZm9ybWVkLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gdHJhbnNmb3JtIFRoZSBhcmd1bWVudCB0cmFuc2Zvcm0uXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gb3ZlckFyZyhmdW5jLCB0cmFuc2Zvcm0pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiBmdW5jKHRyYW5zZm9ybShhcmcpKTtcbiAgfTtcbn1cblxuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG52YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqXG4gKiBVc2VkIHRvIHJlc29sdmUgdGhlXG4gKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNi4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcbiAqIG9mIHZhbHVlcy5cbiAqL1xudmFyIG9iamVjdFRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIHByb3BlcnR5SXNFbnVtZXJhYmxlID0gb2JqZWN0UHJvdG8ucHJvcGVydHlJc0VudW1lcmFibGU7XG5cbi8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIGZvciB0aG9zZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgb3RoZXIgYGxvZGFzaGAgbWV0aG9kcy4gKi9cbnZhciBuYXRpdmVHZXRQcm90b3R5cGUgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YsXG4gICAgbmF0aXZlS2V5cyA9IE9iamVjdC5rZXlzLFxuICAgIG5hdGl2ZU1heCA9IE1hdGgubWF4O1xuXG4vKiogRGV0ZWN0IGlmIHByb3BlcnRpZXMgc2hhZG93aW5nIHRob3NlIG9uIGBPYmplY3QucHJvdG90eXBlYCBhcmUgbm9uLWVudW1lcmFibGUuICovXG52YXIgbm9uRW51bVNoYWRvd3MgPSAhcHJvcGVydHlJc0VudW1lcmFibGUuY2FsbCh7ICd2YWx1ZU9mJzogMSB9LCAndmFsdWVPZicpO1xuXG4vKipcbiAqIEFzc2lnbnMgYHZhbHVlYCB0byBga2V5YCBvZiBgb2JqZWN0YCBpZiB0aGUgZXhpc3RpbmcgdmFsdWUgaXMgbm90IGVxdWl2YWxlbnRcbiAqIHVzaW5nIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzYuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGFzc2lnbi5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGFzc2lnbi5cbiAqL1xuZnVuY3Rpb24gYXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gIHZhciBvYmpWYWx1ZSA9IG9iamVjdFtrZXldO1xuICBpZiAoIShoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSAmJiBlcShvYmpWYWx1ZSwgdmFsdWUpKSB8fFxuICAgICAgKHZhbHVlID09PSB1bmRlZmluZWQgJiYgIShrZXkgaW4gb2JqZWN0KSkpIHtcbiAgICBvYmplY3Rba2V5XSA9IHZhbHVlO1xuICB9XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaGFzYCB3aXRob3V0IHN1cHBvcnQgZm9yIGRlZXAgcGF0aHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IGtleSBUaGUga2V5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBiYXNlSGFzKG9iamVjdCwga2V5KSB7XG4gIC8vIEF2b2lkIGEgYnVnIGluIElFIDEwLTExIHdoZXJlIG9iamVjdHMgd2l0aCBhIFtbUHJvdG90eXBlXV0gb2YgYG51bGxgLFxuICAvLyB0aGF0IGFyZSBjb21wb3NlZCBlbnRpcmVseSBvZiBpbmRleCBwcm9wZXJ0aWVzLCByZXR1cm4gYGZhbHNlYCBmb3JcbiAgLy8gYGhhc093blByb3BlcnR5YCBjaGVja3Mgb2YgdGhlbS5cbiAgcmV0dXJuIG9iamVjdCAhPSBudWxsICYmXG4gICAgKGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpIHx8XG4gICAgICAodHlwZW9mIG9iamVjdCA9PSAnb2JqZWN0JyAmJiBrZXkgaW4gb2JqZWN0ICYmIGdldFByb3RvdHlwZShvYmplY3QpID09PSBudWxsKSk7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ua2V5c2Agd2hpY2ggZG9lc24ndCBza2lwIHRoZSBjb25zdHJ1Y3RvclxuICogcHJvcGVydHkgb2YgcHJvdG90eXBlcyBvciB0cmVhdCBzcGFyc2UgYXJyYXlzIGFzIGRlbnNlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICovXG52YXIgYmFzZUtleXMgPSBvdmVyQXJnKG5hdGl2ZUtleXMsIE9iamVjdCk7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucmVzdGAgd2hpY2ggZG9lc24ndCB2YWxpZGF0ZSBvciBjb2VyY2UgYXJndW1lbnRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhcHBseSBhIHJlc3QgcGFyYW1ldGVyIHRvLlxuICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD1mdW5jLmxlbmd0aC0xXSBUaGUgc3RhcnQgcG9zaXRpb24gb2YgdGhlIHJlc3QgcGFyYW1ldGVyLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGJhc2VSZXN0KGZ1bmMsIHN0YXJ0KSB7XG4gIHN0YXJ0ID0gbmF0aXZlTWF4KHN0YXJ0ID09PSB1bmRlZmluZWQgPyAoZnVuYy5sZW5ndGggLSAxKSA6IHN0YXJ0LCAwKTtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBhcmdzID0gYXJndW1lbnRzLFxuICAgICAgICBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBuYXRpdmVNYXgoYXJncy5sZW5ndGggLSBzdGFydCwgMCksXG4gICAgICAgIGFycmF5ID0gQXJyYXkobGVuZ3RoKTtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBhcnJheVtpbmRleF0gPSBhcmdzW3N0YXJ0ICsgaW5kZXhdO1xuICAgIH1cbiAgICBpbmRleCA9IC0xO1xuICAgIHZhciBvdGhlckFyZ3MgPSBBcnJheShzdGFydCArIDEpO1xuICAgIHdoaWxlICgrK2luZGV4IDwgc3RhcnQpIHtcbiAgICAgIG90aGVyQXJnc1tpbmRleF0gPSBhcmdzW2luZGV4XTtcbiAgICB9XG4gICAgb3RoZXJBcmdzW3N0YXJ0XSA9IGFycmF5O1xuICAgIHJldHVybiBhcHBseShmdW5jLCB0aGlzLCBvdGhlckFyZ3MpO1xuICB9O1xufVxuXG4vKipcbiAqIENvcGllcyBwcm9wZXJ0aWVzIG9mIGBzb3VyY2VgIHRvIGBvYmplY3RgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3QgdG8gY29weSBwcm9wZXJ0aWVzIGZyb20uXG4gKiBAcGFyYW0ge0FycmF5fSBwcm9wcyBUaGUgcHJvcGVydHkgaWRlbnRpZmllcnMgdG8gY29weS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0PXt9XSBUaGUgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyB0by5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvcGllZCB2YWx1ZXMuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICovXG5mdW5jdGlvbiBjb3B5T2JqZWN0KHNvdXJjZSwgcHJvcHMsIG9iamVjdCwgY3VzdG9taXplcikge1xuICBvYmplY3QgfHwgKG9iamVjdCA9IHt9KTtcblxuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IHByb3BzLmxlbmd0aDtcblxuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciBrZXkgPSBwcm9wc1tpbmRleF07XG5cbiAgICB2YXIgbmV3VmFsdWUgPSBjdXN0b21pemVyXG4gICAgICA/IGN1c3RvbWl6ZXIob2JqZWN0W2tleV0sIHNvdXJjZVtrZXldLCBrZXksIG9iamVjdCwgc291cmNlKVxuICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICBhc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgbmV3VmFsdWUgPT09IHVuZGVmaW5lZCA/IHNvdXJjZVtrZXldIDogbmV3VmFsdWUpO1xuICB9XG4gIHJldHVybiBvYmplY3Q7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGxpa2UgYF8uYXNzaWduYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gYXNzaWduZXIgVGhlIGZ1bmN0aW9uIHRvIGFzc2lnbiB2YWx1ZXMuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhc3NpZ25lciBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlQXNzaWduZXIoYXNzaWduZXIpIHtcbiAgcmV0dXJuIGJhc2VSZXN0KGZ1bmN0aW9uKG9iamVjdCwgc291cmNlcykge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBzb3VyY2VzLmxlbmd0aCxcbiAgICAgICAgY3VzdG9taXplciA9IGxlbmd0aCA+IDEgPyBzb3VyY2VzW2xlbmd0aCAtIDFdIDogdW5kZWZpbmVkLFxuICAgICAgICBndWFyZCA9IGxlbmd0aCA+IDIgPyBzb3VyY2VzWzJdIDogdW5kZWZpbmVkO1xuXG4gICAgY3VzdG9taXplciA9IChhc3NpZ25lci5sZW5ndGggPiAzICYmIHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicpXG4gICAgICA/IChsZW5ndGgtLSwgY3VzdG9taXplcilcbiAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgaWYgKGd1YXJkICYmIGlzSXRlcmF0ZWVDYWxsKHNvdXJjZXNbMF0sIHNvdXJjZXNbMV0sIGd1YXJkKSkge1xuICAgICAgY3VzdG9taXplciA9IGxlbmd0aCA8IDMgPyB1bmRlZmluZWQgOiBjdXN0b21pemVyO1xuICAgICAgbGVuZ3RoID0gMTtcbiAgICB9XG4gICAgb2JqZWN0ID0gT2JqZWN0KG9iamVjdCk7XG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIHZhciBzb3VyY2UgPSBzb3VyY2VzW2luZGV4XTtcbiAgICAgIGlmIChzb3VyY2UpIHtcbiAgICAgICAgYXNzaWduZXIob2JqZWN0LCBzb3VyY2UsIGluZGV4LCBjdXN0b21pemVyKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG9iamVjdDtcbiAgfSk7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgXCJsZW5ndGhcIiBwcm9wZXJ0eSB2YWx1ZSBvZiBgb2JqZWN0YC5cbiAqXG4gKiAqKk5vdGU6KiogVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIGF2b2lkIGFcbiAqIFtKSVQgYnVnXShodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTQyNzkyKSB0aGF0IGFmZmVjdHNcbiAqIFNhZmFyaSBvbiBhdCBsZWFzdCBpT1MgOC4xLTguMyBBUk02NC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIFwibGVuZ3RoXCIgdmFsdWUuXG4gKi9cbnZhciBnZXRMZW5ndGggPSBiYXNlUHJvcGVydHkoJ2xlbmd0aCcpO1xuXG4vKipcbiAqIEdldHMgdGhlIGBbW1Byb3RvdHlwZV1dYCBvZiBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtudWxsfE9iamVjdH0gUmV0dXJucyB0aGUgYFtbUHJvdG90eXBlXV1gLlxuICovXG52YXIgZ2V0UHJvdG90eXBlID0gb3ZlckFyZyhuYXRpdmVHZXRQcm90b3R5cGUsIE9iamVjdCk7XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBhcnJheSBvZiBpbmRleCBrZXlzIGZvciBgb2JqZWN0YCB2YWx1ZXMgb2YgYXJyYXlzLFxuICogYGFyZ3VtZW50c2Agb2JqZWN0cywgYW5kIHN0cmluZ3MsIG90aGVyd2lzZSBgbnVsbGAgaXMgcmV0dXJuZWQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheXxudWxsfSBSZXR1cm5zIGluZGV4IGtleXMsIGVsc2UgYG51bGxgLlxuICovXG5mdW5jdGlvbiBpbmRleEtleXMob2JqZWN0KSB7XG4gIHZhciBsZW5ndGggPSBvYmplY3QgPyBvYmplY3QubGVuZ3RoIDogdW5kZWZpbmVkO1xuICBpZiAoaXNMZW5ndGgobGVuZ3RoKSAmJlxuICAgICAgKGlzQXJyYXkob2JqZWN0KSB8fCBpc1N0cmluZyhvYmplY3QpIHx8IGlzQXJndW1lbnRzKG9iamVjdCkpKSB7XG4gICAgcmV0dXJuIGJhc2VUaW1lcyhsZW5ndGgsIFN0cmluZyk7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBhcnJheS1saWtlIGluZGV4LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoPU1BWF9TQUZFX0lOVEVHRVJdIFRoZSB1cHBlciBib3VuZHMgb2YgYSB2YWxpZCBpbmRleC5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgaW5kZXgsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNJbmRleCh2YWx1ZSwgbGVuZ3RoKSB7XG4gIGxlbmd0aCA9IGxlbmd0aCA9PSBudWxsID8gTUFYX1NBRkVfSU5URUdFUiA6IGxlbmd0aDtcbiAgcmV0dXJuICEhbGVuZ3RoICYmXG4gICAgKHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyB8fCByZUlzVWludC50ZXN0KHZhbHVlKSkgJiZcbiAgICAodmFsdWUgPiAtMSAmJiB2YWx1ZSAlIDEgPT0gMCAmJiB2YWx1ZSA8IGxlbmd0aCk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIHRoZSBnaXZlbiBhcmd1bWVudHMgYXJlIGZyb20gYW4gaXRlcmF0ZWUgY2FsbC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgcG90ZW50aWFsIGl0ZXJhdGVlIHZhbHVlIGFyZ3VtZW50LlxuICogQHBhcmFtIHsqfSBpbmRleCBUaGUgcG90ZW50aWFsIGl0ZXJhdGVlIGluZGV4IG9yIGtleSBhcmd1bWVudC5cbiAqIEBwYXJhbSB7Kn0gb2JqZWN0IFRoZSBwb3RlbnRpYWwgaXRlcmF0ZWUgb2JqZWN0IGFyZ3VtZW50LlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBhcmd1bWVudHMgYXJlIGZyb20gYW4gaXRlcmF0ZWUgY2FsbCxcbiAqICBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzSXRlcmF0ZWVDYWxsKHZhbHVlLCBpbmRleCwgb2JqZWN0KSB7XG4gIGlmICghaXNPYmplY3Qob2JqZWN0KSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgdHlwZSA9IHR5cGVvZiBpbmRleDtcbiAgaWYgKHR5cGUgPT0gJ251bWJlcidcbiAgICAgICAgPyAoaXNBcnJheUxpa2Uob2JqZWN0KSAmJiBpc0luZGV4KGluZGV4LCBvYmplY3QubGVuZ3RoKSlcbiAgICAgICAgOiAodHlwZSA9PSAnc3RyaW5nJyAmJiBpbmRleCBpbiBvYmplY3QpXG4gICAgICApIHtcbiAgICByZXR1cm4gZXEob2JqZWN0W2luZGV4XSwgdmFsdWUpO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsaWtlbHkgYSBwcm90b3R5cGUgb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcHJvdG90eXBlLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzUHJvdG90eXBlKHZhbHVlKSB7XG4gIHZhciBDdG9yID0gdmFsdWUgJiYgdmFsdWUuY29uc3RydWN0b3IsXG4gICAgICBwcm90byA9ICh0eXBlb2YgQ3RvciA9PSAnZnVuY3Rpb24nICYmIEN0b3IucHJvdG90eXBlKSB8fCBvYmplY3RQcm90bztcblxuICByZXR1cm4gdmFsdWUgPT09IHByb3RvO1xufVxuXG4vKipcbiAqIFBlcmZvcm1zIGFcbiAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzYuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gKiBjb21wYXJpc29uIGJldHdlZW4gdHdvIHZhbHVlcyB0byBkZXRlcm1pbmUgaWYgdGhleSBhcmUgZXF1aXZhbGVudC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEgfTtcbiAqIHZhciBvdGhlciA9IHsgJ2EnOiAxIH07XG4gKlxuICogXy5lcShvYmplY3QsIG9iamVjdCk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5lcShvYmplY3QsIG90aGVyKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5lcSgnYScsICdhJyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5lcSgnYScsIE9iamVjdCgnYScpKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5lcShOYU4sIE5hTik7XG4gKiAvLyA9PiB0cnVlXG4gKi9cbmZ1bmN0aW9uIGVxKHZhbHVlLCBvdGhlcikge1xuICByZXR1cm4gdmFsdWUgPT09IG90aGVyIHx8ICh2YWx1ZSAhPT0gdmFsdWUgJiYgb3RoZXIgIT09IG90aGVyKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsaWtlbHkgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGBhcmd1bWVudHNgIG9iamVjdCxcbiAqICBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNBcmd1bWVudHMoZnVuY3Rpb24oKSB7IHJldHVybiBhcmd1bWVudHM7IH0oKSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FyZ3VtZW50cyhbMSwgMiwgM10pO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNBcmd1bWVudHModmFsdWUpIHtcbiAgLy8gU2FmYXJpIDguMSBpbmNvcnJlY3RseSBtYWtlcyBgYXJndW1lbnRzLmNhbGxlZWAgZW51bWVyYWJsZSBpbiBzdHJpY3QgbW9kZS5cbiAgcmV0dXJuIGlzQXJyYXlMaWtlT2JqZWN0KHZhbHVlKSAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCAnY2FsbGVlJykgJiZcbiAgICAoIXByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwodmFsdWUsICdjYWxsZWUnKSB8fCBvYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKSA9PSBhcmdzVGFnKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGFuIGBBcnJheWAgb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNBcnJheShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheShkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0FycmF5KCdhYmMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0FycmF5KF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYXJyYXktbGlrZS4gQSB2YWx1ZSBpcyBjb25zaWRlcmVkIGFycmF5LWxpa2UgaWYgaXQnc1xuICogbm90IGEgZnVuY3Rpb24gYW5kIGhhcyBhIGB2YWx1ZS5sZW5ndGhgIHRoYXQncyBhbiBpbnRlZ2VyIGdyZWF0ZXIgdGhhbiBvclxuICogZXF1YWwgdG8gYDBgIGFuZCBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gYE51bWJlci5NQVhfU0FGRV9JTlRFR0VSYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhcnJheS1saWtlLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlKGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoJ2FiYycpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXlMaWtlKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPSBudWxsICYmIGlzTGVuZ3RoKGdldExlbmd0aCh2YWx1ZSkpICYmICFpc0Z1bmN0aW9uKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmlzQXJyYXlMaWtlYCBleGNlcHQgdGhhdCBpdCBhbHNvIGNoZWNrcyBpZiBgdmFsdWVgXG4gKiBpcyBhbiBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXktbGlrZSBvYmplY3QsXG4gKiAgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlT2JqZWN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZU9iamVjdChkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlT2JqZWN0KCdhYmMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0FycmF5TGlrZU9iamVjdChfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNBcnJheUxpa2VPYmplY3QodmFsdWUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgaXNBcnJheUxpa2UodmFsdWUpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgRnVuY3Rpb25gIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGZ1bmN0aW9uLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNGdW5jdGlvbihfKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzRnVuY3Rpb24oL2FiYy8pO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNGdW5jdGlvbih2YWx1ZSkge1xuICAvLyBUaGUgdXNlIG9mIGBPYmplY3QjdG9TdHJpbmdgIGF2b2lkcyBpc3N1ZXMgd2l0aCB0aGUgYHR5cGVvZmAgb3BlcmF0b3JcbiAgLy8gaW4gU2FmYXJpIDggd2hpY2ggcmV0dXJucyAnb2JqZWN0JyBmb3IgdHlwZWQgYXJyYXkgYW5kIHdlYWsgbWFwIGNvbnN0cnVjdG9ycyxcbiAgLy8gYW5kIFBoYW50b21KUyAxLjkgd2hpY2ggcmV0dXJucyAnZnVuY3Rpb24nIGZvciBgTm9kZUxpc3RgIGluc3RhbmNlcy5cbiAgdmFyIHRhZyA9IGlzT2JqZWN0KHZhbHVlKSA/IG9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpIDogJyc7XG4gIHJldHVybiB0YWcgPT0gZnVuY1RhZyB8fCB0YWcgPT0gZ2VuVGFnO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBsZW5ndGguXG4gKlxuICogKipOb3RlOioqIFRoaXMgZnVuY3Rpb24gaXMgbG9vc2VseSBiYXNlZCBvblxuICogW2BUb0xlbmd0aGBdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzYuMC8jc2VjLXRvbGVuZ3RoKS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGxlbmd0aCxcbiAqICBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNMZW5ndGgoMyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0xlbmd0aChOdW1iZXIuTUlOX1ZBTFVFKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0xlbmd0aChJbmZpbml0eSk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNMZW5ndGgoJzMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzTGVuZ3RoKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgJiZcbiAgICB2YWx1ZSA+IC0xICYmIHZhbHVlICUgMSA9PSAwICYmIHZhbHVlIDw9IE1BWF9TQUZFX0lOVEVHRVI7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgdGhlXG4gKiBbbGFuZ3VhZ2UgdHlwZV0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzYuMC8jc2VjLWVjbWFzY3JpcHQtbGFuZ3VhZ2UtdHlwZXMpXG4gKiBvZiBgT2JqZWN0YC4gKGUuZy4gYXJyYXlzLCBmdW5jdGlvbnMsIG9iamVjdHMsIHJlZ2V4ZXMsIGBuZXcgTnVtYmVyKDApYCwgYW5kIGBuZXcgU3RyaW5nKCcnKWApXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3Qoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KF8ubm9vcCk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICByZXR1cm4gISF2YWx1ZSAmJiAodHlwZSA9PSAnb2JqZWN0JyB8fCB0eXBlID09ICdmdW5jdGlvbicpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLiBBIHZhbHVlIGlzIG9iamVjdC1saWtlIGlmIGl0J3Mgbm90IGBudWxsYFxuICogYW5kIGhhcyBhIGB0eXBlb2ZgIHJlc3VsdCBvZiBcIm9iamVjdFwiLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3RMaWtlKHZhbHVlKSB7XG4gIHJldHVybiAhIXZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0Jztcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFN0cmluZ2AgcHJpbWl0aXZlIG9yIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBtZW1iZXJPZiBfXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHN0cmluZywgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzU3RyaW5nKCdhYmMnKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzU3RyaW5nKDEpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNTdHJpbmcodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJyB8fFxuICAgICghaXNBcnJheSh2YWx1ZSkgJiYgaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBvYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKSA9PSBzdHJpbmdUYWcpO1xufVxuXG4vKipcbiAqIEFzc2lnbnMgb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgb2Ygc291cmNlIG9iamVjdHMgdG8gdGhlXG4gKiBkZXN0aW5hdGlvbiBvYmplY3QuIFNvdXJjZSBvYmplY3RzIGFyZSBhcHBsaWVkIGZyb20gbGVmdCB0byByaWdodC5cbiAqIFN1YnNlcXVlbnQgc291cmNlcyBvdmVyd3JpdGUgcHJvcGVydHkgYXNzaWdubWVudHMgb2YgcHJldmlvdXMgc291cmNlcy5cbiAqXG4gKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YCBhbmQgaXMgbG9vc2VseSBiYXNlZCBvblxuICogW2BPYmplY3QuYXNzaWduYF0oaHR0cHM6Ly9tZG4uaW8vT2JqZWN0L2Fzc2lnbikuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEwLjBcbiAqIEBjYXRlZ29yeSBPYmplY3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAqIEBwYXJhbSB7Li4uT2JqZWN0fSBbc291cmNlc10gVGhlIHNvdXJjZSBvYmplY3RzLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAqIEBzZWUgXy5hc3NpZ25JblxuICogQGV4YW1wbGVcbiAqXG4gKiBmdW5jdGlvbiBGb28oKSB7XG4gKiAgIHRoaXMuYSA9IDE7XG4gKiB9XG4gKlxuICogZnVuY3Rpb24gQmFyKCkge1xuICogICB0aGlzLmMgPSAzO1xuICogfVxuICpcbiAqIEZvby5wcm90b3R5cGUuYiA9IDI7XG4gKiBCYXIucHJvdG90eXBlLmQgPSA0O1xuICpcbiAqIF8uYXNzaWduKHsgJ2EnOiAwIH0sIG5ldyBGb28sIG5ldyBCYXIpO1xuICogLy8gPT4geyAnYSc6IDEsICdjJzogMyB9XG4gKi9cbnZhciBhc3NpZ24gPSBjcmVhdGVBc3NpZ25lcihmdW5jdGlvbihvYmplY3QsIHNvdXJjZSkge1xuICBpZiAobm9uRW51bVNoYWRvd3MgfHwgaXNQcm90b3R5cGUoc291cmNlKSB8fCBpc0FycmF5TGlrZShzb3VyY2UpKSB7XG4gICAgY29weU9iamVjdChzb3VyY2UsIGtleXMoc291cmNlKSwgb2JqZWN0KTtcbiAgICByZXR1cm47XG4gIH1cbiAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgYXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHNvdXJjZVtrZXldKTtcbiAgICB9XG4gIH1cbn0pO1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIG9mIGBvYmplY3RgLlxuICpcbiAqICoqTm90ZToqKiBOb24tb2JqZWN0IHZhbHVlcyBhcmUgY29lcmNlZCB0byBvYmplY3RzLiBTZWUgdGhlXG4gKiBbRVMgc3BlY10oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNi4wLyNzZWMtb2JqZWN0LmtleXMpXG4gKiBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBzaW5jZSAwLjEuMFxuICogQG1lbWJlck9mIF9cbiAqIEBjYXRlZ29yeSBPYmplY3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gKiBAZXhhbXBsZVxuICpcbiAqIGZ1bmN0aW9uIEZvbygpIHtcbiAqICAgdGhpcy5hID0gMTtcbiAqICAgdGhpcy5iID0gMjtcbiAqIH1cbiAqXG4gKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICpcbiAqIF8ua2V5cyhuZXcgRm9vKTtcbiAqIC8vID0+IFsnYScsICdiJ10gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAqXG4gKiBfLmtleXMoJ2hpJyk7XG4gKiAvLyA9PiBbJzAnLCAnMSddXG4gKi9cbmZ1bmN0aW9uIGtleXMob2JqZWN0KSB7XG4gIHZhciBpc1Byb3RvID0gaXNQcm90b3R5cGUob2JqZWN0KTtcbiAgaWYgKCEoaXNQcm90byB8fCBpc0FycmF5TGlrZShvYmplY3QpKSkge1xuICAgIHJldHVybiBiYXNlS2V5cyhvYmplY3QpO1xuICB9XG4gIHZhciBpbmRleGVzID0gaW5kZXhLZXlzKG9iamVjdCksXG4gICAgICBza2lwSW5kZXhlcyA9ICEhaW5kZXhlcyxcbiAgICAgIHJlc3VsdCA9IGluZGV4ZXMgfHwgW10sXG4gICAgICBsZW5ndGggPSByZXN1bHQubGVuZ3RoO1xuXG4gIGZvciAodmFyIGtleSBpbiBvYmplY3QpIHtcbiAgICBpZiAoYmFzZUhhcyhvYmplY3QsIGtleSkgJiZcbiAgICAgICAgIShza2lwSW5kZXhlcyAmJiAoa2V5ID09ICdsZW5ndGgnIHx8IGlzSW5kZXgoa2V5LCBsZW5ndGgpKSkgJiZcbiAgICAgICAgIShpc1Byb3RvICYmIGtleSA9PSAnY29uc3RydWN0b3InKSkge1xuICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBhc3NpZ247XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9sb2Rhc2guYXNzaWduL2luZGV4LmpzXG4gKiogbW9kdWxlIGlkID0gMjRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7IHRocm93IG5ldyBFcnJvcihcImRlZmluZSBjYW5ub3QgYmUgdXNlZCBpbmRpcmVjdFwiKTsgfTtcclxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAod2VicGFjaykvYnVpbGRpbi9hbWQtZGVmaW5lLmpzXG4gKiogbW9kdWxlIGlkID0gMjVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obW9kdWxlKSB7XHJcblx0aWYoIW1vZHVsZS53ZWJwYWNrUG9seWZpbGwpIHtcclxuXHRcdG1vZHVsZS5kZXByZWNhdGUgPSBmdW5jdGlvbigpIHt9O1xyXG5cdFx0bW9kdWxlLnBhdGhzID0gW107XHJcblx0XHQvLyBtb2R1bGUucGFyZW50ID0gdW5kZWZpbmVkIGJ5IGRlZmF1bHRcclxuXHRcdG1vZHVsZS5jaGlsZHJlbiA9IFtdO1xyXG5cdFx0bW9kdWxlLndlYnBhY2tQb2x5ZmlsbCA9IDE7XHJcblx0fVxyXG5cdHJldHVybiBtb2R1bGU7XHJcbn1cclxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAod2VicGFjaykvYnVpbGRpbi9tb2R1bGUuanNcbiAqKiBtb2R1bGUgaWQgPSAyNlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLyogKGlnbm9yZWQpICovXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiB2ZXJ0eCAoaWdub3JlZClcbiAqKiBtb2R1bGUgaWQgPSAyN1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../client-sdk/lib/web.js\n ** module id = 6\n ** module chunks = 0\n **/","/**\n* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n* in compliance with the License. You may obtain a copy of the License at\n*\n* http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software distributed under the License\n* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n* or implied. See the License for the specific language governing permissions and limitations under\n* the License.\n*/\n\nvar BotSDK = require('@watson-virtual-agent/client-sdk/lib/web');\nvar profile = BotSDK.profile;\n\nmodule.exports = profile;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/profile/index.js\n ** module id = 7\n ** module chunks = 0\n **/","/*\n* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n* in compliance with the License. You may obtain a copy of the License at\n*\n* http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software distributed under the License\n* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n* or implied. See the License for the specific language governing permissions and limitations under\n* the License.\n*/\n\nvar state = require('./state');\nvar css = require('./styles.css');\n\nvar defaultStyles = {\n  background: 'rgba(61, 61, 61, 1)',\n  accentBackground: '#BA8FF7',\n  accentText: '#ffffff',\n  text: '#ffffff',\n  link: '#AF6EE8',\n  secondaryBackground: 'rgba(90, 90, 90, 1)',\n  secondaryText: 'rgba(247, 247, 247, 1)',\n  inputBackground: 'rgba(90, 90, 90, 1)',\n  inputText: 'rgba(247, 247, 247, 1)',\n  errorBackground: '#e86e6e',\n  errorText: '#ffffff',\n  fontSize: '15px',\n  fontFamily: '\"Helvetica Neue\",HelveticaNeue,Helvetica,sans-serif'\n};\n\nfunction _attachStylesToDOM(styles, current) {\n  var css = document.createElement('style');\n  css.type = \"text/css\";\n  css.classList.add('styles-' + current.chatStyleID);\n  if (css.styleSheet)\n    css.styleSheet.cssText = styles;\n  else\n    css.appendChild(document.createTextNode(styles));\n  document.getElementsByTagName(\"head\")[0].appendChild(css);\n}\n\nfunction _getStyles(current) {\n  var containerClass = \".\" + current.chatStyleID;\n  var noOpacityBackgroundArray = _hexToRGBArray(normalizeToHex(current.styles.background));\n  var noOpacityBackground = \"rgba(\" + noOpacityBackgroundArray[0] + \",\" + noOpacityBackgroundArray[1] + \",\" + noOpacityBackgroundArray[2] + \",0.8)\";\n  var opacityBackground = \"rgba(\" + noOpacityBackgroundArray[0] + \",\" + noOpacityBackgroundArray[1] + \",\" + noOpacityBackgroundArray[2] + \",0)\";\n  var styles = '';\n  styles += containerClass + \"{ overflow:hidden;}\";\n  styles += containerClass + \" .IBMChat-outer-container {font-size: \" + current.styles.fontSize + \"; line-height: \" + current.styles.fontSize + \"; font-family: \" + current.styles.fontFamily + \";}\";\n  styles += containerClass + \" .IBMChat-outer-container textarea {font-size: \" + current.styles.fontSize + \"; font-family: \" + current.styles.fontFamily + \";}\";\n  styles += containerClass + \" .IBMChat-default-colors {background-color: \" + current.styles.background + \"; color: \" + current.styles.text + \";}\";\n  styles += containerClass + \" .IBMChat-secondary-colors {background-color: \" + current.styles.secondaryBackground + \"; color: \" + current.styles.secondaryText + \";}\";\n  styles += containerClass + \" .IBMChat-secondary-colors-button {background-color: transparent; border: 1px solid \" + current.styles.secondaryBackground + \"; color: \" + current.styles.secondaryBackground + \";}\";\n  styles += containerClass + \" .IBMChat-accent-colors {background-color: \" + current.styles.accentBackground + \"; border: 1px solid \" + current.styles.accentBackground + \"; color: \" + current.styles.accentText + \";}\";\n  styles += containerClass + \" .IBMChat-accent-colors-button {background-color: transparent; border: 1px solid \" + current.styles.accentBackground + \"; color: \" + current.styles.accentBackground + \";}\";\n  styles += containerClass + \" .IBMChat-accent-colors-button:hover {background-color: \" + current.styles.accentBackground + \"; border: 1px solid \" + current.styles.accentBackground + \"; color: \" + current.styles.accentText + \";}\";\n  styles += containerClass + \" .IBMChat-accent-colors-button[disabled]:hover {background-color: transparent; border: 1px solid \" + current.styles.accentBackground + \"; color: \" + current.styles.accentBackground + \";}\";\n  styles += containerClass + \" .IBMChat-error-colors {background-color: \" + current.styles.errorBackground + \"; color: \" + current.styles.errorText + \";}\";\n  styles += containerClass + \" .IBMChat-input-colors {background-color: \" + current.styles.inputBackground + \"; color: \" + current.styles.inputText + \"; border-bottom: 1px solid \" + current.styles.inputText + \";}\";\n  styles += containerClass + \" .IBMChat-watson-message-line {border-left: 3px solid \" + current.styles.accentBackground + \";}\";\n  styles += containerClass + \" a {border: 0; color: \" + current.styles.link + \"; font-weight: normal; text-decoration: none; font-size:1em;}\";\n  styles += containerClass + \" a:hover, \";\n  styles += containerClass + \" a:visited, \";\n  styles += containerClass + \" a:active {color: \" + current.styles.link + \"; font-weight: normal; text-decoration: underline; font-size:1em;}\";\n  styles += containerClass + \" .IBMChat-chat-textbox {border-bottom: solid 1px \" + current.styles.text + \";}\";\n  styles += containerClass + \" .IBMChat-chat-textbox:focus {border-bottom: solid 2px \" + current.styles.accentBackground + \";}\";\n  styles += containerClass + \" ::-webkit-input-placeholder {color: \" + _placeHolderColor(current.styles.inputText, current.styles.inputBackground) + \";}\";\n  styles += containerClass + \" ::-moz-placeholder {color: \" + _placeHolderColor(current.styles.inputText, current.styles.inputBackground) + \"; opacity: 1;}\";\n  styles += containerClass + \" :-ms-input-placeholder {color: \" + _placeHolderColor(current.styles.inputText, current.styles.inputBackground) + \"; opacity: 1;}\";\n  styles += containerClass + \" .IBMChat-ball {fill: \" + normalizeToHex(current.styles.accentBackground) + \";}\";\n  styles += containerClass + \" .IBMChat-fade {left: 0; height: 10%; max-height: 32px; position: absolute; top: 0; width: 100%; z-index: 2; background: linear-gradient(to bottom, \" + noOpacityBackground + \" 0%, \" + opacityBackground + \" 100%);}\";\n  styles += containerClass + \" .IBMChat-loading-message {color: \" + _placeHolderColor(current.styles.inputText, current.styles.inputBackground) + \";}\";\n  return styles;\n}\n\nfunction _placeHolderColor(text, background) {\n  var rgb_beginning = _hexToRGBArray(normalizeToHex(text)),\n    rgb_end = _hexToRGBArray(normalizeToHex(background)),\n    p = 0.6,\n    w = p * 2 - 1,\n    w1 = (w + 1) / 2.0,\n    w2 = 1 - w1,\n    rgb = [\n      parseInt(rgb_beginning[0] * w1 + rgb_end[0] * w2),\n      parseInt(rgb_beginning[1] * w1 + rgb_end[1] * w2),\n      parseInt(rgb_beginning[2] * w1 + rgb_end[2] * w2)\n    ];\n  var rgba = 'rgb(' + rgb[0] + ',' + rgb[1] + ',' + rgb[2] + ')';\n  return normalizeToHex(rgba);\n}\n\nfunction normalizeToHex(color) {\n  function rgb2hex(rgb) {\n    rgb = rgb.match(/^rgba?[\\s+]?\\([\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?/i);\n    return (rgb && rgb.length === 4) ?\n      (\"0\" + parseInt(rgb[1], 10).toString(16)).slice(-2) +\n      (\"0\" + parseInt(rgb[2], 10).toString(16)).slice(-2) +\n      (\"0\" + parseInt(rgb[3], 10).toString(16)).slice(-2) : '';\n  }\n  if (color.indexOf('#') > -1)\n    return color;\n  else\n    return '#' + rgb2hex(color);\n}\n\nfunction _hexToRGBArray(hex) {\n  var rgb = [];\n  hex = hex.replace('#', '');\n  rgb.push(parseInt(hex.substring(0, 2), 16));\n  rgb.push(parseInt(hex.substring(2, 4), 16));\n  rgb.push(parseInt(hex.substring(4, 6), 16));\n  return rgb;\n}\n\nfunction convertHexToRGBA(hex, opacity) {\n  var rgb = _hexToRGBArray(hex),\n    r = rgb[0],\n    g = rgb[1],\n    b = rgb[2];\n  return 'rgba(' + r + ',' + g + ',' + b + ',' + opacity / 100 + ')';\n}\n\n\nfunction attachPlaybackStyles(chatID) {\n  var current = state.get()[chatID];\n  var styles = _getStyles(current);\n  _attachStylesToDOM(styles);\n}\n\nfunction attachStyles() {\n  var current = state.get();\n  var styles = _getStyles(current);\n  _attachStylesToDOM(css, current);\n  _attachStylesToDOM(styles, current);\n}\n\nfunction removeStyles() {\n  var current = state.get();\n  var elements = document.querySelectorAll('.styles-' + current.chatStyleID);\n  elements.forEach(function(element) {\n    element.parentNode.removeChild(element);\n  });\n  current.root.classList.remove('IBMChat-isLarge', 'IBMChat-relative', current.chatStyleID, 'chatID-' + current.chatID);\n}\n\nmodule.exports = {\n  defaultStyles: defaultStyles,\n  attachStyles: attachStyles,\n  removeStyles: removeStyles,\n  attachPlaybackStyles: attachPlaybackStyles,\n  convertHexToRGBA: convertHexToRGBA,\n  normalizeToHex: normalizeToHex\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/styles.js\n ** module id = 8\n ** module chunks = 0\n **/","var eq = require('./eq');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    object[key] = value;\n  }\n}\n\nmodule.exports = assignValue;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/lodash/_assignValue.js\n ** module id = 9\n ** module chunks = 0\n **/","/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\nmodule.exports = apply;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/lodash/_apply.js\n ** module id = 10\n ** module chunks = 0\n **/","var apply = require('./_apply');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = array;\n    return apply(func, this, otherArgs);\n  };\n}\n\nmodule.exports = baseRest;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/lodash/_baseRest.js\n ** module id = 11\n ** module chunks = 0\n **/","var assignValue = require('./_assignValue');\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    assignValue(object, key, newValue === undefined ? source[key] : newValue);\n  }\n  return object;\n}\n\nmodule.exports = copyObject;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/lodash/_copyObject.js\n ** module id = 12\n ** module chunks = 0\n **/","var baseRest = require('./_baseRest'),\n    isIterateeCall = require('./_isIterateeCall');\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\nmodule.exports = createAssigner;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/lodash/_createAssigner.js\n ** module id = 13\n ** module chunks = 0\n **/","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/lodash/_isIterateeCall.js\n ** module id = 14\n ** module chunks = 0\n **/","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/lodash/_overArg.js\n ** module id = 16\n ** module chunks = 0\n **/","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/lodash/eq.js\n ** module id = 17\n ** module chunks = 0\n **/","var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/lodash/isArrayLike.js\n ** module id = 18\n ** module chunks = 0\n **/","var isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\nmodule.exports = isFunction;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/lodash/isFunction.js\n ** module id = 19\n ** module chunks = 0\n **/","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/lodash/isLength.js\n ** module id = 20\n ** module chunks = 0\n **/","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/lodash/isObject.js\n ** module id = 21\n ** module chunks = 0\n **/","var overArg = require('./_overArg');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nmodule.exports = nativeKeys;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/lodash/keys.js\n ** module id = 22\n ** module chunks = 0\n **/","module.exports = \"<div class=\\\"${ns}-container IBMChat-secondary-colors\\\"> <div class=\\\"${ns}-row\\\"> <fieldset aria-describedby=\\\"cc_full_name_${uuid}_error\\\"> <label class=\\\"IBMChat-screen-reader-text\\\" for=\\\"cc_full_name_${uuid}\\\">Name on Card</label> <input type=\\\"text\\\" class=\\\"IBMChat-input-colors\\\" id=\\\"cc_full_name_${uuid}\\\" name=\\\"cc_full_name\\\" placeholder=\\\"Name on Card\\\"/> <div id=\\\"cc_full_name_${uuid}_error\\\" class=\\\"IBMChat-validation-error IBMChat-error-colors\\\" data-validation-for=\\\"cc_full_name\\\" data-valid=\\\"true\\\" style=\\\"display:none;\\\"></div> </fieldset> </div> <div class=\\\"${ns}-row\\\"> <fieldset aria-describedby=\\\"cc_number_${uuid}_error\\\"> <label class=\\\"IBMChat-screen-reader-text\\\" for=\\\"cc_number_${uuid}\\\">Credit Card Number</label> <input type=\\\"text\\\" class=\\\"IBMChat-input-colors\\\" id=\\\"cc_number_${uuid}\\\" name=\\\"cc_number\\\" placeholder=\\\"Credit Card Number\\\"/> <div id=\\\"cc_number_${uuid}_error\\\" class=\\\"IBMChat-validation-error IBMChat-error-colors\\\" data-validation-for=\\\"cc_number\\\" data-valid=\\\"true\\\" style=\\\"display:none;\\\"></div> </fieldset> </div> <div class=\\\"${ns}-row\\\"> <div class=\\\"${ns}-col\\\"> <fieldset aria-describedby=\\\"cc_exp_date_${uuid}_error\\\"> <label class=\\\"IBMChat-screen-reader-text\\\" for=\\\"cc_exp_date_month_${uuid}\\\">Expiration Date Month</label> <input class=\\\"${ns}-date IBMChat-input-colors\\\" type=\\\"text\\\" id=\\\"cc_exp_date_month_${uuid}\\\" name=\\\"cc_exp_date_month\\\" placeholder=\\\"MM\\\" size=\\\"3\\\" /> <label class=\\\"IBMChat-screen-reader-text\\\" for=\\\"cc_exp_date_year_${uuid}\\\">Expiration Date Year</label> <input class=\\\"${ns}-date IBMChat-input-colors\\\" type=\\\"text\\\" id=\\\"cc_exp_date_year_${uuid}\\\" name=\\\"cc_exp_date_year\\\" placeholder=\\\"YYYY\\\" size=\\\"5\\\" /> </fieldset> </div> <div class=\\\"${ns}-col\\\"> <fieldset aria-describedby=\\\"cc_code_${uuid}_error\\\"> <label class=\\\"IBMChat-screen-reader-text\\\" for=\\\"cc_code_${uuid}\\\">CVV</label> <input class=\\\"${ns}-cvv IBMChat-input-colors\\\" type=\\\"text\\\" id=\\\"cc_code_${uuid}\\\" name=\\\"cc_code\\\" placeholder=\\\"CVV\\\" size=\\\"5\\\"/> </fieldset> </div> <div id=\\\"cc_exp_date_${uuid}_error\\\" class=\\\"IBMChat-validation-error IBMChat-error-colors\\\" data-validation-for=\\\"cc_exp_date\\\" data-valid=\\\"true\\\" style=\\\"display:none;\\\"></div> <div id=\\\"cc_code_${uuid}_error\\\" class=\\\"IBMChat-validation-error IBMChat-error-colors\\\" data-validation-for=\\\"cc_code\\\" data-valid=\\\"true\\\" style=\\\"display:none;\\\"></div> </div> <div class=\\\"${ns}-buttons\\\"> <button class=\\\"${ns}-cancel\\\">Cancel</button> <button class=\\\"${ns}-submit\\\">Submit</button> </div></div>\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/layouts/cc-validator/templates/base.html\n ** module id = 23\n ** module chunks = 0\n **/","module.exports = \"<div class=\\\"${ns}-container\\\"> <div><button class=\\\"IBMChat-accent-colors-button\\\" data-input=\\\"${values.geolocation}\\\">Current Location</button></div> <div><button class=\\\"IBMChat-accent-colors-button\\\" data-input=\\\"${values.postalcode}\\\">Zip Code</button></div></div>\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/layouts/choose-location-type/templates/base.html\n ** module id = 24\n ** module chunks = 0\n **/","module.exports = \"<button class=\\\"IBMChat-accent-colors-button\\\" data-input=\\\"${text}\\\">${text}</button>\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/layouts/choose/templates/button.html\n ** module id = 25\n ** module chunks = 0\n **/","module.exports = \"<button>${text}</button>\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/layouts/choose/templates/submit.html\n ** module id = 26\n ** module chunks = 0\n **/","module.exports = \"<div class=\\\"IBMChat-error IBMChat-error-colors\\\"></div>\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/layouts/error/templates/base.html\n ** module id = 27\n ** module chunks = 0\n **/","module.exports = \"<div class=\\\"IBMChat-form-container IBMChat-secondary-colors\\\"> <div class=\\\"IBMChat-form-fields\\\"></div> <div class=\\\"IBMChat-form-buttons\\\"> <button class=\\\"IBMChat-form-cancel\\\">${cancel}</button> <button class=\\\"IBMChat-form-submit\\\">${submit}</button> </div></div>\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/layouts/form/templates/base.html\n ** module id = 28\n ** module chunks = 0\n **/","module.exports = \"<fieldset aria-describedby=\\\"${name}_${uuid}_error\\\"> <label for=\\\"${name}_${uuid}\\\">${label}</label> <input type=\\\"${type}\\\" class=\\\"IBMChat-input-colors\\\" id=\\\"${name}_${uuid}\\\" name=\\\"${name}\\\" value=\\\"${value}\\\" data-index=\\\"${index}\\\"/> <div id=\\\"${name}_${uuid}_error\\\" class=\\\"IBMChat-validation-error IBMChat-error-colors\\\" style=\\\"display:none;\\\" data-validation-for=\\\"${name}\\\" data-valid=\\\"true\\\"></div></fieldset>\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/layouts/form/templates/field.html\n ** module id = 29\n ** module chunks = 0\n **/","module.exports = \"<div class=\\\"${ns}-locations-item ${ns}-data-section\\\"> <div class=\\\"${ns}-locations-item-data-title\\\"></div> <div class=\\\"${ns}-data-float-holder\\\"> <div class=\\\"${ns}-locations-item-data\\\"> <div class=\\\"${ns}-locations-item-data-items\\\"> <div class=\\\"${ns}-locations-item-data-section\\\"> <a class=\\\"${ns}-locations-item-data-address-link\\\"> <div class=\\\"${ns}-locations-item-data-address\\\"></div> </a> </div> <div class=\\\"IBMChat-small-hide\\\"> <div class=\\\"${ns}-locations-item-data-hours\\\"></div> <div class=\\\"${ns}-locations-item-data-timezone\\\"></div> <div class=\\\"${ns}-locations-item-data-more-hours\\\"></div> </div> </div> </div> <div class=\\\"${ns}-locations-item-data\\\"> <div class=\\\"${ns}-locations-item-data-items\\\"> <div class=\\\"${ns}-locations-item-data-phone\\\"></div> <div class=\\\"${ns}-locations-item-data-email\\\"></div> </div> </div> <div class=\\\"${ns}-locations-item-distance\\\"></div> </div> <div> <div class=\\\"${ns}-locations-item-data-items\\\"> <div class=\\\"IBMChat-small-show\\\"> <div class=\\\"${ns}-locations-item-data-hours\\\"></div> <div class=\\\"${ns}-locations-item-data-timezone\\\"></div> <div class=\\\"${ns}-locations-item-data-more-hours\\\"></div> </div> </div> <div class=\\\"${ns}-locations-all-holder\\\"> <button class=\\\"${ns}-locations-all IBMChat-accent-colors-button\\\">All Locations</button> </div> </div></div>\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/layouts/show-locations/templates/add-location-item.html\n ** module id = 30\n ** module chunks = 0\n **/","module.exports = \"<button aria-label=\\\"${address}\\\" class=\\\"${ns}-locations-item ${ns}-multiple-locations ${ns}-data-section\\\"> <div class=\\\"${ns}-locations-row\\\"> <div class=\\\"${ns}-locations-item-icon-holder ${ns}-locations-cell\\\"> <div class=\\\"${ns}-locations-item-icon\\\" style=\\\"color: ${accentText}; background: ${accentBackground};\\\">${iconText}</div> </div> <div class=\\\"${ns}-locations-cell\\\"> <div class=\\\"${ns}-locations-item-data-title\\\">${title}</div> <div class=\\\"${ns}-locations-item-data-items\\\"> <div class=\\\"${ns}-locations-item-data-address\\\">${address}</div> <div class=\\\"${ns}-locations-item-distance\\\">${distance}</div> </div> </div> </div></button>\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/layouts/show-locations/templates/add-locations-item.html\n ** module id = 31\n ** module chunks = 0\n **/","module.exports = \"<div class=\\\"${ns}\\\"> <div class=\\\"${ns}-img\\\"></div> <div class=\\\"${ns}-data\\\"></div></div>\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/layouts/show-locations/templates/base.html\n ** module id = 32\n ** module chunks = 0\n **/","module.exports = \"<div class=\\\"${ns}-contact-type\\\"></div><div class=\\\"${ns}-contact-data\\\"></div>\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/layouts/show-locations/templates/create-dom-array.html\n ** module id = 33\n ** module chunks = 0\n **/","module.exports = \"<span class=\\\"${ns}-days-hours-day\\\">${day}:</span>&nbsp;<span class=\\\"${ns}-days-hours-hours\\\">Closed</span>\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/layouts/show-locations/templates/hours-closed.html\n ** module id = 34\n ** module chunks = 0\n **/","module.exports = \"<span class=\\\"${ns}-days-hours-day\\\">${day}:</span>&nbsp;<span class=\\\"${ns}-days-hours-hours\\\">${open} &ndash; ${close}</span>\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/layouts/show-locations/templates/hours-open.html\n ** module id = 35\n ** module chunks = 0\n **/","module.exports = \"<div class=\\\"${ns}-hours-timezone\\\">( ${timezone} )</div>\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/layouts/show-locations/templates/hours-timezone.html\n ** module id = 36\n ** module chunks = 0\n **/","module.exports = \"<span class=\\\"${ns}-hours-open\\\">Closed today.</span>\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/layouts/show-locations/templates/hours-today-closed.html\n ** module id = 37\n ** module chunks = 0\n **/","module.exports = \"<span class=\\\"${ns}-hours-open\\\">Open today:</span><span class=\\\"${ns}-hours-today\\\"> ${open} &ndash; ${close}</span>\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/layouts/show-locations/templates/hours-today-open.html\n ** module id = 38\n ** module chunks = 0\n **/","module.exports = \"<span class=\\\"${ns}-hours-open\\\">Open today</span>\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/layouts/show-locations/templates/hours-today-unknown.html\n ** module id = 39\n ** module chunks = 0\n **/","module.exports = \"<span class=\\\"${ns}-days-hours-day\\\">${day}:</span>&nbsp;<span class=\\\"${ns}-days-hours-hours\\\">Hours unknown</span>\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/layouts/show-locations/templates/hours-unknown.html\n ** module id = 40\n ** module chunks = 0\n **/","module.exports = \".IBMChat { height: 100%; width: 100%;}/* utils */.IBMChat-hidden { display: none;}.IBMChat-relative { position: relative;}.IBMChat-outer-container { border: none; box-sizing: border-box; display: table; table-layout: fixed; font-weight: normal; line-height: 1em; height: 100%; margin: 0 auto 0 auto; max-width: 768px; min-height: 300px; min-width: 288px; padding: 0; position: relative; text-align: left; width: 100%;}/* Agent Component */.IBMChat-inner-container { display: table-cell; height: 100%; margin: 0; padding: 0 1em 0 1em; vertical-align: bottom;}/* Chat Component */.IBMChat-chat-container { display: table-row; margin: 0; padding: 0;}/* Messages Component */.IBMChat-messages { height: auto; overflow-x: hidden; overflow-y: auto; padding: 0 1em 0 1em;}.IBMChat-messages label { display: block; font-weight: bold; text-transform: capitalize;}.IBMChat-messages input { border: 0; border-radius: 0; font-size: 1em; margin: 0; padding: 0 0 0.25em 0;}.IBMChat-messages button { background: none; border: 0; border-radius: 1em; color: inherit; cursor: pointer; font: inherit; line-height: 1.5em; margin: 0; overflow: hidden; padding: 0.25em 1em 0.25em 1em; text-overflow: ellipsis; white-space: nowrap; -webkit-appearance: button; /* for input */ -webkit-user-select: none; /* for button */ -moz-user-select: none; -ms-user-select: none;}.IBMChat-messages button[disabled=\\\"true\\\"] { cursor: default; opacity: .7;}.IBMChat-messages button[disabled=\\\"true\\\"]:focus { outline: none;}.IBMChat-messages button::-moz-focus-inner { border: 0; padding: 0;}.IBMChat-watson-intent a { display: inline-block; margin: 1em 0 1em 0;}/* WatsonMessage Component */.IBMChat-watson-message-container { margin: 1em 0 1em 0; position: relative;}.IBMChat-watson-message { line-height: 1.5em; min-height: 1.5em; padding: 0 0 0 1em; word-wrap: break-word;}.IBMChat-watson-message a { display: inline-block; word-break: break-all;}.IBMChat-watson-message-line { left: 0; height: 1.5em; position: absolute; top: 0;}.IBMChat-disabled-layout { opacity: 0.7;}/* UserMessage Component */.IBMChat-user-message-container {\\tmargin: 1em 0 1em 2em;\\ttext-align: right;}.IBMChat-user-message { border-radius: 4px; display: inline-block; line-height: 1.5em; padding: 0.5em 0.75em 0.5em 0.75em; text-align: left; max-width: 100%; overflow: hidden; word-wrap: break-word;}/* Input Component */.IBMChat-input-container { display: table-row; margin: 0; padding: 0;}.IBMChat-input-form { display: table-cell; position: relative; min-height: 30px;}.IBMChat-chat-textbox-container { min-height: 30px; padding: 1em 2em 2em 2em;}.IBMChat-chat-textbox-clone-holder { height: 0; overflow: hidden;}.IBMChat-chat-textbox-clone { border-bottom: 1px solid transparent; font-weight: normal; line-height: 1.5em; margin: 0; min-height: 26px; padding: 0; position: relative; white-space: pre-wrap; white-space: pre-line; word-wrap: break-word; visibility: hidden;}.IBMChat-chat-textbox { background: transparent; border: none; border-radius: 0; border-image-width: 0; color: inherit; font-weight: normal; height: 1.5em; line-height: 1.5em; margin: 0; min-height: 26px; overflow: hidden; padding: 0 0 3px 0; resize: none; text-wrap: unrestricted; vertical-align: bottom; width: 100%; white-space: pre-wrap; white-space: pre-line; word-wrap: break-word;}.IBMChat-chat-textbox[disabled='disabled'] { opacity: 0.5;}.IBMChat-input-form::-webkit-input-placeholder { opacity: 1;}.IBMChat-chat-textbox:focus {\\toutline: none;\\tpadding: 0 0 2px 0;}/* Layout Component */.IBMChat-watson-layout { padding: 4px;}/* validation error message */.IBMChat-validation-error { padding: 0.5em; font-size: 0.9em;}/* class to hide an element from everyone but screen readers for visually impared */.IBMChat-screen-reader-text {\\tclip: rect(1px, 1px, 1px, 1px);\\theight: 1px;\\twidth: 1px;\\toverflow: hidden;\\tposition: absolute !important;}/* Loading */.IBMChat-loading-container { margin-bottom: 1em;}.IBMChat-loading { min-height: 30px; position: relative;}.IBMChat-loading-icon { height: 30px; position: absolute; top: 0; left: -4px; width: 10px;}.IBMChat-loading-icon svg { height: 30px; width: 10px;}.IBMChat-loading-message { display: inline-block; min-height: 30px; line-height: 1.2em; padding: 5px 1em 0 1em;}.IBMChat-bouncing { animation: bounceBack 420ms infinite; animation-direction: alternate; animation-timing-function: ease-in-out; animation-timing-function: cubic-bezier(.42,0,1,1);}.IBMChat-bouncing:nth-child(2) { animation: bounce 420ms infinite; animation-direction: alternate; animation-timing-function: ease-in-out; animation-timing-function: cubic-bezier(.42,0,1,1);}@keyframes bounce { 0% { transform: translateY(5px); } 72% { transform: translateY(-5px); } 72%,100%{ transform: translateY(-5px); }}@keyframes bounceBack { 0% { transform: translateY(-5px); } 72% { transform: translateY(5px); } 72%,100%{ transform: translateY(5px); }}/* responsive */.IBMChat-small-show { display: unset;}.IBMChat-small-hide { display: none;}.IBMChat-isLarge .IBMChat-small-show { display: none;}.IBMChat-isLarge .IBMChat-small-hide { display: unset;}/* cc-validator */.IBMChat-creditcard-container { margin-top: 1em; padding: 1em 1.5em 1em 1.5em; width: 240px;}.IBMChat-creditcard-container fieldset { border:none; margin:0; padding:0;}.IBMChat-creditcard-row { padding-bottom: 1em;}.IBMChat-creditcard-row input[name=\\\"cc_full_name\\\"], .IBMChat-creditcard-row input[name=\\\"cc_number\\\"] { width: 100%;}.IBMChat-creditcard-row input[name=\\\"cc_exp_date_month\\\"] { max-width: 32px;}.IBMChat-creditcard-row input[name=\\\"cc_exp_date_year\\\"], .IBMChat-creditcard-row input[name=\\\"cc_code\\\"] { max-width: 64px;}.IBMChat-creditcard-col { display: inline-block;}.IBMChat-creditcard-col:nth-child(2) { padding-left:1.5em;}.IBMChat-creditcard-buttons:after { visibility: hidden; display: block; font-size: 0; content: \\\" \\\"; clear: both; height: 0;}.IBMChat-creditcard-buttons button { width: 95px; float: left; text-overflow: clip;}.IBMChat-creditcard-buttons button:last-child { float: right; text-overflow: clip;}/* choose */.IBMChat-choose-container > div {\\tmargin-top: 1em;}/* choose location type */.IBMChat-islocationapi-container > div {\\tmargin-top: 1em;}/* error */.IBMChat-error { padding: 0.5em 1em 0.5em 1em;}/* form */.IBMChat-form-container { margin-top: 1em; padding: 1em 1.5em 1em 1.5em; width: 240px;}.IBMChat-form-container fieldset { border:none; margin:0; padding:0;}.IBMChat-form-fields { width:100%;}.IBMChat-form-fields-row { padding-bottom:1.5em;}.IBMChat-form-fields-row input { width: 100%;}.IBMChat-form-buttons { text-align:center; width: 100%;}.IBMChat-form-buttons:after { visibility: hidden; display: block; font-size: 0; content: \\\" \\\"; clear: both; height: 0;}.IBMChat-form-cancel { float:left; max-width: 50%;}.IBMChat-form-submit { float:right; max-width: 50%;}/* locations */.IBMChat-map { margin-top: 1em;}.IBMChat-map-data { font-size:0.85em;}.IBMChat-map-img { overflow: hidden;}.IBMChat-map-img img { margin: 0 0 0.5em 0; height: 120px;}.IBMChat-map-multiple-locations { cursor: default; display: table; width: 100%;}.IBMChat-map-multiple-locations .IBMChat-map-locations-row { display:table-row; width: 100%;}.IBMChat-map-multiple-locations .IBMChat-map-locations-cell { display: table-cell; overflow: hidden; word-wrap: break-word;}.IBMChat-map-location-active .IBMChat-map-multiple-locations { opacity: 1;}.IBMChat-map-locations-item.IBMChat-map-multiple-locations { padding: 0.5em 0 0.5em 0; white-space: normal;}.IBMChat-disabled-layout .IBMChat-map-locations-item.IBMChat-map-multiple-locations { cursor: default;}.IBMChat-map-data-section { margin-top:0.5em;}.IBMChat-map-data-float-holder:after { visibility: hidden; display: block; font-size: 0; content: \\\" \\\"; clear: both; height: 0;}.IBMChat-map-locations-item { border-bottom:1px solid #505050; text-align:left; padding: 1em;}.IBMChat-map-locations-item-icon-holder { text-align:center; width: 40px;}.IBMChat-map-locations-item-icon { border-radius: 24px; height:24px; line-height: 24px; margin-right:8px; width:24px;}.IBMChat-map-locations-item-data {}.IBMChat-map-locations-item-data-title { font-size:1.3em; font-weight:300; line-height:1.2em;}.IBMChat-map-locations-item-data-section { padding-bottom:0.5em;}.IBMChat-map-locations-item-data-email { padding-bottom:0;}.IBMChat-map-locations-item-data-phone { display: table; max-width:400px; width: 100%;}.IBMChat-map-contact-row { padding-bottom:0.5em;}.IBMChat-map-contact-type { font-size:0.9em;}.IBMChat-map-locations-item-distance { font-size:0.9em; width:64px;}button.IBMChat-map-locations-all { font-size:0.9em; line-height:1.5em; margin: 1em 0 0 0; padding: 0 0.5em 0 0.5em;}.IBMChat-map-hours-open { font-weight: bold;}.IBMChat-map-days-hours-day, .IBMChat-map-days-hours-hours, .IBMChat-map-days-hours-closed { overflow: hidden; word-wrap: break-word;}.IBMChat-map-days-hours-day { font-weight: bold;}.IBMChat-map-hours-timezone { font-size: 0.8em; padding-bottom: 0.5em;}.IBMChat-map-locations-item-data-hours { margin-top:0.5em;}.IBMChat-isLarge .IBMChat-map-locations-item-data { float:left; padding-right:5%; width:45%;}.IBMChat-isLarge .IBMChat-map-locations-item-data-hours { margin-top:0;}.IBMChat-isLarge .IBMChat-map-locations-item-data-more-hours { margin-top:0.5em;}\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/styles.css\n ** module id = 41\n ** module chunks = 0\n **/","module.exports = \"<form class=\\\"IBMChat-input-form\\\"> <div class=\\\"IBMChat-chat-text-container\\\"> <div class=\\\"IBMChat-chat-textbox-container\\\"> <textarea aria-labelledby=\\\"Enter a Message\\\" class=\\\"IBMChat-chat-textbox\\\" placeholder=\\\"${placeholder}\\\"></textarea> <div class=\\\"IBMChat-chat-textbox-clone-holder\\\"> <div class=\\\"IBMChat-chat-textbox-clone\\\" aria-hidden=\\\"true\\\">${placeholder}</div> </div> </div> </div></form>\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/templates/input.html\n ** module id = 42\n ** module chunks = 0\n **/","module.exports = \"<section class=\\\"IBMChat-loading-container\\\"> <div class=\\\"IBMChat-loading IBMChat-hidden\\\"> <div class=\\\"IBMChat-loading-icon\\\" aria-hidden=\\\"true\\\"> <svg xmlns=\\\"http://www.w3.org/2000/svg\\\"> <circle class=\\\"IBMChat-ball IBMChat-bouncing\\\" cx=\\\"5px\\\" cy=\\\"10px\\\" r=\\\"2.5\\\"/> <circle class=\\\"IBMChat-ball IBMChat-bouncing\\\" cx=\\\"5px\\\" cy=\\\"20px\\\" r=\\\"2.5\\\"/> <circle class=\\\"IBMChat-ball\\\" cx=\\\"5px\\\" cy=\\\"15px\\\" r=\\\"2.5\\\"/> </svg> </div> <div class=\\\"IBMChat-loading-message\\\"> <span class=\\\"IBMChat-loading-message-text\\\"></span> <span class=\\\"IBMChat-loading-message-retry\\\"> <span class=\\\"IBMChat-loading-retry-message IBMChat-hidden\\\">${retryAttempt}</span> </span> </div> </div> <div class=\\\"IBMChat-loading-failure-message IBMChat-watson-message-container IBMChat-hidden\\\"> <div class=\\\"IBMChat-watson-message-line\\\"></div> <div class=\\\"IBMChat-watson-message\\\"> <span class=\\\"IBMChat-loading-failure-message-text\\\"></span> <a class=\\\"IBMChat-loading-retry-link\\\" data-retry=\\\"true\\\" href=\\\"javascript:void(false);\\\">${retry}</a> </div> </div></section>\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/templates/loading.html\n ** module id = 43\n ** module chunks = 0\n **/","module.exports = \"<div class=\\\"IBMChat-watson-message-container\\\"> <div class=\\\"IBMChat-watson-message-line\\\"></div></div>\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/templates/receive.html\n ** module id = 44\n ** module chunks = 0\n **/","module.exports = \"<div id=\\\"${data.uuid}\\\" class=\\\"IBMChat-user-message-container\\\"> <div class=\\\"IBMChat-user-message IBMChat-secondary-colors\\\"></div></div>\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/templates/send.html\n ** module id = 45\n ** module chunks = 0\n **/","module.exports = \"<div class=\\\"IBMChat\\\"> <div class=\\\"IBMChat-outer-container IBMChat-default-colors\\\"> <div class=\\\"IBMChat-fade\\\"></div> <div class=\\\"IBMChat-chat-container\\\"> <div class=\\\"IBMChat-inner-container\\\"> <div class=\\\"IBMChat-messages\\\"></div> </div> </div> </div></div>\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/templates/start.html\n ** module id = 46\n ** module chunks = 0\n **/","/*\n* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n* in compliance with the License. You may obtain a copy of the License at\n*\n* http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software distributed under the License\n* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n* or implied. See the License for the specific language governing permissions and limitations under\n* the License.\n*/\n\nvar layouts = require('./layouts');\nvar events = require('./events');\nvar eventHandlers = require('./events/handlers');\nvar BotSDK = require('@watson-virtual-agent/client-sdk/lib/web');\nvar state = require('./state');\nvar context = require('./context');\nvar utils = require('./utils');\nvar profile = require('./profile');\nvar assign = require('lodash/assign');\nvar styles = require('./styles');\nvar defaultStyles = styles.defaultStyles;\n\n\nvar layoutInit = {};\nvar registeredLayouts = [];\n\nfunction registerEvents(tryIt, playback) {\n  events.subscribe('start', eventHandlers.start);\n  events.subscribe('chatID', eventHandlers.chatID);\n  events.subscribe('resize', eventHandlers.resize);\n  events.subscribe('disable-input', eventHandlers.input.disableInput);\n  events.subscribe('enable-loading', eventHandlers.input.enableLoadingInput);\n  events.subscribe('disable-loading', eventHandlers.input.disableLoadingInput);\n  events.subscribe('scroll-to-bottom', eventHandlers.scrollToBottom);\n  events.subscribe('receive', eventHandlers.receive);\n  if (playback === true) { //TODO: remove if playback when Dashboard code is updated\n    events.subscribe('send', eventHandlers.sendMock);\n  } else {\n    events.subscribe('clear', eventHandlers.clear);\n    events.subscribe('send', eventHandlers.send.send);\n    events.subscribe('retry', eventHandlers.send.retry);\n    events.subscribe('send-input-message', eventHandlers.sendInputMessage);\n    events.subscribe('enable-retry', eventHandlers.error.retry);\n    events.subscribe('enable-input', eventHandlers.input.enableInput);\n    events.subscribe('focus-input', eventHandlers.input.focusInput);\n    events.subscribe('send-mock', eventHandlers.sendMock);\n    events.subscribe('error-clear', eventHandlers.error.clearError);\n    events.subscribe('reset', eventHandlers.reset);\n  }\n  if (tryIt === true) {\n    events.subscribe('try-it-error', eventHandlers.error.tryIt);\n    events.subscribe('try-it-layout-subscription', eventHandlers.tryIt.layoutError);\n    events.subscribe('try-it-action-subscription', eventHandlers.tryIt.actionError);\n    events.subscribe('try-it-receive-intent-data', eventHandlers.tryIt.intent);\n  }\n}\n\nfunction registerLayouts() {\n  registerLayout('show-locations', layouts.showLocations.init, true);\n  registerLayout('choose-location-type', layouts.chooseLocationType.init, true);\n  registerLayout('request-geolocation-latlong', layouts.requestGeolocationLatlong.init, true);\n  registerLayout('request-geolocation-zipcode', layouts.requestGeolocationZipcode.init, true);\n  registerLayout('choose', layouts.choose.init, true);\n  registerLayout('form', layouts.form.init, true);\n  registerLayout('cc-validator', layouts.creditCard.init, true);\n  registerLayout('error', layouts.error.init, true);\n  for (var i = 0; i < registeredLayouts.length; i++)\n    layoutInit[registeredLayouts[i]]();\n}\n\nfunction init(config) {\n  var current = state.get();\n  if (current.active === true) {\n    return destroy()\n      .then(function() {\n        init(config);\n      });\n  }\n\n  var root = (typeof config.el === 'string') ? document.getElementById(config.el) : config.el;\n  var SDKconfig = utils.getSDKConfig(config);\n\n  return new window.Promise(function(resolve, reject) {\n    var defaultState = {\n      active: true,\n      root: root,\n      mapsServer: process.env.MAPS_SERVER || 'https://dp1-i-serve-maps.mybluemix.net/',\n      botID: config.botID,\n      styles: assign({}, defaultStyles, config.styles),\n      baseURL: SDKconfig.baseURL,\n      originalContent: root.innerHTML,\n      handleInput: {\n        default: true\n      },\n      minSeconds: (!config.minSeconds && config.minSeconds !== 0) ? 0.75 : config.minSeconds,\n      chatStyleID: 'chatStyleID-' + utils.getUUID(),\n      tryIt: config.tryIt || false,\n      playback: config.playback || false //TODO: remove playback when Dashboard code is updated\n    };\n    if (utils.checkRoot(root)) {\n      if (config.errorHandler)\n        events.subscribe('httpError', config.errorHandler, config.errorHandlerContext);\n      else\n        events.subscribe('httpError', eventHandlers.error.httpError);\n      registerEvents(config.tryIt, config.playback);\n      registerLayouts();\n      //TODO: remove if playback when Dashboard code is updated\n      if (config.playback === true) {\n        events.publish('start', defaultState);\n        setTimeout(function() {\n          events.publish('chatID', 'playback');\n        }, 0);\n        setTimeout(function() {\n          resolve();\n        }, 0);\n      } else if (config.botID) {\n        events.publish('start', defaultState);\n        events.publish('enable-loading');\n        events.publish('disable-input');\n        BotSDK\n          .configure( SDKconfig )\n          .start( config.botID )\n          .then( function(res) {\n            events.publish('chatID', res.chatID);\n            events.publish('receive', res);\n          })['catch']( function(err) {\n            events.publish('httpError', err);\n          }).then(function() {\n            setTimeout(function() {\n              events.publish('enable-input');\n              resolve();\n            }, 0);\n          });\n      } else {\n        console.error('BotID is required!');\n        destroy();\n        reject({\n          error: 'BotID is required!'\n        });\n      }\n    } else {\n      console.error('Element for chat does not exist!');\n      destroy();\n      reject({\n        error: 'Element for chat does not exist!'\n      });\n    }\n  });\n}\n\nfunction registerLayout(layout, init, defaultSetup) {\n  if (layout && init && typeof init === 'function') {\n    if (registeredLayouts.indexOf(layout) === -1 || !defaultSetup) {\n      registeredLayouts.push(layout);\n      layoutInit[layout] = init;\n    }\n  } else {\n    console.error('registerLayout was configured incorrectly.');\n  }\n}\n\nfunction send(message) {\n  if (message) {\n    var current = state.get();\n    if (current.active) {\n      events.publish('send', {\n        text: message\n      });\n    }\n  } else {\n    console.error('The message was empty.');\n  }\n}\n\nfunction receive(message) {\n  if (message) {\n    var current = state.get();\n    if (current.active)\n      events.publish('receive', message);\n  } else {\n    console.error('The message was empty.');\n  }\n}\n\nfunction sendMock(message) {\n  if (message) {\n    var current = state.get();\n    if (current.active) {\n      events.publish('send-mock', {\n        text: message\n      });\n    }\n  } else {\n    console.error('The message was empty.');\n  }\n}\n\nfunction sendSilently(message) {\n  if (message) {\n    var current = state.get();\n    if (current.active) {\n      events.publish('send', {\n        text: message,\n        silent: true\n      });\n    }\n  } else {\n    console.error('The message was empty.');\n  }\n}\n\nfunction enableCustomInputHandler(config) {\n  if (config && config.callback && typeof config.callback === 'function') {\n    state.set({\n      handleInput: {\n        default: false,\n        callback: config.callback,\n        context: config.context\n      }\n    });\n  } else {\n    console.error('Invalid configuration of enableCustomInputHandler');\n  }\n}\n\nfunction disableCustomInputHandler() {\n  state.set({\n    handleInput: {\n      default: true\n    }\n  });\n}\n\nfunction focusInput() {\n  var current = state.get();\n  if (current.active)\n    events.publish('focus-input');\n}\n\nfunction disableInput() {\n  var current = state.get();\n  if (current.active)\n    events.publish('disable-input');\n}\n\nfunction enableInput() {\n  var current = state.get();\n  if (current.active)\n    events.publish('enable-input');\n}\n\nfunction debug() {\n  state.set({\n    DEBUG: true\n  });\n}\n\nfunction destroy() {\n  return new window.Promise(function(resolve) {\n    var current = state.get();\n    if (current.active) {\n      if (current.root && current.onResize)\n        utils.removeResizeListener(current.root, current.onResize);\n      utils.endVisibilityCheck();\n      styles.removeStyles();\n      events.publish('destroy');\n      events.destroy();\n      if (typeof current.originalContent !== 'undefined' && current.root)\n        current.root.innerHTML = current.originalContent;\n      state.destroy();\n    }\n    resolve();\n  });\n}\n\nfunction restart() {\n  console.warn('The IBMChat.restart method is deprecated. Use IBMChat.clear() instead.');\n  return new window.Promise(function(resolve, reject) {\n    var current = state.get();\n    destroy().then(function() {\n      setTimeout(function() {\n        init({ el: current.root, botID: current.botID, baseURL: current.baseURL }).then(function() {\n          resolve();\n        })['catch'](function(e) {\n          reject(e);\n        });\n      }, 10);\n    })['catch'](function(e) {\n      reject(e);\n    });\n  });\n}\n\nmodule.exports = {\n  profile: profile,\n  init: init,\n  registerLayout: registerLayout,\n  send: send,\n  receive: receive,\n  sendMock: sendMock,\n  sendSilently: sendSilently,\n  enableCustomInputHandler: enableCustomInputHandler,\n  disableCustomInputHandler: disableCustomInputHandler,\n  focusInput: focusInput,\n  disableInput: disableInput,\n  enableInput: enableInput,\n  subscribe: events.subscribe,\n  subscribeOnce: events.subscribeOnce,\n  publish: events.publish,\n  debug: debug,\n  destroy: destroy,\n  restart: restart,\n  currentSubscriptions: events.currentSubscriptions,\n  hasSubscription: events.hasSubscription,\n  completeEvent: events.completeEvent,\n  state: state,\n  context: context,\n  clear: function() {\n    events.publish('restart');\n  }\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/bootstrap.js\n ** module id = 47\n ** module chunks = 0\n **/","/*\n* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n* in compliance with the License. You may obtain a copy of the License at\n*\n* http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software distributed under the License\n* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n* or implied. See the License for the specific language governing permissions and limitations under\n* the License.\n*/\n\nvar state = require('../state');\n\nfunction set(context) {\n  state.set({\n    context: context\n  });\n}\n\nfunction get() {\n  var current = state.get();\n  return current.context;\n}\n\nmodule.exports = {\n  set: set,\n  get: get\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/context/index.js\n ** module id = 48\n ** module chunks = 0\n **/","var state = require('../../state');\n\nfunction chatID(chatID) {\n  var current = state.get();\n  var prefix = 'chatID-';\n  var classes = current.root.className.split(' ').filter(function(c) {\n    return c.lastIndexOf(prefix, 0) !== 0;\n  });\n  state.set({\n    chatID: chatID\n  });\n  current.root.className = classes.join(' ').trim();\n  current.root.classList.add(prefix + chatID);\n}\n\nmodule.exports = chatID;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/events/handlers/chatid.js\n ** module id = 49\n ** module chunks = 0\n **/","/*\n* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n* in compliance with the License. You may obtain a copy of the License at\n*\n* http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software distributed under the License\n* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n* or implied. See the License for the specific language governing permissions and limitations under\n* the License.\n*/\n\nvar state = require('../../state');\nvar events = require('../../events');\n\nfunction clear() {\n  var current = state.get();\n  state.set({\n    messages: []\n  });\n  current.root.classList.add(\"chatID-\" + current.chatID);\n  current.input.value = '';\n  current.inputClone.innerHTML = 'Enter message...';\n  current.chatHolder.innerHTML = '';\n  events.publish('resize-input');\n  events.publish('resize');\n}\n\nmodule.exports = clear;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/events/handlers/clear.js\n ** module id = 50\n ** module chunks = 0\n **/","/*\n* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n* in compliance with the License. You may obtain a copy of the License at\n*\n* http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software distributed under the License\n* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n* or implied. See the License for the specific language governing permissions and limitations under\n* the License.\n*/\n\nvar events = require('../../events');\nvar state = require('../../state');\n\nvar errorMessageMap = {\n  basic: 'I am sorry, I am having difficulties.'\n};\n\nfunction clearError() {\n  setTimeout(function() {\n    var current = state.get();\n    var loader = current.root.querySelector('.IBMChat-loading-container');\n    if (loader)\n      current.chatHolder.removeChild(loader);\n    state.set({\n      errorCount: 0\n    });\n  }, 0);\n}\n\nfunction httpError(err) {\n  setTimeout(function() {\n    console.error(err);\n    var current = state.get();\n    var text = errorMessageMap.basic;\n    var errorCount = current.errorCount || 0;\n    if (err.status && errorMessageMap[err.status])\n      text = errorMessageMap[err.status];\n    events.publish('enable-loading', text);\n    state.set({\n      errorCount: errorCount + 1\n    });\n    events.publish('enable-retry');\n  }, 0);\n}\n\nfunction retry() {\n  setTimeout(function() {\n    var current = state.get();\n    var errorCount = current.errorCount;\n    var loaderRetryMessage = current.root.querySelector('.IBMChat-loading-retry-message');\n    var loader = current.root.querySelector('.IBMChat-loading');\n    var loaderFailure = current.root.querySelector('.IBMChat-loading-failure-message');\n    var loaderFailureMessage = current.root.querySelector('.IBMChat-loading-failure-message-text');\n    if (errorCount > 4) {\n      var loaderFailureMessageText = 'I cannot complete your request. You can try a new request or ';\n      if (!current.chatID) {\n        loaderFailureMessageText = 'I cannot complete your request. Please ';\n        events.publish('disable-input');\n      } else {\n        events.publish('enable-input');\n      }\n      loader.classList.add('IBMChat-hidden');\n      loaderFailureMessage.innerText = loaderFailureMessageText;\n      loaderFailure.classList.remove('IBMChat-hidden');\n      events.publish('scroll-to-bottom');\n      state.set({\n        sendQueue: [],\n        inProgress: false\n      });\n    } else if (errorCount !== 0) {\n      loaderFailure.classList.add('IBMChat-hidden');\n      loaderRetryMessage.classList.remove('IBMChat-hidden');\n      setTimeout(function() {\n        events.publish('retry');\n      }, 5000);\n    }\n  }, 0);\n}\n\nfunction tryIt(data) {\n  events.publish('layout:error', data);\n}\n\nmodule.exports = {\n  httpError: httpError,\n  retry: retry,\n  clearError: clearError,\n  tryIt: tryIt\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/events/handlers/error.js\n ** module id = 51\n ** module chunks = 0\n **/","/*\n* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n* in compliance with the License. You may obtain a copy of the License at\n*\n* http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software distributed under the License\n* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n* or implied. See the License for the specific language governing permissions and limitations under\n* the License.\n*/\n\nvar start = require('./start');\nvar resize = require('./resize');\nvar receive = require('./receive');\nvar send = require('./send');\nvar sendMock = require('./send-mock');\nvar sendInputMessage = require('./send-input-message');\nvar input = require('./input');\nvar error = require('./error');\nvar scrollToBottom = require('./scroll-to-bottom');\nvar tryIt = require('./try-it');\nvar clear = require('./clear');\nvar reset = require('./reset');\nvar chatID = require('./chatid');\n\nmodule.exports = {\n  /**\n  * Resize event. Forces a resize of the Chat UI elements to fix current parent element.\n  *\n  * @event resize\n  * @example\n  * IBMChat.publish('resize');\n  * IBMChat.subscribe('resize', function(){\n  *\n  * });\n  */\n  resize: resize,\n  /**\n  * @ignore\n  */\n  start: start,\n  /**\n  * @ignore\n  */\n  clear: clear,\n  /**\n  * Send event. Sends a message.\n  *\n  * @event send\n  * @property {Object} data\n  * @property {string} data.text - Text to send to Watson Virtual Agent\n  * @property {boolean} data.sendSilently - whether or not to show in UI, defaults to true\n  * @example\n  * IBMChat.publish('send', data);\n  * IBMChat.subscribe('send', function(data){\n  *\n  * });\n  */\n  send: send,\n  /**\n  * sendMock event. Displays a message in the UI, but does not send it to the Watson Virtual Agent.\n  *\n  * @event sendMock\n  * @property {Object} data\n  * @property {string} data.text - Text to send to Watson Virtual Agent\n  * @property {boolean} data.sendSilently - whether or not to show in UI, defaults to true\n  * @example\n  * IBMChat.publish('sendMock', data);\n  * IBMChat.subscribe('sendMock', function(data){\n  *\n  * });\n  */\n  sendMock: sendMock,\n  /**\n  * Receive event.\n  *\n  * @event receive\n  * @property {Object} message - A message object.\n  * @example\n  * IBMChat.publish('receive', message);\n  * IBMChat.subscribe('receive', function(message){\n  *\n  * });\n  */\n  receive: receive,\n  /**\n  * Enable Input event. Allows submitting from input field when it has been disabled.\n  *\n  * @event enable-input\n  * @example\n  * IBMChat.publish('enable-input');\n  * IBMChat.subscribe('enable-input', function(){\n  *\n  * });\n  */\n  /**\n  * Disable Input event. Disallows submitting from input field.\n  *\n  * @event disable-input\n  * @example\n  * IBMChat.publish('disable-input');\n  * IBMChat.subscribe('disable-input', function(){\n  *\n  * });\n  */\n  /**\n  * Enable Loading event. Shows loading state.\n  *\n  * @event enable-loading\n  * @example\n  * IBMChat.publish('enable-loading', 'string to display');\n  * IBMChat.subscribe('enable-loading', function(){\n  *\n  * });\n  */\n  /**\n  * Disable loading event. Hides loading state.\n  *\n  * @event disable-loading\n  * @example\n  * IBMChat.publish('disable-loading');\n  * IBMChat.subscribe('disable-loading', function(){\n  *\n  * });\n  */\n  input: input,\n  /**\n  * Error event.\n  *\n  * @event error\n  * @property {Object} error - Error object.\n  * @example\n  * IBMChat.publish('error', error);\n  * IBMChat.subscribe('error', function(error){\n  *\n  * });\n  */\n  error: error,\n  /**\n  * Scroll to bottom event. Scrolls chat content into correct positioning.\n  *\n  * @event scroll-to-bottom\n  * @example\n  * IBMChat.publish('scroll-to-bottom');\n  * IBMChat.subscribe('scroll-to-bottom', function(){\n  *\n  * });\n  */\n  scrollToBottom: scrollToBottom,\n  /**\n  * @ignore\n  */\n  sendInputMessage: sendInputMessage,\n  /**\n  * @ignore\n  */\n  tryIt: tryIt,\n  /**\n  * @ignore\n  */\n  chatID: chatID,\n  /**\n  * @ignore\n  */\n  reset: reset\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/events/handlers/index.js\n ** module id = 52\n ** module chunks = 0\n **/","/*\n* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n* in compliance with the License. You may obtain a copy of the License at\n*\n* http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software distributed under the License\n* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n* or implied. See the License for the specific language governing permissions and limitations under\n* the License.\n*/\n\nvar state = require('../../state');\nvar events = require('../../events');\nvar utils = require('../../utils');\nvar templates = require('../../templates');\n\nfunction enableInput() {\n  var current = state.get();\n  state.set({ disableInput: false });\n  current.input.removeAttribute('disabled');\n}\n\nfunction disableInput() {\n  var current = state.get();\n  state.set({ disableInput: true });\n  current.input.setAttribute('disabled', 'disabled');\n}\n\nfunction enableLoadingInput(text) {\n  var current, loader;\n  setTimeout(function() {\n    current = state.get();\n    text = text || 'Agent is thinking...';\n    loader = current.root.querySelector('.IBMChat-loading-container');\n    if (loader)\n      current.chatHolder.removeChild(loader);\n  }, 0);\n\n  setTimeout(function() {\n    current.chatHolder.innerHTML += utils.compile(templates.loading, {\n      retryAttempt: 'Attempting to reconnect...',\n      retry: 'restart the conversation.'\n    });\n  }, 0);\n\n  setTimeout(function() {\n    loader = current.root.querySelector('.IBMChat-loading');\n    var loaderText = current.root.querySelector('.IBMChat-loading-message-text');\n    loader.classList.remove('IBMChat-hidden');\n    loaderText.textContent = text;\n    events.publish('resize');\n  }, 0);\n}\n\nfunction disableLoadingInput() {\n  setTimeout(function() {\n    var current = state.get();\n    var loader = current.root.querySelector('.IBMChat-loading-container');\n\n    if (loader)\n      current.chatHolder.removeChild(loader);\n    events.publish('resize');\n  }, 0);\n}\n\nfunction focusInput() {\n  var current = state.get();\n  current.input.focus();\n}\n\nmodule.exports = {\n  enableInput: enableInput,\n  disableInput: disableInput,\n  enableLoadingInput: enableLoadingInput,\n  disableLoadingInput: disableLoadingInput,\n  focusInput: focusInput\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/events/handlers/input.js\n ** module id = 53\n ** module chunks = 0\n **/","/*\n* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n* in compliance with the License. You may obtain a copy of the License at\n*\n* http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software distributed under the License\n* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n* or implied. See the License for the specific language governing permissions and limitations under\n* the License.\n*/\n\nvar BotSDK = require('@watson-virtual-agent/client-sdk/lib/web');\nvar state = require('../../state');\nvar events = require('../../events');\nvar utils = require('../../utils');\nvar assign = require('lodash/assign');\nvar templates = require('../../templates');\n\nfunction _actions(data, tryIt, debug) {\n  var msg = data.message;\n  if (msg && msg.action && msg.action.name) {\n    var action = 'action:' + msg.action.name;\n    if (events.hasSubscription(action)) {\n      events.publish(action, data, events.completeEvent);\n      if (debug)\n        console.log('Call to ' + action);\n    } else {\n      if (debug)\n        console.warn('Nothing is subscribed to ' + action);\n      if (tryIt)\n        events.publish('try-it-action-subscription', action);\n    }\n  }\n  events.publish('enable-input');\n  events.publish('disable-loading');\n  events.publish('scroll-to-bottom');\n  if (utils.isVisible())\n    events.publish('focus-input');\n}\n\nfunction _layouts(data, tryIt, debug) {\n  var msg = data.message;\n  if (msg && msg.layout && msg.layout.name) {\n    var layout = 'layout:' + msg.layout.name;\n    if (events.hasSubscription(layout)) {\n      setTimeout(function() {\n        events.publish(layout, data);\n        if (debug)\n          console.log('Call to ' + layout);\n      }, 10);\n    } else {\n      if (debug)\n        console.warn('Nothing is subscribed to ' + layout);\n      if (tryIt)\n        events.publish('try-it-layout-subscription', layout);\n    }\n  }\n}\n\nfunction _intents(data) {\n  var msg = data.message;\n  var getIntentField = function(msg) {\n    if (!msg || !msg.log_data)\n      return false;\n    if (msg.log_data.wva_top_intent && typeof msg.log_data.wva_top_intent === 'object' && msg.log_data.wva_top_intent.intent)\n      return msg.log_data.wva_top_intent.intent;\n    else if (msg.log_data.intents && msg.log_data.intents.length > 0 && msg.log_data.intents[0].intent)\n      return msg.log_data.intents[0].intent;\n    else\n      return false;\n  };\n  var intent = getIntentField(msg);\n  if (msg && msg.log_data && msg.log_data.show_intent_link === true && intent) {\n    events.publish('try-it-get-intent-data', {\n      element: data.intentElement,\n      intent: intent\n    });\n  }\n}\n\nfunction receive(data) {\n  setTimeout(function() {\n    _receive(data);\n  }, 0);\n}\n\nfunction _receive(data) {\n  var parsed = (typeof data === 'string') ? { message: { text: data } } : data;\n  parsed = BotSDK.parse(parsed);\n  var current = state.get();\n  state.set({\n    messages: [].concat(current.messages || [], parsed),\n    errorCount: 0\n  });\n  var msg = parsed.message;\n  var msgText = (msg && msg.text) ? ((Array.isArray(msg.text) && msg.text.length > 0) ? msg.text : [msg.text]) : [''];\n  var containers = [];\n  var messages = [];\n  var layouts = [];\n  var intents = [];\n  var datas = [];\n  var turnElm = document.createElement('div');\n  turnElm.classList.add('IBMChat-watson-turn');\n  current.chatHolder.appendChild(turnElm);\n  for (var i = 0; i < msgText.length; i++) {\n    var holder = document.createElement('div');\n    var msgData = assign({}, parsed, { uuid: utils.getUUID() });\n    holder.classList.add(msgData.uuid);\n    holder.innerHTML = templates.receive;\n    containers.push(holder.querySelector('.IBMChat-watson-message-container'));\n    messages.push(document.createElement('div'));\n    layouts.push(document.createElement('div'));\n    layouts[i].classList.add('IBMChat-watson-layout');\n    if (current.tryIt) {\n      intents.push(document.createElement('div'));\n      intents[i].classList.add('IBMChat-watson-intent');\n    }\n    if ((msgText[i] && msgText[i].length > 0) || (msg && msg.layout && msg.layout.name && i === (msgText.length - 1))) {\n      messages[i].classList.add('IBMChat-watson-message');\n      utils.writeMessage(messages[i], msgText[i]);\n      turnElm.appendChild(holder);\n    }\n    containers[i].appendChild(messages[i]);\n    if (current.tryIt)\n      containers[i].appendChild(intents[i]);\n    containers[i].appendChild(layouts[i]);\n    msgData.element = containers[i];\n    msgData.layoutElement = layouts[i];\n    msgData.msgElement = messages[i];\n    if (current.tryIt)\n      msgData.intentElement = intents[i];\n    datas.push(msgData);\n    if (i === 0 && current.tryIt)\n      _intents(datas[i]);\n    if (msg && msg.layout && ((msg.layout.index !== undefined && msg.layout.index == i) ||(msg.layout.index === undefined && i == (msgText.length - 1))))\n      _layouts(datas[i], current.tryIt, current.DEBUG);\n    if (i === (msgText.length - 1))\n      _actions(datas[i], current.tryIt, current.DEBUG);\n\n  }\n\n}\n\nmodule.exports = receive;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/events/handlers/receive.js\n ** module id = 54\n ** module chunks = 0\n **/","var state = require('../../state');\nvar events = require('../../events');\nvar BotSDK = require('@watson-virtual-agent/client-sdk/lib/web');\nvar utils = require('../../utils');\n\nfunction reset() {\n  events.publish('clear-error');\n  events.publish('scroll-to-bottom');\n  return new window.Promise(function(resolve, reject) {\n    var current = state.get();\n    var SDKconfig = utils.getSDKConfig(current);\n    if (!utils.checkRoot(current.root)) {\n      reject({\n        error: 'Element for chat does not exist!'\n      });\n    }\n    if (!current.botID) {\n      reject({\n        error: 'BotID is required!'\n      });\n    }\n    BotSDK\n      .configure( SDKconfig )\n      .start( current.botID )\n      .then( function(res) {\n        events.publish('clear');\n        events.publish('chatID', res.chatID);\n        events.publish('receive', res);\n      })['catch']( function(err) {\n        events.publish('httpError', err);\n      }).then(function() {\n        setTimeout(function() {\n          resolve();\n        },0);\n      });\n  });\n}\n\nmodule.exports = reset;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/events/handlers/reset.js\n ** module id = 55\n ** module chunks = 0\n **/","/*\n* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n* in compliance with the License. You may obtain a copy of the License at\n*\n* http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software distributed under the License\n* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n* or implied. See the License for the specific language governing permissions and limitations under\n* the License.\n*/\n\nvar state = require('../../state');\nvar events = require('../../events');\n\nvar debugResize = false;\nvar timeout;\n\nfunction _getHeight(element) {\n  return Math.floor(window.getComputedStyle(element).getPropertyValue('height').replace('px', ''));\n}\n\nfunction resize() {\n  clearTimeout(timeout);\n  timeout = setTimeout(function() {\n    timeout = null;\n    _resize();\n  }, 150);\n}\n\nfunction _resize() {\n\n  var current = state.get();\n  if (current.isVisible && current.active) {\n    var maxInputPercentage = 35,\n      newState = {},\n      containerHeight = 0,\n      chatHolderHeight = 0,\n      chatHolderMaxHeight = 0,\n      inputHolderHeight = 0,\n      rootHeight = current.root.clientHeight,\n      rootWidth = current.root.clientWidth,\n      maxInputHeight = rootHeight * (maxInputPercentage / 100),\n      calculatedMaxInputHeight = (maxInputHeight > 96) ? maxInputHeight : 96,\n      cloneHeight = (current.input) ? _getHeight(current.inputClone) : null,\n      inputHeight = (current.input) ? (_getHeight(current.input)) : 0,\n      newInputClone = (current.input && current.input.value && current.input.value.length > 0) ? current.input.value.replace(/\\n/g, '<br />') : 'Enter message...',\n      currentInputClone = (current.input) ? current.inputClone.innerHTML : null;\n\n    var chatChanged = function() {\n      if (newState.chatHolderHeight !== undefined || newState.containerHeight !== undefined)\n        events.publish('scroll-to-bottom');\n      return (newState.rootWidth !== undefined || newState.chatHolderHeight !== undefined || newState.rootHeight !== undefined || newState.isLarge !== undefined || newState.containerHeight !== undefined || newState.inputHeight !== undefined);\n    };\n\n    setTimeout(function() {\n      if (current.rootHeight !== rootHeight) {\n        if (debugResize)\n          console.log('New Root Height:', rootHeight);\n        newState.rootHeight = rootHeight;\n      }\n      if (current.rootWidth !== rootWidth) {\n        if (debugResize)\n          console.log('New Root Width:', rootWidth);\n        newState.rootWidth = rootWidth;\n        current.chat.style.width = rootWidth + 'px';\n        newState.rootWidth = rootWidth;\n      }\n    }, 0);\n\n    setTimeout(function() {\n      if (current.input) {\n        if (currentInputClone !== newInputClone) {\n          current.inputClone.textContent = newInputClone;\n          cloneHeight = _getHeight(current.inputClone);\n          /*if (debugResize)\n            console.log('Clone does not match input:', 'current:', currentInputClone, 'new:', newInputClone, 'height:', cloneHeight);*/\n        }\n\n        if (current.inputHeight !== cloneHeight) {\n          if (debugResize)\n            console.log('Input height does not match:', current.inputHeight, inputHeight);\n          inputHeight = (calculatedMaxInputHeight > cloneHeight) ? cloneHeight : calculatedMaxInputHeight;\n        }\n\n        if (current.inputHeight !== inputHeight) {\n          if (debugResize)\n            console.log('New Input Height:', current.inputHeight, inputHeight);\n          current.input.style.height = inputHeight + \"px\";\n          newState.inputHeight = inputHeight;\n        }\n      }\n    }, 0);\n\n    setTimeout(function() {\n\n      if (current.input)\n        inputHolderHeight = _getHeight(current.inputContainer);\n      chatHolderHeight = _getHeight(current.chatHolder);\n      chatHolderMaxHeight = chatHolderHeight;\n      if (debugResize)\n        console.log('chatHolderHeight', chatHolderHeight, 'rootHeight', rootHeight, 'inputHolderHeight', inputHolderHeight);\n      containerHeight = Math.floor(rootHeight - inputHolderHeight);\n\n      if (chatHolderHeight < containerHeight) {\n        chatHolderHeight = 'auto';\n        chatHolderMaxHeight = containerHeight + 'px';\n      } else {\n        chatHolderHeight = containerHeight + 'px';\n        chatHolderMaxHeight = chatHolderHeight;\n      }\n      if (current.containerHeight !== containerHeight) {\n        if (debugResize)\n          console.log('New Container Height:', containerHeight);\n        current.innerContainer.style.height = containerHeight + \"px\";\n        newState.containerHeight = containerHeight;\n      }\n\n      if (current.chatHolderHeight !== chatHolderHeight || current.chatHolderMaxHeight !== chatHolderMaxHeight) {\n        if (debugResize) {\n          console.log('New Chat Holder Height: ' + chatHolderHeight);\n          console.log('New Chat Holder Max Height: ' + chatHolderMaxHeight);\n        }\n        newState.chatHolderHeight = chatHolderHeight;\n        newState.chatHolderMaxHeight = chatHolderMaxHeight;\n        current.chatHolder.style.height = chatHolderHeight;\n        current.chatHolder.style.maxHeight = chatHolderMaxHeight;\n      }\n\n      if (rootWidth >= 480) {\n        current.root.classList.add('IBMChat-isLarge');\n        if (!current.isLarge)\n          newState.isLarge = true;\n      } else {\n        current.root.classList.remove('IBMChat-isLarge');\n        if (current.isLarge)\n          newState.isLarge = false;\n      }\n\n      if (chatChanged())\n        state.set(newState);\n\n    }, 0);\n  }\n}\n\nmodule.exports = resize;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/events/handlers/resize.js\n ** module id = 56\n ** module chunks = 0\n **/","/*\n* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n* in compliance with the License. You may obtain a copy of the License at\n*\n* http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software distributed under the License\n* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n* or implied. See the License for the specific language governing permissions and limitations under\n* the License.\n*/\n\nvar state = require('../../state');\n\nvar smoothStep = function(start, end, point) {\n  if (point <= start) return 0;\n  if (point >= end) return 1;\n  var x = (point - start) / (end - start);\n  return x*x*(3 - 2*x);\n};\n\nfunction scrollToBottom() {\n  setTimeout(function() {\n    var duration = 300;\n    var startTime = Date.now();\n    var endTime = startTime + duration;\n    var current = state.get();\n    var startTop = current.chatHolder.scrollTop;\n    var previousTop = startTop;\n    var distance = current.chatHolder.scrollHeight - startTop;\n    var scrolling = setInterval(function() {\n      var now = Date.now();\n      if (current.chatHolder.scrollTop != previousTop) {\n        clearInterval(scrolling);\n        return;\n      } else if (now >= endTime) {\n        clearInterval(scrolling);\n        current.chatHolder.scrollTop = current.chatHolder.scrollHeight;\n        return;\n      } else if (current.chatHolder.scrollTop == current.chatHolder.scrollHeight) {\n        clearInterval(scrolling);\n        return;\n      }\n      var point = smoothStep(startTime, endTime, now);\n      var frameTop = Math.round(startTop + (distance * point));\n      current.chatHolder.scrollTop = frameTop;\n      previousTop = current.chatHolder.scrollTop;\n    }, 0);\n  }, 100);\n}\n\nmodule.exports = scrollToBottom;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/events/handlers/scroll-to-bottom.js\n ** module id = 57\n ** module chunks = 0\n **/","/*\n* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n* in compliance with the License. You may obtain a copy of the License at\n*\n* http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software distributed under the License\n* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n* or implied. See the License for the specific language governing permissions and limitations under\n* the License.\n*/\n\nvar state = require('../../state');\nvar events = require('../../events');\n\nfunction sendInputMessage() {\n  var current = state.get();\n  if (!current.inProgress && !current.disableInput) {\n    var text = current.root.querySelector('.IBMChat-chat-textbox').value.trim().replace(/(\\r\\n|\\n|\\r)/gm,\"\");\n    events.publish('send', {\n      text: text\n    });\n    text = '';\n  }\n}\n\nmodule.exports = sendInputMessage;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/events/handlers/send-input-message.js\n ** module id = 58\n ** module chunks = 0\n **/","/*\n* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n* in compliance with the License. You may obtain a copy of the License at\n*\n* http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software distributed under the License\n* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n* or implied. See the License for the specific language governing permissions and limitations under\n* the License.\n*/\n\nvar state = require('../../state');\nvar events = require('../../events');\nvar utils = require('../../utils');\nvar assign = require('lodash/assign');\nvar templates = require('../../templates');\n\nfunction sendMock(data) {\n  setTimeout(function() {\n    _sendMock(data);\n  }, 0);\n}\n\nfunction _sendMock(data) {\n  if (data.text && data.text.length > 0) {\n    var current = state.get();\n    var newData = assign({}, data, { uuid: utils.getUUID() });\n    current.chatHolder.innerHTML += utils.compile(templates.send, { 'data.uuid': newData.uuid });\n    current.chatHolder.querySelector('#' + newData.uuid + ' .IBMChat-user-message').textContent = data.text;\n    events.publish('resize');\n    events.publish('scroll-to-bottom');\n  }\n}\n\nmodule.exports = sendMock;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/events/handlers/send-mock.js\n ** module id = 59\n ** module chunks = 0\n **/","/*\n* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n* in compliance with the License. You may obtain a copy of the License at\n*\n* http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software distributed under the License\n* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n* or implied. See the License for the specific language governing permissions and limitations under\n* the License.\n*/\n\nvar state = require('../../state');\nvar events = require('../../events');\nvar BotSDK = require('@watson-virtual-agent/client-sdk/lib/web');\nvar utils = require('../../utils');\nvar assign = require('lodash/assign');\nvar templates = require('../../templates');\n\nfunction send(data) {\n  setTimeout(function() {\n    _send(data);\n  }, 0);\n}\n\nfunction _send(data) {\n  if (data && data.text && data.text.length > 0) {\n    var current = state.get();\n    addToSendQueue(data);\n    if (!current.inProgress)\n      agentSend();\n  }\n}\n\nfunction addToSendQueue(data) {\n  var current = state.get();\n  var queue = current.sendQueue || [];\n  var newQueue = queue.slice(0);\n  newQueue.push(data);\n  state.set({\n    sendQueue: newQueue\n  });\n}\n\nfunction resolve(sent, received) {\n  var current = state.get();\n  state.set({\n    errorCount: 0,\n    sendQueue: current.sendQueue.slice(1, current.sendQueue.length),\n    messages: [].concat(current.messages || [], sent),\n    inProgress: false\n  });\n  events.publish('receive', received);\n  events.publish('error-clear');\n  events.publish('disable-loading');\n  events.publish('scroll-to-bottom');\n  if (state.get().sendQueue.length > 0)\n    agentSend();\n}\n\nfunction reject() {\n  events.publish('httpError', arguments);\n}\n\nfunction sendToBot(data, retry) {\n\n  function delay(cb) {\n    var newTime = Date.now();\n    var diff = newTime - starttime;\n    var minWaitTime = minSeconds * 1000;\n    var timeout = minWaitTime - diff;\n    if (timeout > 0) {\n      setTimeout(function() {\n        cb();\n      }, timeout);\n    } else {\n      cb();\n    }\n  }\n\n  var current = state.get();\n  var starttime = Date.now();\n  var minSeconds = current.minSeconds;\n\n  if (!retry)\n    events.publish('enable-loading');\n  events.publish('focus-input');\n\n  BotSDK\n    .send( current.botID, current.chatID, data.text, current.context )\n    .then( function(res) {\n      delay(function() {\n        resolve(data, res);\n      });\n    })\n    .catch(function(e) {\n      delay(function() {\n        reject(e);\n      });\n    });\n}\n\nfunction agentSend(retry) {\n  var current = state.get();\n  var newData = assign({}, current.sendQueue[0], { uuid: utils.getUUID() });\n  var msg = newData.text || '';\n  state.set({\n    inProgress: true\n  });\n  current.root.querySelector('.IBMChat-chat-textbox').value = '';\n  if (!newData.silent && !retry) {\n    current.chatHolder.innerHTML += utils.compile(templates.send, { 'data.uuid': newData.uuid });\n    current.chatHolder.querySelector('#' + newData.uuid + ' .IBMChat-user-message').textContent = msg;\n    events.publish('scroll-to-bottom');\n  }\n  if (current.handleInput.default)\n    sendToBot(newData, retry);\n  else if (current.handleInput.context)\n    current.handleInput.callback.bind(current.handleInput.context, newData.text, resolve, reject);\n  else\n    current.handleInput.callback(newData.text, resolve, reject);\n}\n\nfunction retry() {\n  var current = state.get();\n  if (current.sendQueue && current.sendQueue.length > 0)\n    agentSend(true);\n  else\n    events.publish('reset');\n}\n\nmodule.exports = {\n  send: send,\n  retry: retry\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/events/handlers/send.js\n ** module id = 60\n ** module chunks = 0\n **/","/*\n* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n* in compliance with the License. You may obtain a copy of the License at\n*\n* http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software distributed under the License\n* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n* or implied. See the License for the specific language governing permissions and limitations under\n* the License.\n*/\n\nvar state = require('../../state');\nvar utils = require('../../utils');\nvar styles = require('../../styles');\nvar events = require('../../events');\nvar templates = require('../../templates');\n\nfunction start(data) {\n  var current;\n  state.set(data);\n  current = state.get();\n  styles.attachStyles();\n  current.root.classList.add(current.chatStyleID);\n  current.root.innerHTML = templates.start;\n  var addState = {\n    chat: current.root.querySelector('.IBMChat'),\n    outerContainer: current.root.querySelector('.IBMChat-outer-container'),\n    container: current.root.querySelector('.IBMChat-chat-container'),\n    chatHolder: current.root.querySelector('.IBMChat-messages'),\n    innerContainer: current.root.querySelector('.IBMChat-inner-container'),\n  };\n  //TODO: remove if conditional after Dashboard implements new playback\n  if (current.playback !== true) {\n    var chatBox = document.createElement('div');\n    chatBox.classList.add('IBMChat-input-container');\n    chatBox.classList.add('IBMChat-input-container-theme');\n    chatBox.innerHTML = utils.compile(templates.input, {\n      placeholder: 'Enter message...'\n    });\n    addState.outerContainer.appendChild(chatBox);\n    addState.inputHolder = current.root.querySelector('.IBMChat-input-container form');\n    addState.inputContainer = current.root.querySelector('.IBMChat-chat-text-container');\n    addState.input = current.root.querySelector('.IBMChat-chat-textbox');\n    addState.inputClone = current.root.querySelector('.IBMChat-chat-textbox-clone');\n    addState.form = current.root.querySelector('.IBMChat-input-form');\n    addState.form.addEventListener('submit', function(e) {\n      e.preventDefault();\n    });\n    addState.onResize = function() {\n      events.publish('resize');\n    };\n    if (current.tryIt) {\n      addState.chatHolder.addEventListener('click', function(e) {\n        if (e.target.dataset && e.target.dataset.intent) {\n          var index = e.target.dataset.intent;\n          var current = state.get();\n          e.preventDefault();\n          if (current.intents && current.intents[index])\n            events.publish('try-it-show-intent', current.intents[index]);\n          else\n            console.error('Intent index is undefined', current.intents, index);\n        }\n      });\n    }\n\n    addState.chatHolder.addEventListener('click', function(e) {\n      if (e.target.dataset && e.target.dataset.retry) {\n        events.publish('error-clear');\n        setTimeout(function() {\n          events.publish('enable-loading');\n          events.publish('reset');\n        }, 0);\n      }\n    });\n\n    addState.input.addEventListener('keydown', function(e) {\n      var current = state.get();\n      if (e.keyCode === 13) {\n        e.preventDefault();\n        if (!current.inProgress) {\n          events.publish('send-input-message');\n          addState.inputClone.innerHTML = '';\n          addState.input.style.overflow = 'hidden';\n          addState.input.style.height = addState.originalInputHeight + \"px\";\n          state.set({\n            inputHeight: addState.originalInputHeight\n          });\n        }\n      }\n      events.publish('resize');\n    });\n\n    addState.input.addEventListener('focus', function() {\n      events.publish('resize');\n    });\n\n    addState.input.addEventListener('blur', function() {\n      events.publish('resize');\n    });\n  }\n\n  window.addEventListener('resize', function() {\n    events.publish('resize');\n  });\n\n  window.addEventListener('orientationchange', function() {\n    events.publish('resize');\n  });\n\n  state.setState(addState);\n  utils.checkVisibility();\n  utils.addResizeListener(current.root, addState.onResize);\n  events.publish('resize');\n}\n\nmodule.exports = start;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/events/handlers/start.js\n ** module id = 61\n ** module chunks = 0\n **/","/*\n* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n* in compliance with the License. You may obtain a copy of the License at\n*\n* http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software distributed under the License\n* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n* or implied. See the License for the specific language governing permissions and limitations under\n* the License.\n*/\n\nvar events = require('../../events');\nvar state = require('../../state');\n\nfunction _addDataSet(data) {\n  var current = state.get();\n  var queue = current.intents || [];\n  var newQueue = queue.slice(0);\n  var count = newQueue.push(data);\n  state.set({\n    intents: newQueue\n  });\n  return count - 1;\n}\n\nfunction actionError(action) {\n  events.publish('receive', {\n    message: {\n      layout: {\n        name: 'error',\n        message: 'A subscription was called to ' + action + '. Nothing is subscribed to this action in the Try-It interface. This is probably due to you using a custom workspace. On your own site, you should have code to handle this action.'\n      }\n    }\n  });\n}\n\nfunction layoutError(layout) {\n  events.publish('receive', {\n    message: {\n      layout: {\n        name: 'error',\n        message: 'A subscription was called to ' + layout + '. Nothing is subscribed to this layout in the Try-It interface. This is probably due to you using a custom workspace. On your own site, you should have code to handle this layout.'\n      }\n    }\n  });\n}\n\nfunction intent(data) {\n  var element = data.element;\n  var label = data.blueprint.label;\n  /* TODO: add switch\n  var enabled = data.enabled;\n  */\n  var link = document.createElement('a');\n  link.textContent = label;\n  link.setAttribute('href', 'javascript:void(0)');\n  link.setAttribute('data-intent', _addDataSet(data));\n  element.appendChild(link);\n}\n\nmodule.exports = {\n  actionError: actionError,\n  layoutError: layoutError,\n  intent: intent\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/events/handlers/try-it.js\n ** module id = 62\n ** module chunks = 0\n **/","/**\n* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n* in compliance with the License. You may obtain a copy of the License at\n*\n* http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software distributed under the License\n* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n* or implied. See the License for the specific language governing permissions and limitations under\n* the License.\n*/\n\nvar events = require('../../events');\nvar profile = require('../../profile');\nvar subscribe = events.subscribe;\nvar publish = events.publish;\nvar utils = require('../../utils');\nvar validation = require('./validation');\nvar activeClassName = 'IBMChat-accent-colors';\nvar inactiveClassName = 'IBMChat-accent-colors-button';\nvar ns = 'IBMChat-creditcard';\nvar widgets = [];\nvar templates = {\n  base: require('./templates/base.html')\n};\n\nvar creditCardLayout = {\n  init: function() {\n    subscribe('layout:cc-validator', function(data) {\n      var widget = new CreditCard(data);\n      widgets[data.uuid] = widget;\n    });\n  }\n};\n\nfunction CreditCard(data) {\n  this.init(data);\n}\n\nCreditCard.prototype.init = function(data) {\n  this.data = data.message.layout.data || {};\n  this.data.acceptedCards = this.data.types;\n  this.uuid = data.uuid;\n  this.parentElement = data.element;\n  this.layoutElement = data.layoutElement;\n  this.msgElement = data.msgElement;\n  this.formData = {};\n  this.drawForm();\n  this.subscribeSend = subscribe('send', this.removeAllEventListeners.bind(this));\n  publish('disable-input');\n};\n\nCreditCard.prototype.drawForm = function() {\n  var text = templates.base;\n  this.el = document.createElement('div');\n  text = utils.compile(templates.base, {\n    ns: ns,\n    uuid: utils.getUUID()\n  });\n  this.el.innerHTML = text;\n  this.layoutElement.appendChild(this.el);\n  this.cancelButton = this.el.querySelector('.' + ns + '-cancel');\n  this.submitButton = this.el.querySelector('.' + ns + '-submit');\n  this.cancelButton.classList.add(inactiveClassName);\n  this.submitButton.classList.add(inactiveClassName);\n  this.formElements = {};\n  this.fields = this.el.querySelectorAll('input');\n  for (var i = 0; i < this.fields.length; i++) {\n    var field = this.fields[i];\n    var name = field.getAttribute('name');\n    this.formElements[name] = field;\n  }\n  this.formElements['cc_full_name'].focus();\n  this.addListeners();\n};\n\nCreditCard.prototype.addError = function(name, msg) {\n  var field, errorElement;\n  if (name === 'cc_exp_date') {\n    field = this.formElements[\"cc_exp_date_month\"];\n    field.setAttribute('aria-invalid', true);\n    field.dataset.valid = false;\n    field = this.formElements[\"cc_exp_date_year\"];\n    field.setAttribute('aria-invalid', true);\n    field.dataset.valid = false;\n  } else {\n    field = this.formElements[name];\n    field.setAttribute('aria-invalid', true);\n    field.dataset.valid = false;\n  }\n  errorElement = this.el.querySelector('[data-validation-for=\"' + name + '\"]');\n  errorElement.style.display = 'block';\n  errorElement.dataset.valid = false;\n  errorElement.textContent = msg;\n};\n\nCreditCard.prototype.removeError = function(name) {\n  var field, errorElement;\n  if (name === 'cc_exp_date') {\n    field = this.formElements[\"cc_exp_date_month\"];\n    field.removeAttribute('aria-invalid');\n    field.dataset.valid = true;\n    field = this.formElements[\"cc_exp_date_year\"];\n    field.removeAttribute('aria-invalid');\n    field.dataset.valid = true;\n  } else {\n    field = this.formElements[name];\n    field.removeAttribute('aria-invalid');\n    field.dataset.valid = true;\n  }\n  errorElement = this.el.querySelector('[data-validation-for=\"' + name + '\"]');\n  errorElement.style.display = 'none';\n  errorElement.dataset.valid = true;\n  errorElement.textContent = '';\n};\n\nCreditCard.prototype.validate_cc_full_name = function(valid) {\n  if (this.formData.cc_full_name.trim().length === 0) {\n    this.addError('cc_full_name', 'This field is required.');\n    if (valid) this.formElements['cc_full_name'].focus();\n    valid = false;\n  } else {\n    this.removeError('cc_full_name');\n  }\n  return valid;\n};\n\nCreditCard.prototype.validate_cc_number = function(valid) {\n  var cc = validation.validateCard(this.data.acceptedCards, this.formData.cc_number, this.formElements.cc_number);\n  if (!cc.valid) {\n    this.addError('cc_number', cc.message);\n    if (valid) this.formElements['cc_number'].focus();\n    valid = false;\n  } else {\n    this.removeError('cc_number');\n  }\n  return valid;\n};\n\nCreditCard.prototype.validate_cc_exp_date = function(valid) {\n  var exp = validation.validateExp(this.formData.cc_exp_date_month, this.formData.cc_exp_date_year);\n  if (!exp.valid) {\n    this.addError('cc_exp_date', exp.message);\n    if (valid) this.formElements['cc_exp_date_month'].focus();\n    valid = false;\n  } else {\n    this.removeError('cc_exp_date');\n  }\n  return valid;\n};\n\nCreditCard.prototype.validate_cc_code = function(valid) {\n  var cvv = validation.validateCVV(this.formData.cc_code);\n  if (!cvv.valid) {\n    this.addError('cc_code', cvv.message);\n    if (valid) this.formElements['cc_code'].focus();\n    valid = false;\n  } else {\n    this.removeError('cc_code');\n  }\n  return valid;\n};\n\nCreditCard.prototype.validate = function() {\n  var valid = true;\n  valid = this.validate_cc_full_name(valid);\n  valid = this.validate_cc_number(valid);\n  valid = this.validate_cc_exp_date(valid);\n  valid = this.validate_cc_code(valid);\n  return valid;\n};\n\nCreditCard.prototype.preprocessFormData = function() {\n  this.formData = {};\n  for (var i = 0; i < this.fields.length; i++) {\n    var field = this.fields[i];\n    var name = field.getAttribute('name');\n    // set month to 2 digit format\n    if (name === 'cc_exp_date_month' && /^[1-9]$/.test(field.value))\n      field.value = '0' + field.value;\n    this.formData[name] = field.value;\n  }\n};\n\nCreditCard.prototype.handleKeyup = function(e) {\n  var el = e.target;\n  var validation = {\n    'cc_full_name': this.validate_cc_full_name,\n    'cc_number': this.validate_cc_number,\n    'cc_exp_date_month': this.validate_cc_exp_date,\n    'cc_exp_date_year': this.validate_cc_exp_date,\n    'cc_code': this.validate_cc_code\n  };\n  var name = el.getAttribute('name');\n  if (e.keyCode === 13) {\n    e.preventDefault();\n    this.handleSubmit();\n  } else if (el.dataset.valid == 'false' && typeof validation[name] === 'function') {\n    this.formData[name] = el.value;\n    validation[name].call(this, false);\n  }\n};\n\nCreditCard.prototype.handleSubmit = function() {\n  this.preprocessFormData();\n  if (this.validate()) {\n    var fd = this.formData;\n    fd.cc_exp_date = fd.cc_exp_date_month + '/' + fd.cc_exp_date_year;\n    fd.cc_last_four_digits = fd.cc_number.substr(fd.cc_number.length - 4);\n    Object.keys(fd).map(function(key) {\n      profile.set(key, fd[key]);\n    });\n    this.submitButton.classList.remove(inactiveClassName);\n    this.submitButton.classList.add(activeClassName);\n    publish('enable-input');\n    publish('send', {\n      silent: true,\n      text: 'success'\n    });\n  }\n};\n\nCreditCard.prototype.handleCancel = function() {\n  this.cancelButton.classList.remove(inactiveClassName);\n  this.cancelButton.classList.add(activeClassName);\n  publish('enable-input');\n  publish('send', {\n    silent: true,\n    text: 'cancel'\n  });\n};\n\nCreditCard.prototype.addListeners = function() {\n  this.cancelButton.addEventListener('click', this.handleCancel.bind(this));\n  this.submitButton.addEventListener('click', this.handleSubmit.bind(this));\n  for (var i = 0; i < this.fields.length; i++)\n    this.fields[i].addEventListener('keyup', this.handleKeyup.bind(this));\n};\n\nCreditCard.prototype.removeAllEventListeners = function() {\n  this.cancelButton.removeEventListener('click', this.handleCancel.bind(this));\n  this.cancelButton.setAttribute('disabled', true);\n  this.submitButton.removeEventListener('click', this.handleSubmit.bind(this));\n  this.submitButton.setAttribute('disabled', true);\n  for (var j = 0; j < this.fields.length; j++) {\n    var field = this.fields[j];\n    field.removeEventListener('keyup', this.handleKeyup.bind(this));\n    field.setAttribute('disabled', true);\n  }\n  this.subscribeSend.remove();\n};\n\nmodule.exports = creditCardLayout;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/layouts/cc-validator/index.js\n ** module id = 63\n ** module chunks = 0\n **/","/**\n* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n* in compliance with the License. You may obtain a copy of the License at\n*\n* http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software distributed under the License\n* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n* or implied. See the License for the specific language governing permissions and limitations under\n* the License.\n*/\n\n//https://en.wikipedia.org/wiki/Payment_card_number\n\nvar state = {\n  acceptedCards: [],\n  cardNumber: '',\n  cardType: ''\n};\n\nvar messages = {\n  required: 'This field is required.',\n  acceptedCard: function() {\n    var cards = state.acceptedCards;\n    var length = cards.length;\n    var text = 'We accept ';\n    if (length === 1) {\n      text += cardData[cards[0]].human;\n    } else {\n      var middle = cards.slice(1, length - 1);\n      text += cardData[cards[0]].human;\n      for (var i = 0; i < middle.length; i++)\n        text += ', ' + cardData[middle[i]].human;\n      text += ' and ' + cardData[cards[length - 1]].human;\n    }\n    text += '. Please use a valid card.';\n    return text;\n  },\n  invalid: 'Your credit card number is invalid.',\n  invalidExpiration: 'Your credit card expiration date is invalid.',\n  invalidCvv: 'Your CVV is invalid.'\n};\n\nvar cardData = {\n  \"visa\": {\n    human: \"Visa\",\n    prefixes: [4],\n    lengths: [13, 16, 19]\n  },\n  \"mastercard\": {\n    human: \"MasterCard\",\n    prefixes: [51, 52, 53, 54, 55],\n    lengths: [16]\n  },\n  \"amex\": {\n    human: \"American Express\",\n    prefixes: [34, 37],\n    lengths: [15]\n  },\n  \"discover\": {\n    human: \"Discover\",\n    prefixes: [6011, 65],\n    lengths: [16, 19]\n  }\n};\n\nvar i;\n//MasterCard adding these numbers in 2017\nfor (i = 2221; i <= 2720; i++)\n  cardData.mastercard.prefixes.push(i);\n\nfor (i = 622126; i <= 622925; i++)\n  cardData.discover.prefixes.push(i);\n\nfor (i = 644; i <= 649; i++)\n  cardData.discover.prefixes.push(i);\n\nfunction _detectCard() {\n  for (var i = 0; i < state.acceptedCards.length; i++) {\n    var data = cardData[state.acceptedCards[i]];\n    for (var j = 0; j < data.prefixes.length; j++) {\n      var x = data.prefixes[j].toString();\n      if (state.cardNumber.substring(0, x.length) === x) {\n        state.cardType = state.acceptedCards[i];\n        return true;\n      }\n    }\n  }\n  return false;\n}\n\nfunction _checkLuhn() {\n  var checksum = 0; // running checksum total\n  var j = 1; // takes value of 1 or 2\n\n  // Process each digit one by one starting at the right\n  var calc;\n  for (var i = state.cardNumber.length - 1; i >= 0; i--) {\n    // Extract the next digit and multiply by 1 or 2 on alternative digits.\n    calc = Number(state.cardNumber.charAt(i)) * j;\n\n    // If the result is in two digits add 1 to the checksum total\n    if (calc > 9) {\n      checksum = checksum + 1;\n      calc = calc - 10;\n    }\n\n    // Add the units element to the checksum total\n    checksum = checksum + calc;\n\n    // Switch the value of j\n    j = (j == 1) ? 2 : 1;\n  }\n\n  // All done - if checksum is divisible by 10, it is a valid modulus 10.\n  // If not, report an error.\n  return (checksum % 10 != 0) ? false : true;\n}\n\nfunction _invalid(message) {\n  return {\n    'message': message,\n    'valid': false\n  };\n}\n\nfunction _valid() {\n  return {\n    'valid': true\n  };\n}\n\nfunction validateCard(acceptedCards, cardNumber, cardElement) {\n  state.acceptedCards = acceptedCards;\n  state.cardNumber = cardNumber.replace(/\\D/g,'');\n\n  if (cardNumber.length === 0)\n    return _invalid(messages.required);\n\n  if (state.cardNumber.length === 0)\n    return _invalid(messages.invalid);\n\n  if (_detectCard()) {\n    if (cardData[state.cardType].lengths.indexOf(state.cardNumber.length) === -1)\n      return _invalid(messages.invalid);\n    if (_checkLuhn() === false)\n      return _invalid(messages.invalid);\n  } else {\n    if (state.acceptedCards.indexOf(state.cardType) === -1)\n      return _invalid(messages.acceptedCard());\n    return _invalid(messages.invalid);\n  }\n\n  var valid =  _valid();\n  if (valid && state.cardNumber !== cardNumber && cardElement)\n    cardElement.value = state.cardNumber;\n  return valid;\n}\n\nfunction validateExp(userM, userY) {\n  var monthRegexp = /^(0[1-9]|1[012])$/;\n  var yearRegexp = /^(20)[0-9][0-9]$/;\n  var d = new Date();\n  var month = d.getMonth() + 1; // normalize, Date#getMonth is 0 indexed\n  var year = d.getFullYear();\n\n  if (userM.length === 0 || userY.length === 0)\n    return _invalid(messages.invalidExpiration);\n\n  var invalidDigits = !userM.match(monthRegexp) || !userY.match(yearRegexp);\n  userM = parseInt(userM, 10);\n  userY = parseInt(userY, 10);\n  var yearNotInRange = (userY > year + 20) || (userY < year);\n  var beforeCurrentMonth = (userY === year && userM < month);\n  if (invalidDigits || yearNotInRange || beforeCurrentMonth)\n    return _invalid(messages.invalidExpiration);\n\n  return _valid();\n}\n\nfunction validateCVV(CVV) {\n  // 3 or 4 digits\n  var CVVRegex = /^[0-9]{3,4}$/;\n  if (CVV.length === 0)\n    return _invalid(messages.invalidCvv);\n\n  if (!CVV.match(CVVRegex))\n    return _invalid(messages.invalidCvv);\n\n  return _valid();\n}\n\nmodule.exports = {\n  validateCard: validateCard,\n  validateExp: validateExp,\n  validateCVV: validateCVV,\n  cardData: cardData\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/layouts/cc-validator/validation.js\n ** module id = 64\n ** module chunks = 0\n **/","/**\n* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n* in compliance with the License. You may obtain a copy of the License at\n*\n* http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software distributed under the License\n* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n* or implied. See the License for the specific language governing permissions and limitations under\n* the License.\n*/\n\nvar events = require('../../events');\nvar subscribe = events.subscribe;\nvar publish = events.publish;\nvar activeClassName = 'IBMChat-accent-colors';\nvar inactiveClassName = 'IBMChat-accent-colors-button';\nvar utils = require('../../utils');\n\nvar ns = 'IBMChat-islocationapi';\nvar chooseLocationTypes = [];\n\nvar chooseLocationTypeLayout = {\n  init: function() {\n    subscribe('layout:choose-location-type', function(data) {\n      var chooseLocationType = new ChooseLocationType(data);\n      chooseLocationTypes[data.uuid] = chooseLocationType;\n    });\n  }\n};\n\nvar values = {\n  postalcode: 'zipcode',\n  geolocation: 'latlong'\n};\n\nvar templates = {\n  base: require('./templates/base.html')\n};\n\nfunction ChooseLocationType(data) {\n  this.init(data);\n}\n\nChooseLocationType.prototype = {\n  init: function(data) {\n    this.data = data.data;\n    this.uuid = data.uuid;\n    if ('navigator' in window && 'geolocation' in navigator) {\n      this.eventListeners = [];\n      this.parentElement = data.element;\n      this.layoutElement = data.layoutElement;\n      this.el = document.createElement('div');\n      this.el.innerHTML = utils.compile(templates.base, {\n        ns: ns,\n        'values.geolocation': values.geolocation,\n        'values.postalcode': values.postalcode\n      });\n      this.layoutElement.appendChild(this.el);\n      this.buttons = this.layoutElement.querySelectorAll('button');\n      this.buttons[0].focus();\n      for (var i = 0; i < this.buttons.length; i++) {\n        this.buttons[i].dataset.uuid = this.uuid;\n        this.buttons[i].addEventListener('click', this.handleClick);\n        this.eventListeners.push(this.buttons[i]);\n      }\n      if (this.eventListeners.length > 0)\n        this.subscribeSend = subscribe('send', this.removeAllEventListeners.bind(this));\n    } else {\n      publish('send', {\n        text: values.postalcode,\n        silent: true\n      });\n    }\n  },\n  handleClick: function() {\n    var data = {\n      silent: true,\n      text: null\n    };\n    data.text = this.dataset.input;\n    this.classList.add(activeClassName);\n    this.classList.remove(inactiveClassName);\n    publish('send', data);\n    publish('focus-input');\n  },\n  removeAllEventListeners: function() {\n    if (this.eventListeners.length > 0) {\n      for (var i = 0; i < this.eventListeners.length; i++) {\n        this.eventListeners[i].removeEventListener('click', this.handleClick);\n        this.eventListeners[i].setAttribute('disabled', true);\n      }\n      this.eventListeners = [];\n    }\n    this.subscribeSend.remove();\n  }\n};\n\nmodule.exports = chooseLocationTypeLayout;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/layouts/choose-location-type/index.js\n ** module id = 65\n ** module chunks = 0\n **/","/**\n* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n* in compliance with the License. You may obtain a copy of the License at\n*\n* http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software distributed under the License\n* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n* or implied. See the License for the specific language governing permissions and limitations under\n* the License.\n*/\n\nvar events = require('../../events');\nvar subscribe = events.subscribe;\nvar publish = events.publish;\nvar utils = require('../../utils');\nvar ns = 'IBMChat-choose';\nvar activeClassName = 'IBMChat-accent-colors';\nvar inactiveClassName = 'IBMChat-accent-colors-button';\nvar widgets = [];\nvar templates = {\n  button: require('./templates/button.html'),\n  submit: require('./templates/submit.html')\n};\n\nvar chooseLayout = {\n  init: function() {\n    subscribe('layout:choose', function(data) {\n      var widget = new Choose(data);\n      widgets[data.uuid] = widget;\n    });\n    subscribe('layout:confirm', function(data) {\n      var widget = new Choose(data);\n      widgets[data.uuid] = widget;\n    });\n  }\n};\n\nfunction Choose(data) {\n  this.init(data);\n}\n\nChoose.prototype.init = function(data) {\n  this.allowMultiple = (data.message.inputvalidation.someOf !== undefined);\n  this.values = [];\n  this.data = (this.allowMultiple) ? data.message.inputvalidation.someOf : data.message.inputvalidation.oneOf;\n  this.uuid = data.uuid;\n  this.parentElement = data.element;\n  this.layoutElement = data.layoutElement;\n  this.msgElement = data.msgElement;\n  this.drawButtons();\n  this.subscribeSend = subscribe('send', this.removeAllEventListeners.bind(this));\n};\n\nChoose.prototype.eventListeners = [];\n\nChoose.prototype.drawButtons = function() {\n  var tmpl = templates.button;\n  this.el = document.createElement('div');\n  this.el.classList.add(ns + '-container');\n\n  for (var i = 0; i < this.data.length; i++) {\n    var text = this.data[i];\n    var buttonHolder = document.createElement('div');\n    buttonHolder.classList.add(ns + '-option');\n    var parsed = utils.compile(tmpl, {\n      text: text\n    });\n    var button;\n    buttonHolder.innerHTML = parsed;\n    this.el.appendChild(buttonHolder);\n    button = buttonHolder.querySelector('button');\n    button.setAttribute('data-uuid', this.uuid);\n    button.classList.add(inactiveClassName);\n    this.addListener(button);\n  }\n\n  if (this.allowMultiple) {\n    var submit = document.createElement('div');\n    var submitBtn = utils.compile(templates.submit, {\n      text: 'Submit'\n    });\n    submit.classList.add(ns + '-submit');\n    submit.innerHTML = submitBtn;\n    this.submitButton = submit.querySelector('button');\n    this.submitButton.classList.add(activeClassName);\n    this.submitButton.setAttribute('disabled', true);\n    this.el.appendChild(submit);\n    this.addSubmitListener(this.submitButton);\n  }\n\n  this.layoutElement.appendChild(this.el);\n  this.layoutElement.querySelectorAll('button')[0].focus();\n};\n\nChoose.prototype.handleClick = function() {\n  var data = {\n    silent: true,\n    text: null\n  };\n  data.text = this.dataset.input;\n  this.classList.add(activeClassName);\n  this.classList.add('IBMChat-accent-colors');\n  publish('send', data);\n};\n\nChoose.prototype.handleMultiClick = function() {\n  var buttons;\n  var instance = widgets[this.dataset.uuid];\n  if (utils.hasClass(this, activeClassName)) {\n    this.classList.add(inactiveClassName);\n    this.classList.remove(activeClassName);\n  } else {\n    this.classList.add(activeClassName);\n    this.classList.remove(inactiveClassName);\n  }\n  buttons = instance.el.querySelectorAll('.' + ns + '-option .' + activeClassName);\n  if (buttons.length > 0)\n    instance.submitButton.removeAttribute('disabled');\n  else\n    instance.submitButton.setAttribute('disabled', true);\n};\n\nChoose.prototype.handleSubmit = function() {\n  var buttons = this.el.querySelectorAll('.' + activeClassName);\n  for (var i = 0; i < buttons.length; i++)\n    this.values.push(buttons[i].dataset.input);\n  publish('send', {\n    silent: true,\n    text: this.values.toString().slice(0, -1)\n  });\n};\n\nChoose.prototype.addListener = function(el) {\n  if (this.allowMultiple)\n    el.addEventListener('click', this.handleMultiClick);\n  else\n    el.addEventListener('click', this.handleClick);\n  this.eventListeners.push({ el: el, cb: (this.allowMultiple) ? this.handleMultiClick: this.handleClick });\n};\n\nChoose.prototype.addSubmitListener = function(el) {\n  el.addEventListener('click', this.handleSubmit.bind(this));\n  this.eventListeners.push({ el: el, cb: this.handleSubmit.bind(this) });\n};\n\nChoose.prototype.removeAllEventListeners = function() {\n  if (this.eventListeners.length > 0) {\n    for (var i = 0; i < this.eventListeners.length; i++) {\n      this.eventListeners[i].el.removeEventListener('click', this.eventListeners[i].cb);\n      this.eventListeners[i].el.setAttribute('disabled', true);\n    }\n    this.eventListeners = [];\n    this.subscribeSend.remove();\n  }\n};\n\nmodule.exports = chooseLayout;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/layouts/choose/index.js\n ** module id = 66\n ** module chunks = 0\n **/","/**\n* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n* in compliance with the License. You may obtain a copy of the License at\n*\n* http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software distributed under the License\n* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n* or implied. See the License for the specific language governing permissions and limitations under\n* the License.\n*/\n\nvar events = require('../../events');\nvar errors = [];\nvar ns = 'IBMChat-error';\n\nvar errorLayout = {\n  init: function() {\n    events.subscribe('layout:error', function(data) {\n      var error = new Error(data);\n      errors[data.uuid] = error;\n    });\n  }\n};\n\nvar templates = {\n  base: require('./templates/base.html')\n};\n\nfunction Error(data) {\n  this.init(data);\n}\n\nError.prototype.init = function(data) {\n  this.message = data.message.layout.message;\n  this.uuid = data.uuid;\n  this.parentElement = data.element;\n  this.layoutElement = data.layoutElement;\n  this.layoutElement.innerHTML = templates.base;\n  this.layoutElement.querySelector('.' + ns).textContent = this.message;\n};\n\n\nmodule.exports = errorLayout;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/layouts/error/index.js\n ** module id = 67\n ** module chunks = 0\n **/","/**\n* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n* in compliance with the License. You may obtain a copy of the License at\n*\n* http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software distributed under the License\n* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n* or implied. See the License for the specific language governing permissions and limitations under\n* the License.\n*/\n\nvar events = require('../../events');\nvar profile = require('../../profile');\nvar utils = require('../../utils');\nvar subscribe = events.subscribe;\nvar publish = events.publish;\nvar ns = 'IBMChat-form';\nvar activeClassName = 'IBMChat-accent-colors';\nvar inactiveClassName = 'IBMChat-accent-colors-button';\nvar templates = {\n  base: require('./templates/base.html'),\n  field: require('./templates/field.html')\n};\nvar widgets = [];\n\nvar formLayout = {\n  init: function() {\n    subscribe('layout:form', function(data) {\n      var widget = new Form(data);\n      widgets[data.uuid] = widget;\n    });\n  }\n};\n\nfunction Form(data) {\n  this.init(data);\n}\n\nForm.prototype.init = function(data) {\n  this.data = data.message.store || [];\n  this.action = data.message.action || '';\n  this.label = data.message.layout.label || {};\n  this.uuid = data.uuid;\n  this.parentElement = data.element;\n  this.layoutElement = data.layoutElement;\n  this.msgElement = data.msgElement;\n  this.drawForm();\n  this.subscribeSend = subscribe('send', this.removeEventListeners.bind(this));\n  publish('disable-input');\n};\n\nForm.prototype.drawForm = function() {\n  var base = document.createElement('div');\n  var formFields;\n  base.innerHTML = utils.compile(templates.base, {\n    submit: this.label.submit || 'Submit',\n    cancel: this.label.cancel || 'Cancel'\n  });\n  formFields = base.querySelector('.IBMChat-form-fields');\n  this.data.forEach(function(datum, index) {\n    var field = document.createElement('div');\n    field.innerHTML = utils.compile(templates.field, {\n      label: datum.label || '',\n      name: datum.name,\n      uuid: utils.getUUID(),\n      type: datum.type || 'text',\n      index: index,\n      value: ''\n    });\n    field.className = ns + '-fields-row';\n    formFields.appendChild(field);\n  });\n  this.fields = formFields.querySelectorAll('input');\n  this.submitButton = base.querySelector('.' + ns + '-submit');\n  this.cancelButton = base.querySelector('.' + ns + '-cancel');\n  this.submitButton.classList.add(inactiveClassName);\n  this.cancelButton.classList.add(inactiveClassName);\n  this.layoutElement.appendChild(base);\n  this.fields[0].focus();\n  this.addEventListeners();\n};\n\nForm.prototype.handleSubmit = function() {\n  if (this.validateFields() === true) {\n    for (var i = 0; i < this.fields.length; i++)\n      profile.set(this.fields[i].getAttribute('name'), this.fields[i].value || new String(''));\n    this.submitButton.classList.remove(inactiveClassName);\n    this.submitButton.classList.add(activeClassName);\n    publish('send', {\n      silent: true,\n      text: 'success'\n    });\n    publish('enable-input');\n  } else {\n    this.setFocusOnError();\n  }\n};\n\nForm.prototype.setFocusOnError = function() {\n  for (var j = 0; j < this.fields.length; j++) {\n    var name = this.fields[j].getAttribute('name');\n    var el = this.layoutElement.querySelector('[data-validation-for=\"' + name + '\"]');\n    if (el.dataset.valid === \"false\") {\n      this.fields[j].focus();\n      break;\n    }\n  }\n};\n\nForm.prototype.validateFields = function() {\n  var allFieldsAreValid = true;\n  for (var i = 0; i < this.data.length; i++) {\n    var fieldIsValid = this.validateField(this.fields[i], this.data[i]);\n    allFieldsAreValid = allFieldsAreValid && fieldIsValid;\n  }\n  return allFieldsAreValid;\n};\n\nForm.prototype.validateField = function(field, datum) {\n  var valid = true;\n  if ((!field.value || field.value.trim().length === 0) && datum.required == 'true') {\n    this.addError(field.getAttribute('name'), 'This field is required.');\n    valid = false;\n  }\n  if (valid === true && datum.validations && datum.validations.length !== 0) {\n    for (var i = 0; i < datum.validations.length; i++) {\n      // regexes received from backend should always include\n      // start/end of line anchors (^, $)\n      var validation = datum.validations[i];\n      var validationRegex = validation.regex;\n      var regex = new RegExp(validationRegex);\n      var matches = regex.test(field.value);\n      if (!matches) {\n        this.addError(field.getAttribute('name'), validation.message);\n        valid = false;\n        break;\n      }\n    }\n  }\n  return valid;\n};\n\nForm.prototype.addError = function(name, msg) {\n  var field = this.layoutElement.querySelector('[name=\"' + name + '\"]');\n  field.dataset.valid = false;\n  var errorEl = this.layoutElement.querySelector('[data-validation-for=\"' + name + '\"]');\n  field.setAttribute('aria-invalid', true);\n  errorEl.dataset.valid = false;\n  errorEl.textContent = msg;\n  errorEl.style.display = 'block';\n};\n\nForm.prototype.removeError = function(name) {\n  var field = this.layoutElement.querySelector('[name=\"' + name + '\"]');\n  field.dataset.valid = true;\n  var errorEl = this.layoutElement.querySelector('[data-validation-for=\"' + name + '\"]');\n  field.removeAttribute('aria-invalid');\n  errorEl.dataset.valid = true;\n  errorEl.textContent = '';\n  errorEl.style.display = 'none';\n};\n\nForm.prototype.removeAllErrors = function() {\n  var els = this.layoutElement.querySelectorAll('[data-validation-for]');\n  for (var i = 0; i < els.length; i++)\n    this.removeError(els[i].attr('data-validation-for'));\n};\n\nForm.prototype.handleKeyup = function(e) {\n  var index = e.target.dataset.index;\n  if (e.keyCode === 13) {\n    e.preventDefault();\n    this.handleSubmit();\n  } else if (e.target.dataset.valid === 'false') {\n    var valid = this.validateField(this.fields[index], this.data[index]);\n    if (valid)\n      this.removeError(e.target.getAttribute('name'));\n  }\n};\n\nForm.prototype.handleCancel = function() {\n  this.cancelButton.classList.remove(inactiveClassName);\n  this.cancelButton.classList.add(activeClassName);\n  publish('enable-input');\n  publish('send', {\n    silent: true,\n    text: 'cancel'\n  });\n};\n\nForm.prototype.addEventListeners = function() {\n  this.cancelButton.addEventListener('click', this.handleCancel.bind(this));\n  this.submitButton.addEventListener('click', this.handleSubmit.bind(this));\n  for (var i = 0; i < this.fields.length; i++) {\n    var field = this.fields[i];\n    field.addEventListener('keyup', this.handleKeyup.bind(this));\n  }\n};\n\nForm.prototype.removeEventListeners = function() {\n  this.cancelButton.removeEventListener('click', this.handleCancel.bind(this));\n  this.cancelButton.setAttribute('disabled', true);\n  this.submitButton.removeEventListener('click', this.handleSubmit.bind(this));\n  this.submitButton.setAttribute('disabled', true);\n  for (var i = 0; i < this.fields.length; i++) {\n    var field = this.fields[i];\n    field.removeEventListener('keyup', this.handleKeyup.bind(this));\n    field.setAttribute('disabled', true);\n  }\n\n  this.subscribeSend.remove();\n};\n\nmodule.exports = formLayout;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/layouts/form/index.js\n ** module id = 68\n ** module chunks = 0\n **/","/**\n* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n* in compliance with the License. You may obtain a copy of the License at\n*\n* http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software distributed under the License\n* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n* or implied. See the License for the specific language governing permissions and limitations under\n* the License.\n*/\n\nvar showLocationsLayout = require('./show-locations');\nvar requestGeolocationLatlongLayout = require('./request-geolocation-latlong');\nvar requestGeolocationZipcodeLayout = require('./request-geolocation-zipcode');\nvar chooseLocationTypeLayout = require('./choose-location-type');\nvar chooseLayout = require('./choose');\nvar formLayout = require('./form');\nvar creditCardLayout = require('./cc-validator');\nvar errorLayout = require('./error');\n\nmodule.exports = {\n  showLocations: showLocationsLayout,\n  requestGeolocationLatlong: requestGeolocationLatlongLayout,\n  requestGeolocationZipcode: requestGeolocationZipcodeLayout,\n  chooseLocationType: chooseLocationTypeLayout,\n  choose: chooseLayout,\n  creditCard: creditCardLayout,\n  form: formLayout,\n  error: errorLayout\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/layouts/index.js\n ** module id = 69\n ** module chunks = 0\n **/","/**\n* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n* in compliance with the License. You may obtain a copy of the License at\n*\n* http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software distributed under the License\n* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n* or implied. See the License for the specific language governing permissions and limitations under\n* the License.\n*/\n\nvar events = require('../../events');\nvar subscribe = events.subscribe;\nvar publish = events.publish;\n\nvar requestGeolocationLatlongs = [];\n\nvar LOCATION_TIMEOUT = 30 * 1000;\n\nvar requestGeolocationLatlongLayout = {\n  init: function() {\n    subscribe('layout:request-geolocation-latlong', function(data) {\n      var requestGeolocationLatlong = new RequestGeolocationLatlong(data);\n      requestGeolocationLatlongs[data.uuid] = requestGeolocationLatlong;\n    });\n  }\n};\n\nfunction RequestGeolocationLatlong(data) {\n  this.init(data);\n}\n\nRequestGeolocationLatlong.prototype = {\n  init: function(data) {\n    this.data = data.data;\n    this.uuid = data.uuid;\n    this.parentElement = data.element;\n    this.layoutElement = data.layoutElement;\n    this.msgElement = data.msgElement;\n    this.timedOut = false;\n    this.timeoutCheck = setTimeout(function() {\n      this.timedOut = true;\n      this.handleLocationNotShared();\n    }.bind(this), LOCATION_TIMEOUT);\n    publish('enable-loading');\n    publish('disable-input');\n    try {\n      navigator.permissions.query({ name: 'geolocation' }).then(function(result) {\n        if (result.state === 'prompt') {\n          data.msgElement.textContent = 'Please share your current location.';\n          publish('enable-loading', 'Your browser is asking you to share your location...');\n        } else if (result.state === 'granted') {\n          data.msgElement.textContent = 'You have allowed your browser to share your current location.';\n          publish('enable-loading', 'Looking up your current location...');\n        } else if (result.state === 'denied') {\n          data.msgElement.textContent = 'You have denied sharing your location on this website.';\n        }\n      });\n    } catch (e) {\n      console.log('navigator.permissions not supported.');\n    }\n    navigator.geolocation.getCurrentPosition(\n      function(position) {\n        if (this.timedOut) return false;\n        clearTimeout(this.timeoutCheck);\n        this.handleLocationShared(position);\n      }.bind(this),\n      function() {\n        if (this.timedOut) return false;\n        clearTimeout(this.timeoutCheck);\n        this.handleLocationNotShared();\n      }.bind(this)\n    );\n  },\n  handleLocationShared: function(position) {\n    publish('enable-input');\n    publish('disable-loading');\n    publish('send', {\n      text: position.coords.latitude + ',' + position.coords.longitude,\n      silent: true\n    });\n  },\n  handleLocationNotShared: function() {\n    var string = 'Please enable location sharing or continue with your Zip Code.';\n    publish('enable-input');\n    publish('disable-loading');\n    publish('receive', string);\n    publish('send', {\n      text: 'find nearest locations',\n      silent: true\n    });\n  }\n};\n\nmodule.exports = requestGeolocationLatlongLayout;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/layouts/request-geolocation-latlong/index.js\n ** module id = 70\n ** module chunks = 0\n **/","/**\n* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n* in compliance with the License. You may obtain a copy of the License at\n*\n* http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software distributed under the License\n* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n* or implied. See the License for the specific language governing permissions and limitations under\n* the License.\n*/\n\nvar events = require('../../events');\nvar subscribe = events.subscribe;\nvar requestGeolocationZipcodeLayout = {\n  init: function() {\n    subscribe('layout:request-geolocation-zipcode', function() {});\n  }\n};\n\nmodule.exports = requestGeolocationZipcodeLayout;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/layouts/request-geolocation-zipcode/index.js\n ** module id = 71\n ** module chunks = 0\n **/","/**\n* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n* in compliance with the License. You may obtain a copy of the License at\n*\n* http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software distributed under the License\n* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n* or implied. See the License for the specific language governing permissions and limitations under\n* the License.\n*/\n\nvar events = require('../../events');\nvar subscribe = events.subscribe;\nvar publish = events.publish;\nvar state = require('../../state');\nvar utils = require('../../utils');\nvar styles = require('../../styles');\n\nvar first = true;\nvar displayLength = 3;\nvar breakpointWidths = ['768', '640', '512', '480', '360'];\nvar days = ['Su', 'M', 'Tu', 'W', 'Th', 'F', 'Sa'];\nvar showLocations = {};\nvar locationIDs = [];\nvar currentBreakpointKey = 0;\nvar pixelRatio = window.devicePixelRatio || 1;\nvar ns = 'IBMChat-map';\n\nvar templates = {\n  base: require('./templates/base.html'),\n  createDomArray: require('./templates/create-dom-array.html'),\n  addLocationsItem: require('./templates/add-locations-item.html'),\n  addLocationItem: require('./templates/add-location-item.html'),\n  hoursClosed: require('./templates/hours-closed.html'),\n  hoursOpen: require('./templates/hours-open.html'),\n  hoursUnknown: require('./templates/hours-unknown.html'),\n  hoursTodayOpen: require('./templates/hours-today-open.html'),\n  hoursTodayClosed: require('./templates/hours-today-closed.html'),\n  hoursTodayUnknown: require('./templates/hours-today-unknown.html'),\n  hoursTimezone: require('./templates/hours-timezone.html')\n};\n\nvar strings = {\n  locations: {\n    none: 'We could not find any locations close to you.',\n    single: 'Here are the details for this location:',\n    list: 'Here are the locations I found close to you:'\n  }\n};\n\nvar showLocationsLayout = {\n  init: function() {\n    subscribe('layout:show-locations', function(data) {\n      var showLocation = new ShowLocations(data);\n      if (locationIDs.length === 0)\n        subscribe('resize', sizeMap);\n      locationIDs.push(data.uuid);\n      showLocations[data.uuid] = showLocation;\n    });\n  }\n};\n\nvar alphaMap = ['A', 'B', 'C', 'D', 'E', 'F', 'G'];\n\nfunction initialSize(width) {\n  for (var i = 0; i < breakpointWidths.length; i++) {\n    if ((i === breakpointWidths.length - 1) || breakpointWidths[i] >= width) {\n      currentBreakpointKey = i;\n      return;\n    }\n  }\n}\n\nfunction getWidth() {\n  var current = state.get();\n  return current.chatHolder.querySelector('div:first-child').clientWidth;\n}\n\nfunction sameSize() {\n  return (breakpointWidths[currentBreakpointKey] >= getWidth());\n}\n\nfunction sizeMap() {\n  if (locationIDs.length > 0 && !sameSize()) {\n    var width = getWidth();\n    for (var i = 0; i < breakpointWidths.length; i++) {\n      if ((i === breakpointWidths.length - 1) || (i === 0 && width >= breakpointWidths[i])) {\n        currentBreakpointKey = i;\n        for (var j = 0; j < locationIDs.length; j++) {\n          if (showLocations[locationIDs[j]].data.length > 0)\n            showLocations[locationIDs[j]].reDrawMap();\n        }\n        return;\n      }\n    }\n  }\n}\n\nfunction createEmails(el, item) {\n  var linkEl = document.createElement('a');\n  linkEl.setAttribute('href', 'mailto:' + item.email);\n  linkEl.setAttribute('target', '_blank');\n  linkEl.textContent = item.email;\n  if (item.phones && item.phones.length > 0) {\n    var itemChild = document.createElement('div');\n    var text = templates.createDomArray;\n    itemChild.className = ns + '-contact-row';\n    itemChild.innerHTML = utils.compile(text, {\n      ns: ns\n    });\n    var typeEl = itemChild.querySelector('.' + ns + '-contact-type');\n    var dataEl = itemChild.querySelector('.' + ns + '-contact-data');\n    typeEl.textContent = 'Email';\n    dataEl.appendChild(linkEl);\n    el.appendChild(itemChild);\n  } else {\n    el.appendChild(linkEl);\n  }\n}\n\nfunction createPhoneArray(el, items) {\n  if (items) {\n    for (var i = 0; i < items.length; i++) {\n      var itemChild = document.createElement('div');\n      var text = templates.createDomArray;\n      itemChild.className = ns + '-contact-row';\n      itemChild.innerHTML = utils.compile(text, {\n        ns: ns\n      });\n      var typeEl = itemChild.querySelector('.' + ns + '-contact-type');\n      var dataEl = itemChild.querySelector('.' + ns + '-contact-data');\n      typeEl.textContent = items[i].type;\n      dataEl.textContent = items[i].number;\n      el.appendChild(itemChild);\n    }\n  }\n}\n\nfunction formatAMPM(time) {\n  try {\n    var split = time.split(':');\n    var hours = split[0];\n    var minutes = split[1];\n    var ampm = hours >= 12 ? 'pm' : 'am';\n    hours = hours % 12;\n    hours = hours ? hours : 12;\n    return hours + ':' + minutes + ' ' + ampm;\n  }\n  catch (e) {\n    return false;\n  }\n}\n\nfunction createHours(hoursEl, moreHoursEl, hours, timezone, timezoneEl) {\n  if (hours) {\n    if (hours.length < 7) {\n      for (var o = hours.length; o < 7; o++) {\n        hours.push({\n          isOpen: false\n        });\n      }\n    }\n    // hours\n    var today = new Date().getDay();\n    var todaysHours = hours[today];\n    var el = document.createElement('div');\n    if (todaysHours && todaysHours.isOpen) {\n      var open = formatAMPM(todaysHours.open);\n      var close = formatAMPM(todaysHours.close);\n      if (open && close) {\n        el.innerHTML = utils.compile(templates.hoursTodayOpen, {\n          ns: ns,\n          open: open,\n          close: close\n        });\n      } else {\n        el.innerHTML = utils.compile(templates.hoursTodayUnknown, {\n          ns: ns\n        });\n      }\n    } else {\n      el.innerHTML = utils.compile(templates.hoursTodayClosed, {\n        ns: ns\n      });\n    }\n    utils.appendToEach(hoursEl, el);\n    // timezone\n    if (timezone) {\n      var tzChildEl = document.createElement('div');\n      tzChildEl.innerHTML = utils.compile(templates.hoursTimezone, {\n        ns: ns,\n        timezone: timezone\n      });\n      utils.appendToEach(timezoneEl, tzChildEl);\n    } else {\n      for (var j = 0; j < timezoneEl.length; j++)\n        timezoneEl[j].parentNode.removeChild(timezoneEl[j]);\n    }\n    // more hours\n    var compressedHours = [];\n    var current = {};\n    for (var n = 0; n < hours.length; n++) {\n      var bothClosed, sameHours;\n      var day = days[n];\n      var last = (compressedHours.length > 0) ? compressedHours[compressedHours.length - 1] : false;\n      current = hours[n] || { isOpen: false };\n      bothClosed = last && (last.isOpen === current.isOpen && current.isOpen === false);\n      sameHours = last && (last.open === current.open && last.close === current.close && last.isOpen === current.isOpen);\n      if (compressedHours.length > 0 && last && (bothClosed || sameHours)) {\n        last.endDay = day;\n      } else {\n        compressedHours.push({\n          startDay: day,\n          endDay: day,\n          isOpen: current.isOpen,\n          open: current.open,\n          close: current.close\n        });\n      }\n    }\n    for (var i = 0; i < compressedHours.length; i++) {\n      var childEl = document.createElement('span');\n      childEl.setAttribute('class', ns + '-days-hours');\n      current = compressedHours[i];\n      if (current && current.isOpen) {\n        var openDay = formatAMPM(current.open);\n        var closeDay = formatAMPM(current.close);\n        var currentDay = (current.startDay === current.endDay) ? current.startDay : current.startDay + '&ndash;' + current.endDay;\n        if (openDay && closeDay) {\n          childEl.innerHTML = utils.compile(templates.hoursOpen, {\n            ns: ns,\n            day: currentDay,\n            open: openDay,\n            close: closeDay\n          });\n        } else {\n          childEl.innerHTML = utils.compile(templates.hoursUnknown, {\n            ns: ns,\n            day: currentDay\n          });\n        }\n      } else {\n        childEl.innerHTML = utils.compile(templates.hoursClosed, {\n          ns: ns,\n          day: (current.startDay === current.endDay) ? current.startDay : current.startDay + '&ndash;' + current.endDay\n        });\n      }\n      if (i < (compressedHours.length - 1))\n        childEl.querySelector('.' + ns + '-days-hours-hours').innerHTML += '<br />';\n      utils.appendToEach(moreHoursEl, childEl);\n    }\n  }\n}\n\nfunction distance(item) {\n  if (!item.distance)\n    return;\n  var distanceLength = (item.distance.toFixed(1) === 0.0) ? 0.1 : item.distance.toFixed(1);\n  var distanceLengthMeasure = (item.distanceMeasure === 'miles') ? 'm' : 'km';\n  return distanceLength + distanceLengthMeasure;\n}\n\nfunction ShowLocations(data) {\n  this.init(data);\n}\n\nShowLocations.prototype.init = function(data) {\n  this.data = (data.message.data !== undefined && data.message.data.location_data !== undefined) ? data.message.data.location_data : [];\n  if (this.data.length > 1) {\n    state.set({\n      location_data: this.data\n    });\n  }\n  this.eventListeners = [];\n  this.parentElement = data.element;\n  this.layoutElement = data.layoutElement;\n  this.msgElement = data.msgElement;\n  switch (this.data.length) {\n  case 0:\n    this.msgElement.textContent = strings.locations.none;\n    break;\n  case 1:\n    this.msgElement.textContent = strings.locations.single;\n    break;\n  default:\n    this.msgElement.textContent = strings.locations.list;\n  }\n\n  if (this.data.length > 0) {\n    var text = templates.base;\n    this.uuid = data.uuid;\n    if (first) {\n      initialSize(getWidth());\n      first = false;\n    }\n    this.map = document.createElement('div');\n    this.map.innerHTML = utils.compile(text, { ns: ns });\n    this.mapElement = this.map.querySelector('.' + ns + '-img');\n    this.dataElement = this.map.querySelector('.' + ns + '-data');\n    if (this.data.length > 1)\n      this.mapElement.appendChild(this.drawLocations());\n    this.dataElement.appendChild(this.addDetails());\n    this.layoutElement.appendChild(this.map);\n    if (this.data.length > 1)\n      this.layoutElement.querySelectorAll('.' + ns + '-locations-item')[0].focus();\n  }\n  this.subscribeReceive = subscribe('receive', this.removeAllEventListeners, this);\n};\n\nShowLocations.prototype.reDrawMap = function() {\n  this.mapElement.innerHTML = '';\n  if (this.data.length > 1)\n    this.mapElement.appendChild(this.drawLocations());\n};\n\nShowLocations.prototype.addDetails = function() {\n  if (this.data.length > 1)\n    return this.addLocations();\n  else\n    return this.addLocation();\n};\n\nShowLocations.prototype.convertColor = function(color) {\n  return styles.normalizeToHex(color).replace('#', '');\n};\n\nShowLocations.prototype.drawLocations = function() {\n  var current = state.get();\n  var img = document.createElement('img');\n  var width = getWidth();\n  var config = {\n    size: (width - 8) + 'x120',\n    scale: pixelRatio\n  };\n  if (this.data.length === 1)\n    config.zoom = 12;\n  this.uri = current.mapsServer + '?';\n  this.uri += utils.serialize(config);\n  this.uri += '&locations=';\n  var locations = '';\n  for (var i = 0; (i < displayLength && i < this.data.length); i++) {\n    var item = this.data[i];\n    locations += (i === 0 ) ? item.address.lat + ',' + item.address.lng : '+' + item.address.lat + ',' + item.address.lng;\n  }\n  this.uri += encodeURIComponent(locations);\n  this.uri += '&color=' + encodeURIComponent(this.convertColor(current.styles.accentBackground));\n  img.setAttribute('src', this.uri);\n  return img;\n};\n\nShowLocations.prototype.handleClick = function() {\n  this.className = ns + '-location-active';\n  publish('receive', {\n    message: {\n      text: [utils.compile(strings.locations.single, { location: showLocations[this.dataset.uuid].data[this.dataset.id - 1].address.address }), 'Is there anything else I can help you with?'],\n      layout: {\n        name: 'show-locations',\n        index: 0\n      },\n      data: {\n        location_data: [showLocations[this.dataset.uuid].data[this.dataset.id - 1]]\n      }\n    }\n  });\n};\n\nShowLocations.prototype.removeAllEventListeners = function() {\n  var layout = document.querySelector('.' + this.uuid + ' .IBMChat-watson-layout');\n  layout.classList.add('IBMChat-disabled-layout');\n  var inputs = layout.querySelectorAll('input, button');\n  for (var i = 0; i < inputs.length; i++)\n    inputs[i].setAttribute('disabled', true);\n  for (var x = 0; x < this.eventListeners.length; x++)\n    this.eventListeners[x].removeEventListener('click', this.handleClick);\n  if (this.hoursFunction)\n    this.hoursButton.removeEventListener('click', this.hoursFunction);\n  if (this.locationsFunction)\n    this.locationsButton.removeEventListener('click', this.locationsFunction);\n  this.eventListeners = [];\n  this.subscribeReceive.remove();\n};\n\nShowLocations.prototype.addLocation = function() {\n  var container = document.createElement('div');\n  var el = document.createElement('div');\n  var locationData = state.get().location_data;\n  var item = this.data[0];\n  var createDom = function(el) {\n    var text = templates.addLocationItem;\n    el.innerHTML = utils.compile(text, { ns: ns });\n    return {\n      link: el.querySelector('.' + ns + '-locations-item-data-address-link'),\n      label: el.querySelector('.' + ns + '-locations-item-data-title'),\n      address: el.querySelector('.' + ns + '-locations-item-data-address'),\n      phone: el.querySelector('.' + ns + '-locations-item-data-phone'),\n      email: el.querySelector('.' + ns + '-locations-item-data-email'),\n      hours: el.querySelectorAll('.' + ns + '-locations-item-data-hours'),\n      timezone: el.querySelectorAll('.' + ns + '-locations-item-data-timezone'),\n      moreHours: el.querySelectorAll('.' + ns + '-locations-item-data-more-hours'),\n      distance: el.querySelector('.' + ns + '-locations-item-distance'),\n      backHolder: el.querySelector('.' + ns + '-locations-all-holder'),\n      back: el.querySelector('.' + ns + '-locations-all'),\n      parentEl: el.querySelector('.' + ns + '-locations-item')\n    };\n  };\n\n  var dom = createDom(el);\n\n  // name\n  if (item.label)\n    dom.label.textContent = item.label;\n  else\n    dom.parentEl.removeChild(dom.label);\n\n  // addresses\n  dom.address.textContent = item.address.address;\n  dom.link.setAttribute('href', 'https://maps.google.com/?q=' + encodeURIComponent(item.address.address));\n  dom.link.setAttribute('target', '_blank');\n  dom.distance.textContent = distance(item) || '';\n\n  // email\n  if (item.email)\n    createEmails(dom.email, item);\n  else\n    dom.email.parentNode.removeChild(dom.email);\n\n  // phones\n  if (item.phones && item.phones.length > 0 && item.hasPhones !== false)\n    createPhoneArray(dom.phone, item.phones);\n  else\n    dom.phone.parentNode.removeChild(dom.phone);\n\n  // hours/timezone\n  if (item.days && item.hasDays !== false) {\n    createHours(dom.hours, dom.moreHours, item.days, item.address.timezone, dom.timezone);\n  } else {\n    for (var i = 0; i < dom.hours; i++)\n      dom.hours[i].parentNode.removeChild(dom.hours[i]);\n    for (var j = 0; j < dom.timezone; j++)\n      dom.timezone[j].parentNode.removeChild(dom.timezone[j]);\n    for (var n = 0; n < dom.moreHours; i++)\n      dom.moreHours[n].parentNode.removeChild(dom.moreHours[n]);\n  }\n\n  if (locationData && locationData.length > 1) {\n    this.locationsButton = dom.back;\n    this.locationsFunction = function(e) {\n      e.preventDefault();\n      publish('receive', {\n        message: {\n          text: [strings.locations.list, 'Is there anything else I can help you with?'],\n          layout: {\n            name: 'show-locations',\n            index: 0\n          },\n          data: {\n            location_data: locationData\n          }\n        }\n      });\n    };\n    dom.back.addEventListener('click', this.locationsFunction);\n  } else {\n    dom.backHolder.parentNode.removeChild(dom.backHolder);\n  }\n  container.appendChild(el);\n  return container;\n};\nShowLocations.prototype.addLocations = function() {\n  var current = state.get();\n  var createDom = function(el, i, uuid) {\n    el.addEventListener('click', this.handleClick);\n    el.dataset.uuid = uuid;\n    el.dataset.id = i + 1;\n    var text = templates.addLocationsItem;\n    el.innerHTML = utils.compile(text, {\n      ns: ns,\n      title: item.label || '',\n      address: item.address.address,\n      iconText: alphaMap[i],\n      accentText: current.styles.accentText,\n      accentBackground: current.styles.accentBackground,\n      distance: distance(item) || '',\n    });\n    this.eventListeners.push(el);\n  };\n\n  var container = document.createElement('div');\n\n  for (var i = 0; (i < displayLength && i < this.data.length); i++) {\n    var el = document.createElement('div');\n    var item = this.data[i];\n    createDom.call(this, el, i, this.uuid);\n    container.appendChild(el);\n  }\n  return container;\n};\n\nmodule.exports = showLocationsLayout;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/layouts/show-locations/index.js\n ** module id = 72\n ** module chunks = 0\n **/","/*\n* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n* in compliance with the License. You may obtain a copy of the License at\n*\n* http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software distributed under the License\n* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n* or implied. See the License for the specific language governing permissions and limitations under\n* the License.\n*/\n\nvar requestFrame = (function() {\n  var raf = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || function(fn) {\n    return window.setTimeout(fn, 20);\n  };\n  return function(fn) {\n    return raf(fn);\n  };\n})();\n\nvar cancelFrame = (function() {\n  var cancel = window.cancelAnimationFrame || window.mozCancelAnimationFrame || window.webkitCancelAnimationFrame ||\n         window.clearTimeout;\n  return function(id) {\n    return cancel(id);\n  };\n})();\n\nfunction resizeListener(e) {\n  var win = e.target || e.srcElement;\n  if (win.__resizeRAF__)\n    cancelFrame(win.__resizeRAF__);\n  win.__resizeRAF__ = requestFrame(function() {\n    var trigger = win.__resizeTrigger__;\n    trigger.__resizeListeners__.forEach(function(fn) {\n      if (fn && typeof fn === 'function')\n        fn.call(trigger, e);\n    });\n  });\n}\n\nfunction objectLoad() {\n  this.contentDocument.defaultView.__resizeTrigger__ = this.__resizeElement__;\n  this.contentDocument.defaultView.addEventListener('resize', resizeListener);\n}\n\nvar addResizeListener = function(element, fn) {\n  if (!element.__resizeListeners__) {\n    element.__resizeListeners__ = [];\n    if (document.attachEvent) {\n      element.__resizeTrigger__ = element;\n      element.attachEvent('onresize', resizeListener);\n    } else {\n      var obj = element.__resizeTrigger__ = document.createElement('object');\n      if (getComputedStyle(element).position == 'static')\n        element.classList.add('IBMChat-relative');\n      obj.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;');\n      obj.__resizeElement__ = element;\n      obj.onload = objectLoad;\n      obj.type = 'text/html';\n      element.appendChild(obj);\n    }\n  }\n  element.__resizeListeners__.push(fn);\n};\n\nvar removeResizeListener = function(element, fn) {\n  element.__resizeListeners__.splice(element.__resizeListeners__.indexOf(fn), 1);\n  if (!element.__resizeListeners__.length) {\n    if (document.attachEvent) {\n      element.detachEvent('onresize', resizeListener);\n    } else if (element.__resizeTrigger__.contentDocument) {\n      element.__resizeTrigger__.contentDocument.defaultView.removeEventListener('resize', resizeListener);\n      element.__resizeTrigger__ = !element.removeChild(element.__resizeTrigger__);\n    }\n  }\n};\n\nmodule.exports = {\n  addResizeListener: addResizeListener,\n  removeResizeListener: removeResizeListener\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/utils/resize.js\n ** module id = 73\n ** module chunks = 0\n **/","/*\n* (C) Copyright IBM Corp. 2017. All Rights Reserved.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n* in compliance with the License. You may obtain a copy of the License at\n*\n* http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software distributed under the License\n* is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n* or implied. See the License for the specific language governing permissions and limitations under\n* the License.\n*/\n\nfunction writeMessage(el, text) {\n  new ParseContent(el, text);\n}\n\nfunction ParseContent(el, text) {\n  this.init(el, text);\n}\n\nfunction validLink(link) {\n  if (link.startsWith('http://') || link.startsWith('https://'))\n    return link;\n  else\n    return 'http://' + link;\n}\n\nfunction isValidURL(str) {\n  var pattern = new RegExp('^(https?:\\\\/\\\\/)?'+ // protocol\n  '((([a-z\\\\d]([a-z\\\\d-]*[a-z\\\\d])*)\\\\.?)+[a-z]{2,}|'+ // domain name\n  '((\\\\d{1,3}\\\\.){3}\\\\d{1,3}))'+ // OR ip (v4) address\n  '(\\\\:\\\\d+)?(\\\\/[-a-z\\\\d%_.~+]*)*'+ // port and path\n  '(\\\\?[;&a-z\\\\d%_.~+=-]*)?'+ // query string\n  '(\\\\#[-a-z\\\\d_]*)?$','i'); // fragment locator\n  return pattern.test(str);\n}\n\nParseContent.prototype.init = function(el, text) {\n  if (text) {\n    var cls = this;\n    var content = [\n      {\n        type: 'span',\n        content: text\n      }\n    ];\n    this.addLineEndings(content)\n      .then(cls.addUrls)\n      .then(cls.addEmails)\n      .then(function(content) {\n        cls.writeMessage(el, content);\n      })\n      .catch(function(e) {\n        console.error(e);\n      });\n  }\n};\n\nParseContent.prototype.writeMessage = function(el, content) {\n  content.map(function(item) {\n    var s = document.createElement(item.type);\n    if (item.content)\n      s.textContent = item.content;\n    if (item.attributes) {\n      Object.keys(item.attributes).map(function(key) {\n        s.setAttribute(key, item.attributes[key]);\n      });\n    }\n    el.appendChild(s);\n  });\n};\n\nParseContent.prototype.addLineEndings = function(content) {\n  return new window.Promise(function(resolve, reject) {\n    try {\n      var newContent = [];\n      for (var i = 0; i < content.length; i++) {\n        var arr = content[i].content.split('\\n');\n        arr.map(function(value, index) {\n          if (value) {\n            newContent.push({\n              content: value,\n              type: 'span'\n            });\n          }\n          if (arr.length != index + 1) {\n            newContent.push({\n              type: 'br'\n            });\n          }\n        });\n      }\n      resolve(newContent);\n    } catch (e) {\n      reject(e);\n    }\n  });\n};\n\nParseContent.prototype.addUrls = function(content) {\n  return new window.Promise(function(resolve, reject) {\n    try {\n      var newContent = [];\n      for (var i = 0; i < content.length; i++) {\n        content[i].content = content[i].content || '';\n        var exp = /(\\b((https?:\\/\\/)|(www\\.))[-A-Z0-9+&@#\\/%?=~_|!:,.;]*[-A-Z0-9+&@#\\/%=~_|])/ig;\n        var splitter = '|^|%|^|';\n        var linked = content[i].content.replace(exp, splitter + '$1' + splitter);\n        var arr = linked.split(splitter);\n        arr.map(function(value) {\n          if (value.search(exp) != -1 && isValidURL(value)) {\n            var link = validLink(value);\n            newContent.push({\n              content: value,\n              type: 'a',\n              attributes: {\n                href: link,\n                target: '_blank'\n              }\n            });\n          } else {\n            newContent.push({\n              content: value,\n              type: content[i].type,\n              attributes: content[i].attributes\n            });\n          }\n        });\n      }\n      resolve(newContent);\n    } catch (e) {\n      reject(e);\n    }\n  });\n};\n\nParseContent.prototype.addEmails = function(content) {\n  return new window.Promise(function(resolve, reject) {\n    try {\n      var newContent = [];\n      for (var i = 0; i < content.length; i++) {\n        if (content[i].content) {\n          var exp = /([a-zA-Z0-9._-]+@[a-zA-Z0-9._-]+\\.[a-zA-Z0-9._-]+)/gi;\n          var linked = content[i].content.replace(exp,'|||$1|||');\n          var arr = linked.split('|||');\n          arr.map(function(value) {\n            var newtext = value.replace(exp, '<a href=\"mailto:$1\" target=\"_blank\">$1</a>');\n            if (newtext === value) {\n              newContent.push({\n                content: value,\n                type: content[i].type,\n                attributes: content[i].attributes\n              });\n            } else {\n              newContent.push({\n                content: value,\n                type: 'a',\n                attributes: {\n                  href: 'mailto:' + value,\n                  target: '_blank'\n                }\n              });\n            }\n          });\n        } else {\n          newContent.push({\n            type: content[i].type,\n            content: content[i].content,\n            attributes: content[i].attributes\n          });\n        }\n      }\n      resolve(newContent);\n    } catch (e) {\n      reject(e);\n    }\n  });\n};\n\nmodule.exports = writeMessage;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/utils/writeMessage.js\n ** module id = 74\n ** module chunks = 0\n **/"],"sourceRoot":""}